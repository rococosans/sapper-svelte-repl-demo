'use strict';

var index = require('./index-10a4cc17.js');
require('yootils');

const subscriber_queue = [];
/**
 * Create a `Writable` store that allows both updating and reading by subscription.
 * @param {*=}value initial value
 * @param {StartStopNotifier=}start start and stop notifications for subscriptions
 */
function writable(value, start = index.noop) {
    let stop;
    const subscribers = [];
    function set(new_value) {
        if (index.safe_not_equal(value, new_value)) {
            value = new_value;
            if (stop) { // store is ready
                const run_queue = !subscriber_queue.length;
                for (let i = 0; i < subscribers.length; i += 1) {
                    const s = subscribers[i];
                    s[1]();
                    subscriber_queue.push(s, value);
                }
                if (run_queue) {
                    for (let i = 0; i < subscriber_queue.length; i += 2) {
                        subscriber_queue[i][0](subscriber_queue[i + 1]);
                    }
                    subscriber_queue.length = 0;
                }
            }
        }
    }
    function update(fn) {
        set(fn(value));
    }
    function subscribe(run, invalidate = index.noop) {
        const subscriber = [run, invalidate];
        subscribers.push(subscriber);
        if (subscribers.length === 1) {
            stop = start(set) || index.noop;
        }
        run(value);
        return () => {
            const index = subscribers.indexOf(subscriber);
            if (index !== -1) {
                subscribers.splice(index, 1);
            }
            if (subscribers.length === 0) {
                stop();
                stop = null;
            }
        };
    }
    return { set, update, subscribe };
}

/* node_modules\@sveltejs\svelte-repl\src\SplitPane.svelte generated by Svelte v3.12.0 */

const css = {
	code: ".container.svelte-zr3pp4{position:relative;width:100%;height:100%}.pane.svelte-zr3pp4{position:relative;float:left;width:100%;height:100%}.mousecatcher.svelte-zr3pp4{position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(255,255,255,.01)}.divider.svelte-zr3pp4{position:absolute;z-index:10;display:none}.divider.svelte-zr3pp4::after{content:'';position:absolute;background-color:var(--second)}.horizontal.svelte-zr3pp4{padding:0 8px;width:0;height:100%;cursor:ew-resize}.horizontal.svelte-zr3pp4::after{left:8px;top:0;width:1px;height:100%}.vertical.svelte-zr3pp4{padding:8px 0;width:100%;height:0;cursor:ns-resize}.vertical.svelte-zr3pp4::after{top:8px;left:0;width:100%;height:1px}.left.svelte-zr3pp4,.right.svelte-zr3pp4,.divider.svelte-zr3pp4{display:block}.left.svelte-zr3pp4,.right.svelte-zr3pp4{height:100%;float:left}.top.svelte-zr3pp4,.bottom.svelte-zr3pp4{position:absolute;width:100%}.top.svelte-zr3pp4{top:0}.bottom.svelte-zr3pp4{bottom:0}",
	map: "{\"version\":3,\"file\":\"SplitPane.svelte\",\"sources\":[\"SplitPane.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport * as yootils from 'yootils';\\n\\timport { createEventDispatcher } from 'svelte';\\n\\n\\tconst dispatch = createEventDispatcher();\\n\\n\\texport let type;\\n\\texport let pos = 50;\\n\\texport let fixed = false;\\n\\texport let min = 50;\\n\\t// export let min1 = min;\\n\\t// export let min2 = min;\\n\\n\\tconst refs = {};\\n\\n\\tlet dragging = false;\\n\\n\\tfunction setPos(event) {\\n\\t\\tconst { top, bottom, left, right } = refs.container.getBoundingClientRect();\\n\\n\\t\\tconst extents = type === 'vertical' ? [top, bottom] : [left, right];\\n\\n\\t\\tconst px = yootils.clamp(\\n\\t\\t\\ttype === 'vertical' ? event.clientY : event.clientX,\\n\\t\\t\\textents[0] + min,\\n\\t\\t\\textents[1] - min\\n\\t\\t);\\n\\n\\t\\tpos = 100 * (px - extents[0]) / (extents[1] - extents[0]);\\n\\n\\t\\tdispatch('change');\\n\\t}\\n\\n\\tfunction drag(node, callback) {\\n\\t\\tconst mousedown = event => {\\n\\t\\t\\tif (event.which !== 1) return;\\n\\n\\t\\t\\tevent.preventDefault();\\n\\n\\t\\t\\tdragging = true;\\n\\n\\t\\t\\tconst onmouseup = () => {\\n\\t\\t\\t\\tdragging = false;\\n\\n\\t\\t\\t\\twindow.removeEventListener('mousemove', callback, false);\\n\\t\\t\\t\\twindow.removeEventListener('mouseup', onmouseup, false);\\n\\t\\t\\t};\\n\\n\\t\\t\\twindow.addEventListener('mousemove', callback, false);\\n\\t\\t\\twindow.addEventListener('mouseup', onmouseup, false);\\n\\t\\t}\\n\\n\\t\\tnode.addEventListener('mousedown', mousedown, false);\\n\\n\\t\\treturn {\\n\\t\\t\\tdestroy() {\\n\\t\\t\\t\\tnode.removeEventListener('mousedown', onmousedown, false);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t}\\n\\n\\t$: side = type === 'horizontal' ? 'left' : 'top';\\n\\t$: dimension = type === 'horizontal' ? 'width' : 'height';\\n</script>\\n\\n<style>\\n\\t.container {\\n\\t\\tposition: relative;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\t.pane {\\n\\t\\tposition: relative;\\n\\t\\tfloat: left;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\t.mousecatcher {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tbackground: rgba(255,255,255,.01);\\n\\t}\\n\\n\\t.divider {\\n\\t\\tposition: absolute;\\n\\t\\tz-index: 10;\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.divider::after {\\n\\t\\tcontent: '';\\n\\t\\tposition: absolute;\\n\\t\\t/* background-color: #eee; */\\n\\t\\tbackground-color: var(--second);\\n\\t}\\n\\n\\t.horizontal {\\n\\t\\tpadding: 0 8px;\\n\\t\\twidth: 0;\\n\\t\\theight: 100%;\\n\\t\\tcursor: ew-resize;\\n\\t}\\n\\n\\t.horizontal::after {\\n\\t\\tleft: 8px;\\n\\t\\ttop: 0;\\n\\t\\twidth: 1px;\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\t.vertical {\\n\\t\\tpadding: 8px 0;\\n\\t\\twidth: 100%;\\n\\t\\theight: 0;\\n\\t\\tcursor: ns-resize;\\n\\t}\\n\\n\\t.vertical::after {\\n\\t\\ttop: 8px;\\n\\t\\tleft: 0;\\n\\t\\twidth: 100%;\\n\\t\\theight: 1px;\\n\\t}\\n\\n\\t.left, .right, .divider {\\n\\t\\tdisplay: block;\\n\\t}\\n\\n\\t.left, .right {\\n\\t\\theight: 100%;\\n\\t\\tfloat: left;\\n\\t}\\n\\n\\t.top, .bottom {\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.top { top: 0; }\\n\\t.bottom { bottom: 0; }\\n</style>\\n\\n<div class=\\\"container\\\" bind:this={refs.container}>\\n\\t<div class=\\\"pane\\\" style=\\\"{dimension}: {pos}%;\\\">\\n\\t\\t<slot name=\\\"a\\\"></slot>\\n\\t</div>\\n\\n\\t<div class=\\\"pane\\\" style=\\\"{dimension}: {100 - (pos)}%;\\\">\\n\\t\\t<slot name=\\\"b\\\"></slot>\\n\\t</div>\\n\\n\\t{#if !fixed}\\n\\t\\t<div class=\\\"{type} divider\\\" style=\\\"{side}: calc({pos}% - 8px)\\\" use:drag={setPos}></div>\\n\\t{/if}\\n</div>\\n\\n{#if dragging}\\n\\t<div class=\\\"mousecatcher\\\"></div>\\n{/if}\"],\"names\":[],\"mappings\":\"AAkEC,UAAU,cAAC,CAAC,AACX,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC,AAED,KAAK,cAAC,CAAC,AACN,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC,AAED,aAAa,cAAC,CAAC,AACd,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,AAClC,CAAC,AAED,QAAQ,cAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,EAAE,CACX,OAAO,CAAE,IAAI,AACd,CAAC,AAED,sBAAQ,OAAO,AAAC,CAAC,AAChB,OAAO,CAAE,EAAE,CACX,QAAQ,CAAE,QAAQ,CAElB,gBAAgB,CAAE,IAAI,QAAQ,CAAC,AAChC,CAAC,AAED,WAAW,cAAC,CAAC,AACZ,OAAO,CAAE,CAAC,CAAC,GAAG,CACd,KAAK,CAAE,CAAC,CACR,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,SAAS,AAClB,CAAC,AAED,yBAAW,OAAO,AAAC,CAAC,AACnB,IAAI,CAAE,GAAG,CACT,GAAG,CAAE,CAAC,CACN,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,IAAI,AACb,CAAC,AAED,SAAS,cAAC,CAAC,AACV,OAAO,CAAE,GAAG,CAAC,CAAC,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,CAAC,CACT,MAAM,CAAE,SAAS,AAClB,CAAC,AAED,uBAAS,OAAO,AAAC,CAAC,AACjB,GAAG,CAAE,GAAG,CACR,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,GAAG,AACZ,CAAC,AAED,mBAAK,CAAE,oBAAM,CAAE,QAAQ,cAAC,CAAC,AACxB,OAAO,CAAE,KAAK,AACf,CAAC,AAED,mBAAK,CAAE,MAAM,cAAC,CAAC,AACd,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,kBAAI,CAAE,OAAO,cAAC,CAAC,AACd,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,IAAI,cAAC,CAAC,AAAC,GAAG,CAAE,CAAC,AAAE,CAAC,AAChB,OAAO,cAAC,CAAC,AAAC,MAAM,CAAE,CAAC,AAAE,CAAC\"}"
};

const SplitPane = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {

	let { type, pos = 50, fixed = false, min = 50 } = $$props;
	// export let min1 = min;
	// export let min2 = min;

	const refs = {};

	let dragging = false;

	if ($$props.type === void 0 && $$bindings.type && type !== void 0) $$bindings.type(type);
	if ($$props.pos === void 0 && $$bindings.pos && pos !== void 0) $$bindings.pos(pos);
	if ($$props.fixed === void 0 && $$bindings.fixed && fixed !== void 0) $$bindings.fixed(fixed);
	if ($$props.min === void 0 && $$bindings.min && min !== void 0) $$bindings.min(min);

	$$result.css.add(css);

	let side = type === 'horizontal' ? 'left' : 'top';
	let dimension = type === 'horizontal' ? 'width' : 'height';

	return `<div class="container svelte-zr3pp4"${index.add_attribute("this", refs.container, 1)}>
		<div class="pane svelte-zr3pp4" style="${index.escape(dimension)}: ${index.escape(pos)}%;">
			${$$slots.a ? $$slots.a({}) : ``}
		</div>

		<div class="pane svelte-zr3pp4" style="${index.escape(dimension)}: ${index.escape(100 - (pos))}%;">
			${$$slots.b ? $$slots.b({}) : ``}
		</div>

		${ !fixed ? `<div class="${index.escape(type)} divider svelte-zr3pp4" style="${index.escape(side)}: calc(${index.escape(pos)}% - 8px)"></div>` : `` }
	</div>

	${ dragging ? `<div class="mousecatcher svelte-zr3pp4"></div>` : `` }`;
});

const is_browser = typeof window !== 'undefined';

/* node_modules\@sveltejs\svelte-repl\src\Message.svelte generated by Svelte v3.12.0 */

const css$1 = {
	code: ".message.svelte-1w07di8{position:relative;color:white;padding:12px 16px 12px 44px;font:400 12px/1.7 var(--font);margin:0;border-top:1px solid white}.navigable.svelte-1w07di8{cursor:pointer}.message.svelte-1w07di8::before{content:'!';position:absolute;left:12px;top:10px;text-align:center;line-height:1;padding:4px;border-radius:50%;color:white;border:2px solid white;box-sizing:content-box;width:10px;height:10px;font-size:11px;font-weight:700}.truncate.svelte-1w07di8{white-space:pre;overflow-x:hidden;text-overflow:ellipsis}p.svelte-1w07di8{margin:0}.info.svelte-1w07di8{background-color:var(--second)}.error.svelte-1w07di8{background-color:#da106e}.warning.svelte-1w07di8{background-color:#e47e0a}",
	map: "{\"version\":3,\"file\":\"Message.svelte\",\"sources\":[\"Message.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { getContext } from 'svelte';\\n\\timport { slide } from 'svelte/transition';\\n\\n\\tconst { navigate } = getContext('REPL');\\n\\n\\texport let kind;\\n\\texport let details = null;\\n\\texport let filename = null;\\n\\texport let truncate;\\n\\n\\tfunction message(details) {\\n\\t\\tlet str = details.message || '[missing message]';\\n\\n\\t\\tlet loc = [];\\n\\n\\t\\tif (details.filename && details.filename !== filename) {\\n\\t\\t\\tloc.push(details.filename);\\n\\t\\t}\\n\\n\\t\\tif (details.start) loc.push(details.start.line, details.start.column);\\n\\n\\t\\treturn str + (loc.length ? ` (${loc.join(':')})` : ``);\\n\\t};\\n</script>\\n\\n<style>\\n\\t.message {\\n\\t\\tposition: relative;\\n\\t\\tcolor: white;\\n\\t\\tpadding: 12px 16px 12px 44px;\\n\\t\\tfont: 400 12px/1.7 var(--font);\\n\\t\\tmargin: 0;\\n\\t\\tborder-top: 1px solid white;\\n\\t}\\n\\n\\t.navigable {\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t.message::before {\\n\\t\\tcontent: '!';\\n\\t\\tposition: absolute;\\n\\t\\tleft: 12px;\\n\\t\\ttop: 10px;\\n\\t\\ttext-align: center;\\n\\t\\tline-height: 1;\\n\\t\\tpadding: 4px;\\n\\t\\tborder-radius: 50%;\\n\\t\\tcolor: white;\\n\\t\\tborder: 2px solid white;\\n\\t\\tbox-sizing: content-box;\\n\\t\\twidth: 10px;\\n\\t\\theight: 10px;\\n\\t\\tfont-size: 11px;\\n\\t\\tfont-weight: 700;\\n\\t}\\n\\n\\t.truncate {\\n\\t\\twhite-space: pre;\\n\\t\\toverflow-x: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\tp {\\n\\t\\tmargin: 0;\\n\\t}\\n\\n\\t.info {\\n\\t\\tbackground-color: var(--second);\\n\\t}\\n\\n\\t.error {\\n\\t\\tbackground-color: #da106e;\\n\\t}\\n\\n\\t.warning {\\n\\t\\tbackground-color: #e47e0a;\\n\\t}\\n</style>\\n\\n<div in:slide={{delay: 150, duration: 100}} out:slide={{duration: 100}} class=\\\"message {kind}\\\" class:truncate>\\n\\t{#if details}\\n\\t\\t<p\\n\\t\\t\\tclass:navigable={details.filename}\\n\\t\\t\\ton:click=\\\"{() => navigate(details)}\\\"\\n\\t\\t>{message(details)}</p>\\n\\t{:else}\\n\\t\\t<slot></slot>\\n\\t{/if}\\n</div>\"],\"names\":[],\"mappings\":\"AA2BC,QAAQ,eAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,KAAK,CACZ,OAAO,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAC5B,IAAI,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAC9B,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,AAC5B,CAAC,AAED,UAAU,eAAC,CAAC,AACX,MAAM,CAAE,OAAO,AAChB,CAAC,AAED,uBAAQ,QAAQ,AAAC,CAAC,AACjB,OAAO,CAAE,GAAG,CACZ,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,IAAI,CACV,GAAG,CAAE,IAAI,CACT,UAAU,CAAE,MAAM,CAClB,WAAW,CAAE,CAAC,CACd,OAAO,CAAE,GAAG,CACZ,aAAa,CAAE,GAAG,CAClB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CACvB,UAAU,CAAE,WAAW,CACvB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,AACjB,CAAC,AAED,SAAS,eAAC,CAAC,AACV,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,MAAM,CAClB,aAAa,CAAE,QAAQ,AACxB,CAAC,AAED,CAAC,eAAC,CAAC,AACF,MAAM,CAAE,CAAC,AACV,CAAC,AAED,KAAK,eAAC,CAAC,AACN,gBAAgB,CAAE,IAAI,QAAQ,CAAC,AAChC,CAAC,AAED,MAAM,eAAC,CAAC,AACP,gBAAgB,CAAE,OAAO,AAC1B,CAAC,AAED,QAAQ,eAAC,CAAC,AACT,gBAAgB,CAAE,OAAO,AAC1B,CAAC\"}"
};

const Message = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const { navigate } = index.getContext('REPL');

	let { kind, details = null, filename = null, truncate } = $$props;

	function message(details) {
		let str = details.message || '[missing message]';

		let loc = [];

		if (details.filename && details.filename !== filename) {
			loc.push(details.filename);
		}

		if (details.start) loc.push(details.start.line, details.start.column);

		return str + (loc.length ? ` (${loc.join(':')})` : ``);
	}
	if ($$props.kind === void 0 && $$bindings.kind && kind !== void 0) $$bindings.kind(kind);
	if ($$props.details === void 0 && $$bindings.details && details !== void 0) $$bindings.details(details);
	if ($$props.filename === void 0 && $$bindings.filename && filename !== void 0) $$bindings.filename(filename);
	if ($$props.truncate === void 0 && $$bindings.truncate && truncate !== void 0) $$bindings.truncate(truncate);

	$$result.css.add(css$1);

	return `<div class="${[`message ${index.escape(kind)} svelte-1w07di8`, truncate ? "truncate" : ""].join(' ').trim() }">
		${ details ? `<p class="${[`svelte-1w07di8`, details.filename ? "navigable" : ""].join(' ').trim() }">${index.escape(message(details))}</p>` : `${$$slots.default ? $$slots.default({}) : ``}` }
	</div>`;
});

/* node_modules\@sveltejs\svelte-repl\src\CodeMirror.svelte generated by Svelte v3.12.0 */

const css$2 = {
	code: ".codemirror-container.svelte-s9cc8a{position:relative;width:100%;height:100%;border:none;line-height:1.5;overflow:hidden}.codemirror-container.svelte-s9cc8a .CodeMirror{height:100%;background:transparent;font:400 14px/1.7 var(--font-mono);color:var(--base)}.codemirror-container.flex.svelte-s9cc8a .CodeMirror{height:auto}.codemirror-container.flex.svelte-s9cc8a .CodeMirror-lines{padding:0}.codemirror-container.svelte-s9cc8a .CodeMirror-gutters{padding:0 16px 0 8px;border:none}.codemirror-container.svelte-s9cc8a .error-loc{position:relative;border-bottom:2px solid #da106e}.codemirror-container.svelte-s9cc8a .error-line{background-color:rgba(200, 0, 0, .05)}textarea.svelte-s9cc8a{visibility:hidden}pre.svelte-s9cc8a{position:absolute;width:100%;height:100%;top:0;left:0;border:none;padding:4px 4px 4px 60px;resize:none;font-family:var(--font-mono);font-size:13px;line-height:1.7;user-select:none;pointer-events:none;color:#ccc;tab-size:2;-moz-tab-size:2}.flex.svelte-s9cc8a pre.svelte-s9cc8a{padding:0 0 0 4px;height:auto}",
	map: "{\"version\":3,\"file\":\"CodeMirror.svelte\",\"sources\":[\"CodeMirror.svelte\"],\"sourcesContent\":[\"<script context=\\\"module\\\">\\n\\timport { is_browser } from './env.js';\\n\\n\\tlet codemirror_promise;\\n\\tlet _CodeMirror;\\n\\n\\tif (is_browser) {\\n\\t\\tcodemirror_promise = import(/* webpackChunkName: \\\"codemirror\\\" */ './codemirror.js');\\n\\n\\t\\tcodemirror_promise.then(mod => {\\n\\t\\t\\t_CodeMirror = mod.default;\\n\\t\\t});\\n\\t}\\n</script>\\n\\n<script>\\n\\timport { onMount, beforeUpdate, createEventDispatcher, getContext } from 'svelte';\\n\\timport Message from './Message.svelte';\\n\\n\\tconst dispatch = createEventDispatcher();\\n\\tconst { navigate } = getContext('REPL');\\n\\n\\texport let readonly = false;\\n\\texport let errorLoc = null;\\n\\texport let flex = false;\\n\\texport let lineNumbers = true;\\n\\texport let tab = true;\\n\\n\\tlet w;\\n\\tlet h;\\n\\tlet code = '';\\n\\tlet mode;\\n\\n\\t// We have to expose set and update methods, rather\\n\\t// than making this state-driven through props,\\n\\t// because it's difficult to update an editor\\n\\t// without resetting scroll otherwise\\n\\texport async function set(new_code, new_mode) {\\n\\t\\tif (new_mode !== mode) {\\n\\t\\t\\tawait createEditor(mode = new_mode);\\n\\t\\t}\\n\\n\\t\\tcode = new_code;\\n\\t\\tupdating_externally = true;\\n\\t\\tif (editor) editor.setValue(code);\\n\\t\\tupdating_externally = false;\\n\\t}\\n\\n\\texport function update(new_code) {\\n\\t\\tcode = new_code;\\n\\n\\t\\tif (editor) {\\n\\t\\t\\tconst { left, top } = editor.getScrollInfo();\\n\\t\\t\\teditor.setValue(code = new_code);\\n\\t\\t\\teditor.scrollTo(left, top);\\n\\t\\t}\\n\\t}\\n\\n\\texport function resize() {\\n\\t\\teditor.refresh();\\n\\t}\\n\\n\\texport function focus() {\\n\\t\\teditor.focus();\\n\\t}\\n\\n\\tconst modes = {\\n\\t\\tjs: {\\n\\t\\t\\tname: 'javascript',\\n\\t\\t\\tjson: false\\n\\t\\t},\\n\\t\\tjson: {\\n\\t\\t\\tname: 'javascript',\\n\\t\\t\\tjson: true\\n\\t\\t},\\n\\t\\tsvelte: {\\n\\t\\t\\tname: 'handlebars',\\n\\t\\t\\tbase: 'text/html'\\n\\t\\t}\\n\\t};\\n\\n\\tconst refs = {};\\n\\tlet editor;\\n\\tlet updating_externally = false;\\n\\tlet marker;\\n\\tlet error_line;\\n\\tlet destroyed = false;\\n\\tlet CodeMirror;\\n\\n\\t$: if (editor && w && h) {\\n\\t\\teditor.refresh();\\n\\t}\\n\\n\\t$: {\\n\\t\\tif (marker) marker.clear();\\n\\n\\t\\tif (errorLoc) {\\n\\t\\t\\tconst line = errorLoc.line - 1;\\n\\t\\t\\tconst ch = errorLoc.column;\\n\\n\\t\\t\\tmarker = editor.markText({ line, ch }, { line, ch: ch + 1 }, {\\n\\t\\t\\t\\tclassName: 'error-loc'\\n\\t\\t\\t});\\n\\n\\t\\t\\terror_line = line;\\n\\t\\t} else {\\n\\t\\t\\terror_line = null;\\n\\t\\t}\\n\\t}\\n\\n\\tlet previous_error_line;\\n\\t$: if (editor) {\\n\\t\\tif (previous_error_line != null) {\\n\\t\\t\\teditor.removeLineClass(previous_error_line, 'wrap', 'error-line')\\n\\t\\t}\\n\\n\\t\\tif (error_line && (error_line !== previous_error_line)) {\\n\\t\\t\\teditor.addLineClass(error_line, 'wrap', 'error-line');\\n\\t\\t\\tprevious_error_line = error_line;\\n\\t\\t}\\n\\t}\\n\\n\\tonMount(() => {\\n\\t\\tif (_CodeMirror) {\\n\\t\\t\\tCodeMirror = _CodeMirror;\\n\\t\\t\\tcreateEditor(mode || 'svelte').then(() => {\\n\\t\\t\\t\\tif (editor) editor.setValue(code || '');\\n\\t\\t\\t});\\n\\t\\t} else {\\n\\t\\t\\tcodemirror_promise.then(async mod => {\\n\\t\\t\\t\\tCodeMirror = mod.default;\\n\\t\\t\\t\\tawait createEditor(mode || 'svelte');\\n\\t\\t\\t\\tif (editor) editor.setValue(code || '');\\n\\t\\t\\t});\\n\\t\\t}\\n\\n\\t\\treturn () => {\\n\\t\\t\\tdestroyed = true;\\n\\t\\t\\tif (editor) editor.toTextArea();\\n\\t\\t}\\n\\t});\\n\\n\\tlet first = true;\\n\\n\\tasync function createEditor(mode) {\\n\\t\\tif (destroyed || !CodeMirror) return;\\n\\n\\t\\tif (editor) editor.toTextArea();\\n\\n\\t\\tconst opts = {\\n\\t\\t\\tlineNumbers,\\n\\t\\t\\tlineWrapping: true,\\n\\t\\t\\tindentWithTabs: true,\\n\\t\\t\\tindentUnit: 2,\\n\\t\\t\\ttabSize: 2,\\n\\t\\t\\tvalue: '',\\n\\t\\t\\tmode: modes[mode] || {\\n\\t\\t\\t\\tname: mode\\n\\t\\t\\t},\\n\\t\\t\\treadOnly: readonly,\\n\\t\\t\\tautoCloseBrackets: true,\\n\\t\\t\\tautoCloseTags: true\\n\\t\\t};\\n\\n\\t\\tif (!tab) opts.extraKeys = {\\n\\t\\t\\tTab: tab,\\n\\t\\t\\t'Shift-Tab': tab\\n\\t\\t};\\n\\n\\t\\t// Creating a text editor is a lot of work, so we yield\\n\\t\\t// the main thread for a moment. This helps reduce jank\\n\\t\\tif (first) await sleep(50);\\n\\n\\t\\tif (destroyed) return;\\n\\n\\t\\teditor = CodeMirror.fromTextArea(refs.editor, opts);\\n\\n\\t\\teditor.on('change', instance => {\\n\\t\\t\\tif (!updating_externally) {\\n\\t\\t\\t\\tconst value = instance.getValue();\\n\\t\\t\\t\\tdispatch('change', { value });\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tif (first) await sleep(50);\\n\\t\\teditor.refresh();\\n\\n\\t\\tfirst = false;\\n\\t}\\n\\n\\tfunction sleep(ms) {\\n\\t\\treturn new Promise(fulfil => setTimeout(fulfil, ms));\\n\\t}\\n</script>\\n\\n<style>\\n\\t.codemirror-container {\\n\\t\\tposition: relative;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tborder: none;\\n\\t\\tline-height: 1.5;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n\\t.codemirror-container :global(.CodeMirror) {\\n\\t\\theight: 100%;\\n\\t\\tbackground: transparent;\\n\\t\\tfont: 400 14px/1.7 var(--font-mono);\\n\\t\\tcolor: var(--base);\\n\\t}\\n\\n\\t.codemirror-container.flex :global(.CodeMirror) {\\n\\t\\theight: auto;\\n\\t}\\n\\n\\t.codemirror-container.flex :global(.CodeMirror-lines) {\\n\\t\\tpadding: 0;\\n\\t}\\n\\n\\t.codemirror-container :global(.CodeMirror-gutters) {\\n\\t\\tpadding: 0 16px 0 8px;\\n\\t\\tborder: none;\\n\\t}\\n\\n\\t.codemirror-container :global(.error-loc) {\\n\\t\\tposition: relative;\\n\\t\\tborder-bottom: 2px solid #da106e;\\n\\t}\\n\\n\\t.codemirror-container :global(.error-line) {\\n\\t\\tbackground-color: rgba(200, 0, 0, .05);\\n\\t}\\n\\n\\ttextarea {\\n\\t\\tvisibility: hidden;\\n\\t}\\n\\n\\tpre {\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\ttop: 0;\\n\\t\\tleft: 0;\\n\\t\\tborder: none;\\n\\t\\tpadding: 4px 4px 4px 60px;\\n\\t\\tresize: none;\\n\\t\\tfont-family: var(--font-mono);\\n\\t\\tfont-size: 13px;\\n\\t\\tline-height: 1.7;\\n\\t\\tuser-select: none;\\n\\t\\tpointer-events: none;\\n\\t\\tcolor: #ccc;\\n\\t\\ttab-size: 2;\\n\\t\\t-moz-tab-size: 2;\\n\\t}\\n\\n\\t.flex pre {\\n\\t\\tpadding: 0 0 0 4px;\\n\\t\\theight: auto;\\n\\t}\\n</style>\\n\\n<div class='codemirror-container' class:flex bind:offsetWidth={w} bind:offsetHeight={h}>\\n\\t<!-- svelte-ignore a11y-positive-tabindex -->\\n\\t<textarea\\n\\t\\ttabindex='2'\\n\\t\\tbind:this={refs.editor}\\n\\t\\treadonly\\n\\t\\tvalue={code}\\n\\t></textarea>\\n\\n\\t{#if !CodeMirror}\\n\\t\\t<pre style=\\\"position: absolute; left: 0; top: 0\\\"\\n\\t\\t>{code}</pre>\\n\\n\\t\\t<div style=\\\"position: absolute; width: 100%; bottom: 0\\\">\\n\\t\\t\\t<Message kind='info'>loading editor...</Message>\\n\\t\\t</div>\\n\\t{/if}\\n</div>\"],\"names\":[],\"mappings\":\"AAoMC,qBAAqB,cAAC,CAAC,AACtB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,IAAI,CACZ,WAAW,CAAE,GAAG,CAChB,QAAQ,CAAE,MAAM,AACjB,CAAC,AAED,mCAAqB,CAAC,AAAQ,WAAW,AAAE,CAAC,AAC3C,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,WAAW,CACvB,IAAI,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,WAAW,CAAC,CACnC,KAAK,CAAE,IAAI,MAAM,CAAC,AACnB,CAAC,AAED,qBAAqB,mBAAK,CAAC,AAAQ,WAAW,AAAE,CAAC,AAChD,MAAM,CAAE,IAAI,AACb,CAAC,AAED,qBAAqB,mBAAK,CAAC,AAAQ,iBAAiB,AAAE,CAAC,AACtD,OAAO,CAAE,CAAC,AACX,CAAC,AAED,mCAAqB,CAAC,AAAQ,mBAAmB,AAAE,CAAC,AACnD,OAAO,CAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CACrB,MAAM,CAAE,IAAI,AACb,CAAC,AAED,mCAAqB,CAAC,AAAQ,UAAU,AAAE,CAAC,AAC1C,QAAQ,CAAE,QAAQ,CAClB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,AACjC,CAAC,AAED,mCAAqB,CAAC,AAAQ,WAAW,AAAE,CAAC,AAC3C,gBAAgB,CAAE,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,AACvC,CAAC,AAED,QAAQ,cAAC,CAAC,AACT,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,GAAG,cAAC,CAAC,AACJ,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CACzB,MAAM,CAAE,IAAI,CACZ,WAAW,CAAE,IAAI,WAAW,CAAC,CAC7B,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,WAAW,CAAE,IAAI,CACjB,cAAc,CAAE,IAAI,CACpB,KAAK,CAAE,IAAI,CACX,QAAQ,CAAE,CAAC,CACX,aAAa,CAAE,CAAC,AACjB,CAAC,AAED,mBAAK,CAAC,GAAG,cAAC,CAAC,AACV,OAAO,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAClB,MAAM,CAAE,IAAI,AACb,CAAC\"}"
};

let codemirror_promise;
let _CodeMirror;

if (is_browser) {
	codemirror_promise = new Promise(function (resolve) { resolve(require(/* webpackChunkName: "codemirror" */ './codemirror-490a5f62.js')); });

	codemirror_promise.then(mod => {
		_CodeMirror = mod.default;
	});
}

function sleep(ms) {
	return new Promise(fulfil => setTimeout(fulfil, ms));
}

const CodeMirror_1 = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const dispatch = index.createEventDispatcher();
	const { navigate } = index.getContext('REPL');

	let { readonly = false, errorLoc = null, flex = false, lineNumbers = true, tab = true } = $$props;

	let w;
	let h;
	let code = '';
	let mode;

	// We have to expose set and update methods, rather
	// than making this state-driven through props,
	// because it's difficult to update an editor
	// without resetting scroll otherwise
	async function set(new_code, new_mode) {
		if (new_mode !== mode) {
			await createEditor(mode = new_mode);
		}

		code = new_code;
		updating_externally = true;
		if (editor) editor.setValue(code);
		updating_externally = false;
	}

	function update(new_code) {
		code = new_code;

		if (editor) {
			const { left, top } = editor.getScrollInfo();
			editor.setValue(code = new_code);
			editor.scrollTo(left, top);
		}
	}

	function resize() {
		editor.refresh();
	}

	function focus() {
		editor.focus();
	}

	const modes = {
		js: {
			name: 'javascript',
			json: false
		},
		json: {
			name: 'javascript',
			json: true
		},
		svelte: {
			name: 'handlebars',
			base: 'text/html'
		}
	};

	const refs = {};
	let editor;
	let updating_externally = false;
	let marker;
	let error_line;
	let destroyed = false;
	let CodeMirror;

	let previous_error_line;

	index.onMount(() => {
		if (_CodeMirror) {
			CodeMirror = _CodeMirror;
			createEditor(mode || 'svelte').then(() => {
				if (editor) editor.setValue(code || '');
			});
		} else {
			codemirror_promise.then(async mod => {
				CodeMirror = mod.default;
				await createEditor(mode || 'svelte');
				if (editor) editor.setValue(code || '');
			});
		}

		return () => {
			destroyed = true;
			if (editor) editor.toTextArea();
		}
	});

	let first = true;

	async function createEditor(mode) {
		if (destroyed || !CodeMirror) return;

		if (editor) editor.toTextArea();

		const opts = {
			lineNumbers,
			lineWrapping: true,
			indentWithTabs: true,
			indentUnit: 2,
			tabSize: 2,
			value: '',
			mode: modes[mode] || {
				name: mode
			},
			readOnly: readonly,
			autoCloseBrackets: true,
			autoCloseTags: true
		};

		if (!tab) opts.extraKeys = {
			Tab: tab,
			'Shift-Tab': tab
		};

		// Creating a text editor is a lot of work, so we yield
		// the main thread for a moment. This helps reduce jank
		if (first) await sleep(50);

		if (destroyed) return;

		editor = CodeMirror.fromTextArea(refs.editor, opts);

		editor.on('change', instance => {
			if (!updating_externally) {
				const value = instance.getValue();
				dispatch('change', { value });
			}
		});

		if (first) await sleep(50);
		editor.refresh();

		first = false;
	}

	if ($$props.readonly === void 0 && $$bindings.readonly && readonly !== void 0) $$bindings.readonly(readonly);
	if ($$props.errorLoc === void 0 && $$bindings.errorLoc && errorLoc !== void 0) $$bindings.errorLoc(errorLoc);
	if ($$props.flex === void 0 && $$bindings.flex && flex !== void 0) $$bindings.flex(flex);
	if ($$props.lineNumbers === void 0 && $$bindings.lineNumbers && lineNumbers !== void 0) $$bindings.lineNumbers(lineNumbers);
	if ($$props.tab === void 0 && $$bindings.tab && tab !== void 0) $$bindings.tab(tab);
	if ($$props.set === void 0 && $$bindings.set && set !== void 0) $$bindings.set(set);
	if ($$props.update === void 0 && $$bindings.update && update !== void 0) $$bindings.update(update);
	if ($$props.resize === void 0 && $$bindings.resize && resize !== void 0) $$bindings.resize(resize);
	if ($$props.focus === void 0 && $$bindings.focus && focus !== void 0) $$bindings.focus(focus);

	$$result.css.add(css$2);

	if (editor && w && h) {
				editor.refresh();
			}
	{
				if (marker) marker.clear();
		
				if (errorLoc) {
					const line = errorLoc.line - 1;
					const ch = errorLoc.column;
		
					marker = editor.markText({ line, ch }, { line, ch: ch + 1 }, {
						className: 'error-loc'
					});
		
					error_line = line;
				} else {
					error_line = null;
				}
			}
	if (editor) {
				if (previous_error_line != null) {
					editor.removeLineClass(previous_error_line, 'wrap', 'error-line');
				}
		
				if (error_line && (error_line !== previous_error_line)) {
					editor.addLineClass(error_line, 'wrap', 'error-line');
					previous_error_line = error_line;
				}
			}

	return `<div class="${[`codemirror-container svelte-s9cc8a`, flex ? "flex" : ""].join(' ').trim() }">

		<textarea tabindex="2" readonly class="svelte-s9cc8a"${index.add_attribute("this", refs.editor, 1)}>${index.escape(code)}</textarea>

		${ !CodeMirror ? `<pre style="position: absolute; left: 0; top: 0" class="svelte-s9cc8a">${index.escape(code)}</pre>

			<div style="position: absolute; width: 100%; bottom: 0">
				${index.validate_component(Message, 'Message').$$render($$result, { kind: "info" }, {}, { default: () => `loading editor...` })}
			</div>` : `` }
	</div>`;
});

/* node_modules\@sveltejs\svelte-repl\src\Input\ComponentSelector.svelte generated by Svelte v3.12.0 */

const css$3 = {
	code: ".component-selector.svelte-1wzo3es{position:relative;border-bottom:1px solid #eee;overflow:hidden}.file-tabs.svelte-1wzo3es{border:none;margin:0;white-space:nowrap;overflow-x:auto;overflow-y:hidden;height:10em}.file-tabs.svelte-1wzo3es .button.svelte-1wzo3es,.file-tabs.svelte-1wzo3es button.svelte-1wzo3es{position:relative;display:inline-block;font:400 12px/1.5 var(--font);background:white;border:none;border-bottom:3px solid transparent;padding:12px 14px 8px 8px;margin:0;color:#999;border-radius:0}.file-tabs.svelte-1wzo3es .button.svelte-1wzo3es:first-child{padding-left:12px}.file-tabs.svelte-1wzo3es .button.active.svelte-1wzo3es{color:#333;border-bottom:3px solid var(--prime)}.editable.svelte-1wzo3es,.uneditable.svelte-1wzo3es,.input-sizer.svelte-1wzo3es,input.svelte-1wzo3es{display:inline-block;position:relative;line-height:1}.input-sizer.svelte-1wzo3es{color:#ccc}input.svelte-1wzo3es{position:absolute;width:100%;left:8px;top:12px;font:400 12px/1.5 var(--font);border:none;color:var(--flash);outline:none;background-color:transparent}.remove.svelte-1wzo3es{position:absolute;display:none;right:1px;top:4px;width:16px;text-align:right;padding:12px 0 12px 5px;font-size:8px;cursor:pointer}.remove.svelte-1wzo3es:hover{color:var(--flash)}.file-tabs.svelte-1wzo3es .button.active .editable.svelte-1wzo3es{cursor:text}.file-tabs.svelte-1wzo3es .button.active .remove.svelte-1wzo3es{display:block}.add-new.svelte-1wzo3es{position:absolute;left:0;top:0;padding:12px 10px 8px 0 !important;height:40px;text-align:center;background-color:white}.add-new.svelte-1wzo3es:hover{color:var(--flash) !important}svg.svelte-1wzo3es{position:relative;overflow:hidden;vertical-align:middle;-o-object-fit:contain;object-fit:contain;-webkit-transform-origin:center center;transform-origin:center center;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none}",
	map: "{\"version\":3,\"file\":\"ComponentSelector.svelte\",\"sources\":[\"ComponentSelector.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { getContext, createEventDispatcher } from 'svelte';\\n\\n\\texport let handle_select;\\n\\n\\tconst { components, selected, request_focus, rebundle } = getContext('REPL');\\n\\n\\tlet editing = null;\\n\\n\\tfunction selectComponent(component) {\\n\\t\\tif ($selected !== component) {\\n\\t\\t\\tediting = null;\\n\\t\\t\\thandle_select(component);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction editTab(component) {\\n\\t\\tif ($selected === component) {\\n\\t\\t\\tediting = $selected;\\n\\t\\t}\\n\\t}\\n\\n\\tfunction closeEdit() {\\n\\t\\tconst match = /(.+)\\\\.(svelte|js)$/.exec($selected.name);\\n\\t\\t$selected.name = match ? match[1] : $selected.name;\\n\\t\\tif (match && match[2]) $selected.type = match[2];\\n\\t\\tediting = null;\\n\\n\\t\\t// re-select, in case the type changed\\n\\t\\thandle_select($selected);\\n\\n\\t\\tcomponents = components; // TODO necessary?\\n\\n\\t\\t// focus the editor, but wait a beat (so key events aren't misdirected)\\n\\t\\tsetTimeout(request_focus);\\n\\n\\t\\trebundle();\\n\\t}\\n\\n\\tfunction remove(component) {\\n\\t\\tlet result = confirm(`Are you sure you want to delete ${component.name}.${component.type}?`);\\n\\n\\t\\tif (result) {\\n\\t\\t\\tconst index = $components.indexOf(component);\\n\\n\\t\\t\\tif (~index) {\\n\\t\\t\\t\\tcomponents.set($components.slice(0, index).concat($components.slice(index + 1)));\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tconsole.error(`Could not find component! That's... odd`);\\n\\t\\t\\t}\\n\\n\\t\\t\\thandle_select($components[index] || $components[$components.length - 1]);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction selectInput(event) {\\n\\t\\tsetTimeout(() => {\\n\\t\\t\\tevent.target.select();\\n\\t\\t});\\n\\t}\\n\\n\\tlet uid = 1;\\n\\n\\tfunction addNew() {\\n\\t\\tconst component = {\\n\\t\\t\\tname: uid++ ? `Component${uid}` : 'Component1',\\n\\t\\t\\ttype: 'svelte',\\n\\t\\t\\tsource: ''\\n\\t\\t};\\n\\n\\t\\tediting = component;\\n\\n\\t\\tsetTimeout(() => {\\n\\t\\t\\t// TODO we can do this without IDs\\n\\t\\t\\tdocument.getElementById(component.name).scrollIntoView(false);\\n\\t\\t});\\n\\n\\t\\tcomponents.update(components => components.concat(component));\\n\\t\\thandle_select(component);\\n\\t}\\n</script>\\n\\n<style>\\n\\t.component-selector {\\n\\t\\tposition: relative;\\n\\t\\tborder-bottom: 1px solid #eee;\\n\\t\\toverflow: hidden;\\n\\t}\\n\\n\\t.file-tabs {\\n\\t\\tborder: none;\\n\\t\\tmargin: 0;\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow-x: auto;\\n\\t\\toverflow-y: hidden;\\n\\t\\theight: 10em;\\n\\t}\\n\\n\\t.file-tabs .button, .file-tabs button {\\n\\t\\tposition: relative;\\n\\t\\tdisplay: inline-block;\\n\\t\\tfont: 400 12px/1.5 var(--font);\\n\\t\\tbackground: white;\\n\\t\\tborder: none;\\n\\t\\tborder-bottom: 3px solid transparent;\\n\\t\\tpadding: 12px 14px 8px 8px;\\n\\t\\tmargin: 0;\\n\\t\\tcolor: #999;\\n\\t\\tborder-radius: 0;\\n\\t}\\n\\n\\t.file-tabs .button:first-child {\\n\\t\\tpadding-left: 12px;\\n\\t}\\n\\n\\t.file-tabs .button.active {\\n\\t\\t/* color: var(--second); */\\n\\t\\tcolor: #333;\\n\\t\\tborder-bottom: 3px solid var(--prime);\\n\\t}\\n\\n\\t.editable, .uneditable, .input-sizer, input {\\n\\t\\tdisplay: inline-block;\\n\\t\\tposition: relative;\\n\\t\\tline-height: 1;\\n\\t}\\n\\n\\t.input-sizer {\\n\\t\\tcolor: #ccc;\\n\\t}\\n\\n\\tinput {\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t\\tleft: 8px;\\n\\t\\ttop: 12px;\\n\\t\\tfont: 400 12px/1.5 var(--font);\\n\\t\\tborder: none;\\n\\t\\tcolor: var(--flash);\\n\\t\\toutline: none;\\n\\t\\tbackground-color: transparent;\\n\\t}\\n\\n\\t.remove {\\n\\t\\tposition: absolute;\\n\\t\\tdisplay: none;\\n\\t\\tright: 1px;\\n\\t\\ttop: 4px;\\n\\t\\twidth: 16px;\\n\\t\\ttext-align: right;\\n\\t\\tpadding: 12px 0 12px 5px;\\n\\t\\tfont-size: 8px;\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t.remove:hover {\\n\\t\\tcolor: var(--flash);\\n\\t}\\n\\n\\t.file-tabs .button.active .editable {\\n\\t\\tcursor: text;\\n\\t}\\n\\n\\t.file-tabs .button.active .remove {\\n\\t\\tdisplay: block;\\n\\t}\\n\\n\\t.add-new {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tpadding: 12px 10px 8px 0 !important;\\n\\t\\theight: 40px;\\n\\t\\ttext-align: center;\\n\\t\\tbackground-color: white;\\n\\t}\\n\\n\\t.add-new:hover {\\n\\t\\tcolor: var(--flash) !important;\\n\\t}\\n\\n\\tsvg {\\n\\t\\tposition: relative;\\n\\t\\toverflow: hidden;\\n\\t\\tvertical-align: middle;\\n\\t\\t-o-object-fit: contain;\\n\\t\\tobject-fit: contain;\\n\\t\\t-webkit-transform-origin: center center;\\n\\t\\ttransform-origin: center center;\\n\\n\\t\\tstroke: currentColor;\\n\\t\\tstroke-width: 2;\\n\\t\\tstroke-linecap: round;\\n\\t\\tstroke-linejoin: round;\\n\\t\\tfill: none;\\n\\t}\\n</style>\\n\\n<div class=\\\"component-selector\\\">\\n\\t{#if $components.length}\\n\\t\\t<div class=\\\"file-tabs\\\" on:dblclick=\\\"{addNew}\\\">\\n\\t\\t\\t{#each $components as component}\\n\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\tid={component.name}\\n\\t\\t\\t\\t\\tclass=\\\"button\\\"\\n\\t\\t\\t\\t\\trole=\\\"button\\\"\\n\\t\\t\\t\\t\\tclass:active=\\\"{component === $selected}\\\"\\n\\t\\t\\t\\t\\ton:click=\\\"{() => selectComponent(component)}\\\"\\n\\t\\t\\t\\t\\ton:dblclick=\\\"{e => e.stopPropagation()}\\\"\\n\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t{#if component.name == 'App'}\\n\\t\\t\\t\\t\\t\\t<div class=\\\"uneditable\\\">\\n\\t\\t\\t\\t\\t\\t\\tApp.svelte\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t{:else}\\n\\t\\t\\t\\t\\t\\t{#if component === editing}\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"input-sizer\\\">{editing.name + (/\\\\./.test(editing.name) ? '' : `.${editing.type}`)}</span>\\n\\n\\t\\t\\t\\t\\t\\t\\t<!-- svelte-ignore a11y-autofocus -->\\n\\t\\t\\t\\t\\t\\t\\t<input\\n\\t\\t\\t\\t\\t\\t\\t\\tautofocus\\n\\t\\t\\t\\t\\t\\t\\t\\tspellcheck={false}\\n\\t\\t\\t\\t\\t\\t\\t\\tbind:value={editing.name}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:focus={selectInput}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:blur={closeEdit}\\n\\t\\t\\t\\t\\t\\t\\t\\ton:keydown={e => e.which === 13 && e.target.blur()}\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t{:else}\\n\\t\\t\\t\\t\\t\\t\\t<div\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"editable\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ttitle=\\\"edit component name\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ton:click=\\\"{() => editTab(component)}\\\"\\n\\t\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t\\t\\t{component.name}.{component.type}\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"remove\\\" on:click=\\\"{() => remove(component)}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<svg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 24 24\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<line stroke=\\\"#999\\\" x1='18' y1='6' x2='6' y2='18' />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<line stroke=\\\"#999\\\" x1='6' y1='6' x2='18' y2='18' />\\n\\t\\t\\t\\t\\t\\t\\t\\t</svg>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t{/each}\\n\\n\\t\\t\\t<button class=\\\"add-new\\\" on:click={addNew} title=\\\"add new component\\\">\\n\\t\\t\\t\\t<svg width=\\\"12\\\" height=\\\"12\\\" viewBox=\\\"0 0 24 24\\\">\\n\\t\\t\\t\\t\\t<line stroke=\\\"#999\\\" x1='12' y1='5' x2='12' y2='19' />\\n\\t\\t\\t\\t\\t<line stroke=\\\"#999\\\" x1='5' y1='12' x2='19' y2='12' />\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t{/if}\\n</div>\\n\"],\"names\":[],\"mappings\":\"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\"}"
};

const ComponentSelector = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $selected, $components;

	let { handle_select } = $$props;

	const { components, selected, request_focus, rebundle } = index.getContext('REPL'); index.validate_store(components, 'components'); $components = index.get_store_value(components); index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);

	let editing = null;

	if ($$props.handle_select === void 0 && $$bindings.handle_select && handle_select !== void 0) $$bindings.handle_select(handle_select);

	$$result.css.add(css$3);

	index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);
	index.validate_store(components, 'components'); $components = index.get_store_value(components);

	return `<div class="component-selector svelte-1wzo3es">
		${ $components.length ? `<div class="file-tabs svelte-1wzo3es">
				${index.each($components, (component) => `<div${index.add_attribute("id", component.name, 0)} class="${[`button svelte-1wzo3es`, component === $selected ? "active" : ""].join(' ').trim() }" role="button">
						${ component.name == 'App' ? `<div class="uneditable svelte-1wzo3es">
								App.svelte
							</div>` : `${ component === editing ? `<span class="input-sizer svelte-1wzo3es">${index.escape(editing.name + (/\./.test(editing.name) ? '' : `.${editing.type}`))}</span>


								<input autofocus${ "" } class="svelte-1wzo3es"${index.add_attribute("value", editing.name, 1)}>` : `<div class="editable svelte-1wzo3es" title="edit component name">
									${index.escape(component.name)}.${index.escape(component.type)}
								</div>

								<span class="remove svelte-1wzo3es">
									<svg width="12" height="12" viewBox="0 0 24 24" class="svelte-1wzo3es">
										<line stroke="#999" x1="18" y1="6" x2="6" y2="18"></line>
										<line stroke="#999" x1="6" y1="6" x2="18" y2="18"></line>
									</svg>
								</span>` }` }
					</div>`)}

				<button class="add-new svelte-1wzo3es" title="add new component">
					<svg width="12" height="12" viewBox="0 0 24 24" class="svelte-1wzo3es">
						<line stroke="#999" x1="12" y1="5" x2="12" y2="19"></line>
						<line stroke="#999" x1="5" y1="12" x2="19" y2="12"></line>
					</svg>
				</button>
			</div>` : `` }
	</div>`;
});

/* node_modules\@sveltejs\svelte-repl\src\Input\ModuleEditor.svelte generated by Svelte v3.12.0 */

const css$4 = {
	code: ".editor-wrapper.svelte-jozebv{z-index:5;background:var(--back-light);display:flex;flex-direction:column}.editor.svelte-jozebv{height:0;flex:1 1 auto}.columns .editor-wrapper.svelte-jozebv{padding-right:8px;height:auto}",
	map: "{\"version\":3,\"file\":\"ModuleEditor.svelte\",\"sources\":[\"ModuleEditor.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { getContext, onMount } from 'svelte';\\n\\timport CodeMirror from '../CodeMirror.svelte';\\n\\timport Message from '../Message.svelte';\\n\\n\\tconst { bundle, selected, handle_change, navigate, register_module_editor } = getContext('REPL');\\n\\n\\texport let errorLoc;\\n\\n\\tlet editor;\\n\\tonMount(() => {\\n\\t\\tregister_module_editor(editor);\\n\\t});\\n\\n\\texport function focus() {\\n\\t\\teditor.focus();\\n\\t}\\n</script>\\n\\n<style>\\n\\t.editor-wrapper {\\n\\t\\tz-index: 5;\\n\\t\\tbackground: var(--back-light);\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t.editor {\\n\\t\\theight: 0;\\n\\t\\tflex: 1 1 auto;\\n\\t}\\n\\n\\t:global(.columns) .editor-wrapper {\\n\\t\\t/* make it easier to interact with scrollbar */\\n\\t\\tpadding-right: 8px;\\n\\t\\theight: auto;\\n\\t\\t/* height: 100%; */\\n\\t}\\n</style>\\n\\n<div class=\\\"editor-wrapper\\\">\\n\\t<div class=\\\"editor\\\">\\n\\t\\t<CodeMirror\\n\\t\\t\\tbind:this={editor}\\n\\t\\t\\t{errorLoc}\\n\\t\\t\\ton:change={handle_change}\\n\\t\\t/>\\n\\t</div>\\n\\n\\t<div class=\\\"info\\\">\\n\\t\\t{#if $bundle}\\n\\t\\t\\t{#if $bundle.error}\\n\\t\\t\\t\\t<Message kind=\\\"error\\\" details={$bundle.error} filename=\\\"{$selected.name}.{$selected.type}\\\"/>\\n\\t\\t\\t{:else if $bundle.warnings.length > 0}\\n\\t\\t\\t\\t{#each $bundle.warnings as warning}\\n\\t\\t\\t\\t\\t<Message kind=\\\"warning\\\" details={warning} filename=\\\"{$selected.name}.{$selected.type}\\\"/>\\n\\t\\t\\t\\t{/each}\\n\\t\\t\\t{/if}\\n\\t\\t{/if}\\n\\t</div>\\n</div>\"],\"names\":[],\"mappings\":\"AAoBC,eAAe,cAAC,CAAC,AAChB,OAAO,CAAE,CAAC,CACV,UAAU,CAAE,IAAI,YAAY,CAAC,CAC7B,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,AACvB,CAAC,AAED,OAAO,cAAC,CAAC,AACR,MAAM,CAAE,CAAC,CACT,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,IAAI,AACf,CAAC,AAEO,QAAQ,AAAC,CAAC,eAAe,cAAC,CAAC,AAElC,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,IAAI,AAEb,CAAC\"}"
};

const ModuleEditor = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $bundle, $selected;

	

	const { bundle, selected, handle_change, navigate, register_module_editor } = index.getContext('REPL'); index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle); index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);

	let { errorLoc } = $$props;

	let editor;
	index.onMount(() => {
		register_module_editor(editor);
	});

	function focus() {
		editor.focus();
	}

	if ($$props.errorLoc === void 0 && $$bindings.errorLoc && errorLoc !== void 0) $$bindings.errorLoc(errorLoc);
	if ($$props.focus === void 0 && $$bindings.focus && focus !== void 0) $$bindings.focus(focus);

	$$result.css.add(css$4);

	let $$settled;
	let $$rendered;

	do {
		$$settled = true;

		index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle);
		index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);

		$$rendered = `<div class="editor-wrapper svelte-jozebv">
			<div class="editor svelte-jozebv">
				${index.validate_component(CodeMirror_1, 'CodeMirror').$$render($$result, { errorLoc: errorLoc, this: editor }, {
			this: $$value => { editor = $$value; $$settled = false; }
		}, {})}
			</div>

			<div class="info">
				${ $bundle ? `${ $bundle.error ? `${index.validate_component(Message, 'Message').$$render($$result, {
			kind: "error",
			details: $bundle.error,
			filename: `${index.escape($selected.name)}.${index.escape($selected.type)}`
		}, {}, {})}` : `${ $bundle.warnings.length > 0 ? `${index.each($bundle.warnings, (warning) => `${index.validate_component(Message, 'Message').$$render($$result, {
			kind: "warning",
			details: warning,
			filename: `${index.escape($selected.name)}.${index.escape($selected.type)}`
		}, {}, {})}`)}` : `` }` }` : `` }
			</div>
		</div>`;
	} while (!$$settled);

	return $$rendered;
});

var charToInteger = {};
var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';
for (var i = 0; i < chars.length; i++) {
    charToInteger[chars.charCodeAt(i)] = i;
}
function decode(mappings) {
    var generatedCodeColumn = 0; // first field
    var sourceFileIndex = 0; // second field
    var sourceCodeLine = 0; // third field
    var sourceCodeColumn = 0; // fourth field
    var nameIndex = 0; // fifth field
    var decoded = [];
    var line = [];
    var segment = [];
    for (var i = 0, j = 0, shift = 0, value = 0, len = mappings.length; i < len; i++) {
        var c = mappings.charCodeAt(i);
        if (c === 44) { // ","
            if (segment.length)
                line.push(segment);
            segment = [];
            j = 0;
        }
        else if (c === 59) { // ";"
            if (segment.length)
                line.push(segment);
            segment = [];
            j = 0;
            decoded.push(line);
            line = [];
            generatedCodeColumn = 0;
        }
        else {
            var integer = charToInteger[c];
            if (integer === undefined) {
                throw new Error('Invalid character (' + String.fromCharCode(c) + ')');
            }
            var hasContinuationBit = integer & 32;
            integer &= 31;
            value += integer << shift;
            if (hasContinuationBit) {
                shift += 5;
            }
            else {
                var shouldNegate = value & 1;
                value >>>= 1;
                if (shouldNegate) {
                    value = -value;
                    if (value === 0)
                        value = -0x80000000;
                }
                if (j == 0) {
                    generatedCodeColumn += value;
                    segment.push(generatedCodeColumn);
                }
                else if (j === 1) {
                    sourceFileIndex += value;
                    segment.push(sourceFileIndex);
                }
                else if (j === 2) {
                    sourceCodeLine += value;
                    segment.push(sourceCodeLine);
                }
                else if (j === 3) {
                    sourceCodeColumn += value;
                    segment.push(sourceCodeColumn);
                }
                else if (j === 4) {
                    nameIndex += value;
                    segment.push(nameIndex);
                }
                j++;
                value = shift = 0; // reset
            }
        }
    }
    if (segment.length)
        line.push(segment);
    decoded.push(line);
    return decoded;
}

function getLocationFromStack(stack, map) {
	if (!stack) return;
	const last = stack.split('\n')[1];
	const match = /<anonymous>:(\d+):(\d+)\)$/.exec(last);

	if (!match) return null;

	const line = +match[1];
	const column = +match[2];

	return trace({ line, column }, map);
}

function trace(loc, map) {
	const mappings = decode(map.mappings);
	const segments = mappings[loc.line - 1];

	for (let i = 0; i < segments.length; i += 1) {
		const segment = segments[i];
		if (segment[0] === loc.column) {
			const [, sourceIndex, line, column] = segment;
			const source = map.sources[sourceIndex].slice(2);

			return { source, line: line + 1, column };
		}
	}

	return null;
}

let uid = 1;

class ReplProxy {
	constructor(iframe, handlers) {
		this.iframe = iframe;
		this.handlers = handlers;

		this.pending_cmds = new Map();

		this.handle_event = e => this.handle_repl_message(e);
		window.addEventListener('message', this.handle_event, false);
	}

	destroy() {
		window.removeEventListener('message', this.handle_event);
	}

	iframe_command(action, args) {
		return new Promise((resolve, reject) => {
			const cmd_id = uid++;

			this.pending_cmds.set(cmd_id, { resolve, reject });

			this.iframe.contentWindow.postMessage({ action, cmd_id, args }, '*');
		});
	}

	handle_command_message(cmd_data) {
		let action = cmd_data.action;
		let id = cmd_data.cmd_id;
		let handler = this.pending_cmds.get(id);

		if (handler) {
			this.pending_cmds.delete(id);
			if (action === 'cmd_error') {
				let { message, stack } = cmd_data;
				let e = new Error(message);
				e.stack = stack;
				handler.reject(e);
			}

			if (action === 'cmd_ok') {
				handler.resolve(cmd_data.args);
			}
		} else {
			console.error('command not found', id, cmd_data, [...this.pending_cmds.keys()]);
		}
	}

	handle_repl_message(event) {
		if (event.source !== this.iframe.contentWindow) return;

		const { action, args } = event.data;

		if (action === 'cmd_error' || action === 'cmd_ok') {
			this.handle_command_message(event.data);
		}

		if (action === 'fetch_progress') {
			this.handlers.on_fetch_progress(args.remaining);
		}
	}

	eval(script) {
		return this.iframe_command('eval', { script });
	}

	handle_links() {
		return this.iframe_command('catch_clicks', {});
	}
}

var srcdoc = "<!doctype html>\n<html>\n\t<head>\n\t\t<style>\n\t\t\thtml, body {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\nbody {\n\tcolor: #333;\n\tmargin: 0;\n\tpadding: 8px;\n\tbox-sizing: border-box;\n\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n}\n\na {\n\tcolor: rgb(0,100,200);\n\ttext-decoration: none;\n}\n\na:hover {\n\ttext-decoration: underline;\n}\n\na:visited {\n\tcolor: rgb(0,80,160);\n}\n\nlabel {\n\tdisplay: block;\n}\n\ninput, button, select, textarea {\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tpadding: 0.4em;\n\tmargin: 0 0 0.5em 0;\n\tbox-sizing: border-box;\n\tborder: 1px solid #ccc;\n\tborder-radius: 2px;\n}\n\ninput:disabled {\n\tcolor: #ccc;\n}\n\ninput[type=\"range\"] {\n\theight: 0;\n}\n\nbutton {\n\tbackground-color: #f4f4f4;\n\toutline: none;\n}\n\nbutton:active {\n\tbackground-color: #ddd;\n}\n\nbutton:focus {\n\tborder-color: #666;\n}\n\t\t</style>\n\n\t\t<script>\n\t\t\t(function(){\n\t\t\t\tfunction handle_message(ev) {\n\t\t\t\t\tlet { action, cmd_id } = ev.data;\n\t\t\t\t\tconst send_message = (payload) => parent.postMessage( { ...payload }, ev.origin);\n\t\t\t\t\tconst send_reply = (payload) => send_message({ ...payload, cmd_id });\n\t\t\t\t\tconst send_ok = () => send_reply({ action: 'cmd_ok' });\n\t\t\t\t\tconst send_error = (message, stack) => send_reply({ action: 'cmd_error', message, stack });\n\n\t\t\t\t\tif (action === 'eval') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst { script } = ev.data.args;\n\t\t\t\t\t\t\teval(script);\n\t\t\t\t\t\t\tsend_ok();\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tsend_error(e.message, e.stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action === 'catch_clicks') {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst top_origin = ev.origin;\n\t\t\t\t\t\t\tdocument.body.addEventListener('click', event => {\n\t\t\t\t\t\t\t\tif (event.which !== 1) return;\n\t\t\t\t\t\t\t\tif (event.metaKey || event.ctrlKey || event.shiftKey) return;\n\t\t\t\t\t\t\t\tif (event.defaultPrevented) return;\n\n\t\t\t\t\t\t\t\t// ensure target is a link\n\t\t\t\t\t\t\t\tlet el = event.target;\n\t\t\t\t\t\t\t\twhile (el && el.nodeName !== 'A') el = el.parentNode;\n\t\t\t\t\t\t\t\tif (!el || el.nodeName !== 'A') return;\n\n\t\t\t\t\t\t\t\tif (el.hasAttribute('download') || el.getAttribute('rel') === 'external' || el.target) return;\n\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t\t\tif (el.href.startsWith(top_origin)) {\n\t\t\t\t\t\t\t\t\tconst url = new URL(el.href);\n\t\t\t\t\t\t\t\t\tif (url.hash[0] === '#') {\n\t\t\t\t\t\t\t\t\t\twindow.location.hash = url.hash;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\twindow.open(el.href, '_blank');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsend_ok();\n\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\tsend_error(e.message, e.stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twindow.addEventListener('message', handle_message, false);\n\t\t\t}).call(this);\n\t\t</script>\n\t</head>\n\t<body></body>\n</html>";

/* node_modules\@sveltejs\svelte-repl\src\Output\Viewer.svelte generated by Svelte v3.12.0 */

const css$5 = {
	code: ".iframe-container.svelte-16cfj92{position:absolute;background-color:white;border:none;width:100%;height:100%}iframe.svelte-16cfj92{width:100%;height:100%;border:none;display:block}.greyed-out.svelte-16cfj92{filter:grayscale(50%) blur(1px);opacity:.25}.overlay.svelte-16cfj92{position:absolute;bottom:0;width:100%}",
	map: "{\"version\":3,\"file\":\"Viewer.svelte\",\"sources\":[\"Viewer.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { onMount, createEventDispatcher, getContext } from 'svelte';\\n\\timport getLocationFromStack from './getLocationFromStack.js';\\n\\timport ReplProxy from './ReplProxy.js';\\n\\timport Message from '../Message.svelte';\\n\\timport srcdoc from './srcdoc/index.js';\\n\\timport { decode } from 'sourcemap-codec';\\n\\n\\tconst dispatch = createEventDispatcher();\\n\\tconst { bundle, navigate } = getContext('REPL');\\n\\n\\texport let error; // TODO should this be exposed as a prop?\\n\\n\\texport function setProp(prop, value) {\\n\\t\\tif (!proxy) return;\\n\\t\\tproxy.setProp(prop, value);\\n\\t}\\n\\n\\texport let status;\\n\\texport let relaxed = false;\\n\\texport let injectedJS = '';\\n\\texport let injectedCSS = '';\\n\\n\\tlet iframe;\\n\\tlet pending_imports = 0;\\n\\tlet pending = false;\\n\\n\\tlet proxy = null;\\n\\n\\tlet ready = false;\\n\\tlet inited = false;\\n\\n\\tonMount(() => {\\n\\t\\tproxy = new ReplProxy(iframe, {\\n\\t\\t\\ton_fetch_progress: progress => {\\n\\t\\t\\t\\tpending_imports = progress;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tiframe.addEventListener('load', () => {\\n\\t\\t\\tproxy.handle_links();\\n\\t\\t\\tready = true;\\n\\t\\t});\\n\\n\\t\\treturn () => {\\n\\t\\t\\tproxy.destroy();\\n\\t\\t}\\n\\t});\\n\\n\\tasync function apply_bundle($bundle) {\\n\\t\\tif (!$bundle || $bundle.error) return;\\n\\n\\t\\ttry {\\n\\t\\t\\tawait proxy.eval(`\\n\\t\\t\\t\\t${injectedJS}\\n\\n\\t\\t\\t\\t${styles}\\n\\n\\t\\t\\t\\tconst styles = document.querySelectorAll('style[id^=svelte-]');\\n\\n\\t\\t\\t\\t${$bundle.dom.code}\\n\\n\\t\\t\\t\\tlet i = styles.length;\\n\\t\\t\\t\\twhile (i--) styles[i].parentNode.removeChild(styles[i]);\\n\\n\\t\\t\\t\\tif (window.component) {\\n\\t\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\t\\twindow.component.$destroy();\\n\\t\\t\\t\\t\\t} catch (err) {\\n\\t\\t\\t\\t\\t\\tconsole.error(err);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tdocument.body.innerHTML = '';\\n\\t\\t\\t\\twindow.location.hash = '';\\n\\t\\t\\t\\twindow._svelteTransitionManager = null;\\n\\n\\t\\t\\t\\twindow.component = new SvelteComponent.default({\\n\\t\\t\\t\\t\\ttarget: document.body\\n\\t\\t\\t\\t});\\n\\t\\t\\t`);\\n\\n\\t\\t\\terror = null;\\n\\t\\t} catch (e) {\\n\\t\\t\\tconst loc = getLocationFromStack(e.stack, $bundle.dom.map);\\n\\t\\t\\tif (loc) {\\n\\t\\t\\t\\te.filename = loc.source;\\n\\t\\t\\t\\te.loc = { line: loc.line, column: loc.column };\\n\\t\\t\\t}\\n\\n\\t\\t\\terror = e;\\n\\t\\t}\\n\\n\\t\\tinited = true;\\n\\t}\\n\\n\\t$: if (ready) apply_bundle($bundle);\\n\\n\\t$: styles = injectedCSS && `{\\n\\t\\tconst style = document.createElement('style');\\n\\t\\tstyle.textContent = ${JSON.stringify(injectedCSS)};\\n\\t\\tdocument.head.appendChild(style);\\n\\t}`;\\n</script>\\n\\n<style>\\n\\t.iframe-container {\\n\\t\\tposition: absolute;\\n\\t\\tbackground-color: white;\\n\\t\\tborder: none;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\tiframe {\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\t/* height: calc(100vh - var(--nav-h)); */\\n\\t\\tborder: none;\\n\\t\\tdisplay: block;\\n\\t}\\n\\n\\t.greyed-out {\\n\\t\\tfilter: grayscale(50%) blur(1px);\\n\\t\\topacity: .25;\\n\\t}\\n\\n\\t.overlay {\\n\\t\\tposition: absolute;\\n\\t\\tbottom: 0;\\n\\t\\twidth: 100%;\\n\\t}\\n</style>\\n\\n<div class=\\\"iframe-container\\\">\\n\\t<iframe\\n\\t\\ttitle=\\\"Result\\\"\\n\\t\\tclass:inited\\n\\t\\tbind:this={iframe}\\n\\t\\tsandbox=\\\"allow-popups-to-escape-sandbox allow-scripts allow-popups allow-forms allow-pointer-lock allow-top-navigation allow-modals {relaxed ? 'allow-same-origin' : ''}\\\"\\n\\t\\tclass=\\\"{error || pending || pending_imports ? 'greyed-out' : ''}\\\"\\n\\t\\t{srcdoc}\\n\\t></iframe>\\n\\n\\t<div class=\\\"overlay\\\">\\n\\t\\t{#if error}\\n\\t\\t\\t<Message kind=\\\"error\\\" details={error}/>\\n\\t\\t{:else if status || !$bundle}\\n\\t\\t\\t<Message kind=\\\"info\\\" truncate>{status || 'loading Svelte compiler...'}</Message>\\n\\t\\t{/if}\\n\\t</div>\\n</div>\"],\"names\":[],\"mappings\":\"AA0GC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,gBAAgB,CAAE,KAAK,CACvB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC,AAED,MAAM,eAAC,CAAC,AACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CAEZ,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,KAAK,AACf,CAAC,AAED,WAAW,eAAC,CAAC,AACZ,MAAM,CAAE,UAAU,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAChC,OAAO,CAAE,GAAG,AACb,CAAC,AAED,QAAQ,eAAC,CAAC,AACT,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,CAAC,CACT,KAAK,CAAE,IAAI,AACZ,CAAC\"}"
};

let pending = false;

const Viewer = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $bundle;
	const { bundle, navigate } = index.getContext('REPL'); index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle);

	let { error } = $$props; // TODO should this be exposed as a prop?

	function setProp(prop, value) {
		if (!proxy) return;
		proxy.setProp(prop, value);
	}

	let { status, relaxed = false, injectedJS = '', injectedCSS = '' } = $$props;

	let iframe;
	let pending_imports = 0;

	let proxy = null;

	let ready = false;
	let inited = false;

	index.onMount(() => {
		proxy = new ReplProxy(iframe, {
			on_fetch_progress: progress => {
				pending_imports = progress;
			}
		});

		iframe.addEventListener('load', () => {
			proxy.handle_links();
			ready = true;
		});

		return () => {
			proxy.destroy();
		}
	});

	async function apply_bundle($bundle) {
		if (!$bundle || $bundle.error) return;

		try {
			await proxy.eval(`
				${injectedJS}

				${styles}

				const styles = document.querySelectorAll('style[id^=svelte-]');

				${$bundle.dom.code}

				let i = styles.length;
				while (i--) styles[i].parentNode.removeChild(styles[i]);

				if (window.component) {
					try {
						window.component.$destroy();
					} catch (err) {
						console.error(err);
					}
				}

				document.body.innerHTML = '';
				window.location.hash = '';
				window._svelteTransitionManager = null;

				window.component = new SvelteComponent.default({
					target: document.body
				});
			`);

			error = null;
		} catch (e) {
			const loc = getLocationFromStack(e.stack, $bundle.dom.map);
			if (loc) {
				e.filename = loc.source;
				e.loc = { line: loc.line, column: loc.column };
			}

			error = e;
		}

		inited = true;
	}

	if ($$props.error === void 0 && $$bindings.error && error !== void 0) $$bindings.error(error);
	if ($$props.setProp === void 0 && $$bindings.setProp && setProp !== void 0) $$bindings.setProp(setProp);
	if ($$props.status === void 0 && $$bindings.status && status !== void 0) $$bindings.status(status);
	if ($$props.relaxed === void 0 && $$bindings.relaxed && relaxed !== void 0) $$bindings.relaxed(relaxed);
	if ($$props.injectedJS === void 0 && $$bindings.injectedJS && injectedJS !== void 0) $$bindings.injectedJS(injectedJS);
	if ($$props.injectedCSS === void 0 && $$bindings.injectedCSS && injectedCSS !== void 0) $$bindings.injectedCSS(injectedCSS);

	$$result.css.add(css$5);

	index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle);

	if (ready) apply_bundle($bundle);
	let styles = injectedCSS && `{
		const style = document.createElement('style');
		style.textContent = ${JSON.stringify(injectedCSS)};
		document.head.appendChild(style);
	}`;

	return `<div class="iframe-container svelte-16cfj92">
		<iframe title="Result" sandbox="allow-popups-to-escape-sandbox allow-scripts allow-popups allow-forms allow-pointer-lock allow-top-navigation allow-modals ${index.escape(relaxed ? 'allow-same-origin' : '')}" class="${[`${index.escape(index.null_to_empty(error || pending || pending_imports ? 'greyed-out' : ''))} svelte-16cfj92`, inited ? "inited" : ""].join(' ').trim() }"${index.add_attribute("srcdoc", srcdoc, 0)}${index.add_attribute("this", iframe, 1)}></iframe>

		<div class="overlay svelte-16cfj92">
			${ error ? `${index.validate_component(Message, 'Message').$$render($$result, { kind: "error", details: error }, {}, {})}` : `${ status || !$bundle ? `${index.validate_component(Message, 'Message').$$render($$result, { kind: "info", truncate: true }, {}, {
		default: () => `${index.escape(status || 'loading Svelte compiler...')}`
	})}` : `` }` }
		</div>
	</div>`;
});

/* node_modules\@sveltejs\svelte-repl\src\Output\CompilerOptions.svelte generated by Svelte v3.12.0 */

const css$6 = {
	code: ".options.svelte-159cly1{padding:0 10px;font-family:var(--font-mono);font-size:13px;color:#999;line-height:1.8}.option.svelte-159cly1{display:block;padding:0 0 0 1.25em;white-space:nowrap;color:#333;user-select:none}.key.svelte-159cly1{display:inline-block;width:9em}.string.svelte-159cly1{color:hsl(41, 37%, 45%)}.boolean.svelte-159cly1{color:hsl(45, 7%, 45%)}label.svelte-159cly1{display:inline-block}label[for].svelte-159cly1{color:var(--string)}input[type=checkbox].svelte-159cly1{top:-1px}input[type=radio].svelte-159cly1{position:absolute;top:auto;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);width:1px;height:1px;white-space:nowrap}input[type=radio]+label.svelte-159cly1{padding:0 0 0 1.6em;margin:0 0.6em 0 0;opacity:0.7}input[type=radio]:checked+label.svelte-159cly1{opacity:1}input[type=radio]+label.svelte-159cly1:before{content:'';background:#eee;display:block;box-sizing:border-box;float:left;width:15px;height:15px;margin-left:-21px;margin-top:4px;vertical-align:top;cursor:pointer;text-align:center;transition:box-shadow 0.1s ease-out}input[type=radio]+label.svelte-159cly1:before{background-color:var(--second);border-radius:100%;box-shadow:inset 0 0 0 0.5em rgba(255, 255, 255, .95);border:1px solid var(--second)}input[type=radio]:checked+label.svelte-159cly1:before{background-color:var(--prime);box-shadow:inset 0 0 0 .15em rgba(255, 255, 255, .95);border:1px solid var(--second);transition:box-shadow 0.2s ease-out}",
	map: "{\"version\":3,\"file\":\"CompilerOptions.svelte\",\"sources\":[\"CompilerOptions.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { getContext } from 'svelte';\\n\\n\\tconst { compile_options } = getContext('REPL');\\n</script>\\n\\n<style>\\n\\t.options {\\n\\t\\tpadding: 0 10px;\\n\\t\\tfont-family: var(--font-mono);\\n\\t\\tfont-size: 13px;\\n\\t\\tcolor: #999;\\n\\t\\tline-height: 1.8;\\n\\t}\\n\\n\\t.option {\\n\\t\\tdisplay: block;\\n\\t\\tpadding: 0 0 0 1.25em;\\n\\t\\twhite-space: nowrap;\\n\\t\\tcolor: #333;\\n\\t\\tuser-select: none;\\n\\t}\\n\\n\\t.key {\\n\\t\\tdisplay: inline-block;\\n\\t\\twidth: 9em;\\n\\t}\\n\\n\\t.string {\\n\\t\\tcolor: hsl(41, 37%, 45%);\\n\\t}\\n\\n\\t.boolean {\\n\\t\\tcolor: hsl(45, 7%, 45%);\\n\\t}\\n\\n\\tlabel {\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\tlabel[for] {\\n\\t\\tcolor: var(--string);\\n\\t}\\n\\n\\tinput[type=checkbox] {\\n\\t\\ttop: -1px;\\n\\t}\\n\\n\\tinput[type=radio] {\\n\\t\\tposition: absolute;\\n\\t\\ttop: auto;\\n\\t\\toverflow: hidden;\\n\\t\\tclip: rect(1px, 1px, 1px, 1px);\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\n\\tinput[type=radio] + label {\\n\\t\\tpadding: 0 0 0 1.6em;\\n\\t\\tmargin: 0 0.6em 0 0;\\n\\t\\topacity: 0.7;\\n\\t}\\n\\n\\tinput[type=radio]:checked + label {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\t/* input[type=radio]:focus + label {\\n\\t\\tcolor: #00f;\\n\\t\\toutline: 1px dotted #00f;\\n\\t} */\\n\\n\\tinput[type=radio] + label:before {\\n\\t\\tcontent: '';\\n\\t\\tbackground: #eee;\\n\\t\\tdisplay: block;\\n\\t\\tbox-sizing: border-box;\\n\\t\\tfloat: left;\\n\\t\\twidth: 15px;\\n\\t\\theight: 15px;\\n\\t\\tmargin-left: -21px;\\n\\t\\tmargin-top: 4px;\\n\\t\\tvertical-align: top;\\n\\t\\tcursor: pointer;\\n\\t\\ttext-align: center;\\n\\t\\ttransition: box-shadow 0.1s ease-out;\\n\\t}\\n\\n\\tinput[type=radio] + label:before {\\n\\t\\tbackground-color: var(--second);\\n\\t\\tborder-radius: 100%;\\n\\t\\tbox-shadow: inset 0 0 0 0.5em rgba(255, 255, 255, .95);\\n\\t\\tborder: 1px solid var(--second);\\n\\t}\\n\\n\\tinput[type=radio]:checked + label:before {\\n\\t\\tbackground-color: var(--prime);\\n\\t\\tbox-shadow: inset 0 0 0 .15em rgba(255, 255, 255, .95);\\n\\t\\tborder: 1px solid var(--second);\\n\\t\\ttransition: box-shadow 0.2s ease-out;\\n\\t}\\n</style>\\n\\n<div class=\\\"options\\\">\\n\\tresult = svelte.compile(source, &#123;\\n\\t<div class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">generate:</span>\\n\\n\\t\\t<input id=\\\"dom-input\\\" type=\\\"radio\\\" bind:group={$compile_options.generate} value=\\\"dom\\\">\\n\\t\\t<label for=\\\"dom-input\\\"><span class=\\\"string\\\">\\\"dom\\\"</span></label>\\n\\n\\t\\t<input id=\\\"ssr-input\\\" type=\\\"radio\\\" bind:group={$compile_options.generate} value=\\\"ssr\\\">\\n\\t\\t<label for=\\\"ssr-input\\\"><span class=\\\"string\\\">\\\"ssr\\\"</span>,</label>\\n\\t</div>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">dev:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.dev}> <span class=\\\"boolean\\\">{$compile_options.dev}</span>,\\n\\t</label>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">css:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.css}> <span class=\\\"boolean\\\">{$compile_options.css}</span>,\\n\\t</label>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">hydratable:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.hydratable}> <span class=\\\"boolean\\\">{$compile_options.hydratable}</span>,\\n\\t</label>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">customElement:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.customElement}> <span class=\\\"boolean\\\">{$compile_options.customElement}</span>,\\n\\t</label>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">immutable:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.immutable}> <span class=\\\"boolean\\\">{$compile_options.immutable}</span>,\\n\\t</label>\\n\\n\\t<label class=\\\"option\\\">\\n\\t\\t<span class=\\\"key\\\">legacy:</span>\\n\\t\\t<input type=\\\"checkbox\\\" bind:checked={$compile_options.legacy}> <span class=\\\"boolean\\\">{$compile_options.legacy}</span>\\n\\t</label>\\n\\t});\\n</div>\"],\"names\":[],\"mappings\":\"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\"}"
};

const CompilerOptions = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $compile_options;

	const { compile_options } = index.getContext('REPL'); index.validate_store(compile_options, 'compile_options'); $compile_options = index.get_store_value(compile_options);

	$$result.css.add(css$6);

	index.validate_store(compile_options, 'compile_options'); $compile_options = index.get_store_value(compile_options);

	return `<div class="options svelte-159cly1">
		result = svelte.compile(source, {
		<div class="option svelte-159cly1">
			<span class="key svelte-159cly1">generate:</span>

			<input id="dom-input" type="radio" value="dom" class="svelte-159cly1">
			<label for="dom-input" class="svelte-159cly1"><span class="string svelte-159cly1">"dom"</span></label>

			<input id="ssr-input" type="radio" value="ssr" class="svelte-159cly1">
			<label for="ssr-input" class="svelte-159cly1"><span class="string svelte-159cly1">"ssr"</span>,</label>
		</div>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">dev:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.dev, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.dev)}</span>,
		</label>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">css:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.css, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.css)}</span>,
		</label>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">hydratable:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.hydratable, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.hydratable)}</span>,
		</label>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">customElement:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.customElement, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.customElement)}</span>,
		</label>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">immutable:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.immutable, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.immutable)}</span>,
		</label>

		<label class="option svelte-159cly1">
			<span class="key svelte-159cly1">legacy:</span>
			<input type="checkbox" class="svelte-159cly1"${index.add_attribute("checked", $compile_options.legacy, 1)}> <span class="boolean svelte-159cly1">${index.escape($compile_options.legacy)}</span>
		</label>
		});
	</div>`;
});

const workers = new Map();

let uid$1 = 1;

class Compiler {
	constructor(workersUrl, svelteUrl) {
		if (!workers.has(svelteUrl)) {
			const worker = new Worker(`${workersUrl}/compiler.js`);
			worker.postMessage({ type: 'init', svelteUrl });
			workers.set(svelteUrl, worker);
		}

		this.worker = workers.get(svelteUrl);

		this.handlers = new Map();

		this.worker.addEventListener('message', event => {
			const handler = this.handlers.get(event.data.id);

			if (handler) { // if no handler, was meant for a different REPL
				handler(event.data.result);
				this.handlers.delete(event.data.id);
			}
		});
	}

	compile(component, options) {
		return new Promise(fulfil => {
			const id = uid$1++;

			this.handlers.set(id, fulfil);

			this.worker.postMessage({
				id,
				type: 'compile',
				source: component.source,
				options: Object.assign({
					name: component.name,
					filename: `${component.name}.svelte`
				}, options),
				entry: component.name === 'App'
			});
		});
	}

	destroy() {
		this.worker.terminate();
	}
}

/* node_modules\@sveltejs\svelte-repl\src\Output\index.svelte generated by Svelte v3.12.0 */

const css$7 = {
	code: ".view-toggle.svelte-1p3b02q{height:var(--pane-controls-h);border-bottom:1px solid #eee;white-space:nowrap;box-sizing:border-box}button.svelte-1p3b02q{background:white;text-align:left;position:relative;font:400 12px/1.5 var(--font);border:none;border-bottom:3px solid transparent;padding:12px 12px 8px 12px;color:#999;border-radius:0}button.active.svelte-1p3b02q{border-bottom:3px solid var(--prime);color:#333}div[slot].svelte-1p3b02q{height:100%}section[slot].svelte-1p3b02q{overflow:auto}h3.svelte-1p3b02q{font:700 12px/1.5 var(--font);padding:12px 0 8px 10px;color:#333}.tab-content.svelte-1p3b02q{position:absolute;width:100%;height:calc(100% - 42px);opacity:0;pointer-events:none}.tab-content.visible.svelte-1p3b02q{opacity:1;pointer-events:all}",
	map: "{\"version\":3,\"file\":\"index.svelte\",\"sources\":[\"index.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { getContext, onMount } from 'svelte';\\n\\timport SplitPane from '../SplitPane.svelte';\\n\\timport Viewer from './Viewer.svelte';\\n\\timport CompilerOptions from './CompilerOptions.svelte';\\n\\timport Compiler from './Compiler.js';\\n\\timport CodeMirror from '../CodeMirror.svelte';\\n\\timport { is_browser } from '../env.js';\\n\\n\\tconst { register_output } = getContext('REPL');\\n\\n\\texport let svelteUrl;\\n\\texport let workersUrl;\\n\\texport let status;\\n\\texport let sourceErrorLoc = null;\\n\\texport let runtimeError = null;\\n\\texport let embedded = false;\\n\\texport let relaxed = false;\\n\\texport let injectedJS;\\n\\texport let injectedCSS;\\n\\n\\tlet foo; // TODO workaround for https://github.com/sveltejs/svelte/issues/2122\\n\\n\\tregister_output({\\n\\t\\tset: async (selected, options) => {\\n\\t\\t\\tif (selected.type === 'js') {\\n\\t\\t\\t\\tjs_editor.set(`/* Select a component to see its compiled code */`);\\n\\t\\t\\t\\tcss_editor.set(`/* Select a component to see its compiled code */`);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\n\\t\\t\\tconst compiled = await compiler.compile(selected, options);\\n\\t\\t\\tif (!js_editor) return; // unmounted\\n\\n\\t\\t\\tjs_editor.set(compiled.js, 'js');\\n\\t\\t\\tcss_editor.set(compiled.css, 'css');\\n\\t\\t},\\n\\n\\t\\tupdate: async (selected, options) => {\\n\\t\\t\\tif (selected.type === 'js') return;\\n\\n\\t\\t\\tconst compiled = await compiler.compile(selected, options);\\n\\t\\t\\tif (!js_editor) return; // unmounted\\n\\n\\t\\t\\tjs_editor.update(compiled.js);\\n\\t\\t\\tcss_editor.update(compiled.css);\\n\\t\\t}\\n\\t});\\n\\n\\tconst compiler = is_browser && new Compiler(workersUrl, svelteUrl);\\n\\n\\t// refs\\n\\tlet viewer;\\n\\tlet js_editor;\\n\\tlet css_editor;\\n\\tconst setters = {};\\n\\n\\tlet view = 'result';\\n</script>\\n\\n<style>\\n\\t.view-toggle {\\n\\t\\theight: var(--pane-controls-h);\\n\\t\\tborder-bottom: 1px solid #eee;\\n\\t\\twhite-space: nowrap;\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\n\\tbutton {\\n\\t\\t/* width: 50%;\\n\\t\\theight: 100%; */\\n\\t\\tbackground: white;\\n\\t\\ttext-align: left;\\n\\t\\tposition: relative;\\n\\t\\tfont: 400 12px/1.5 var(--font);\\n\\t\\tborder: none;\\n\\t\\tborder-bottom: 3px solid transparent;\\n\\t\\tpadding: 12px 12px 8px 12px;\\n\\t\\tcolor: #999;\\n\\t\\tborder-radius: 0;\\n\\t}\\n\\n\\tbutton.active {\\n\\t\\tborder-bottom: 3px solid var(--prime);\\n\\t\\tcolor: #333;\\n\\t}\\n\\n\\tdiv[slot] {\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\tsection[slot] {\\n\\t\\toverflow: auto;\\n\\t}\\n\\n\\th3 {\\n\\t\\tfont: 700 12px/1.5 var(--font);\\n\\t\\tpadding: 12px 0 8px 10px;\\n\\t\\t/* color: var(--text); */\\n\\t\\tcolor: #333;\\n\\t}\\n\\n\\t.tab-content {\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t\\theight: calc(100% - 42px);\\n\\t\\topacity: 0;\\n\\t\\tpointer-events: none;\\n\\t}\\n\\n\\t.tab-content.visible {\\n\\t\\t/* can't use visibility due to a weird painting bug in Chrome */\\n\\t\\topacity: 1;\\n\\t\\tpointer-events: all;\\n\\t}\\n</style>\\n\\n<div class=\\\"view-toggle\\\">\\n\\t<button\\n\\t\\tclass:active=\\\"{view === 'result'}\\\"\\n\\t\\ton:click=\\\"{() => view = 'result'}\\\"\\n\\t>Result</button>\\n\\n\\t<button\\n\\t\\tclass:active=\\\"{view === 'js'}\\\"\\n\\t\\ton:click=\\\"{() => view = 'js'}\\\"\\n\\t>JS output</button>\\n\\n\\t<button\\n\\t\\tclass:active=\\\"{view === 'css'}\\\"\\n\\t\\ton:click=\\\"{() => view = 'css'}\\\"\\n\\t>CSS output</button>\\n</div>\\n\\n<!-- component viewer -->\\n<div class=\\\"tab-content\\\" class:visible=\\\"{view === 'result'}\\\">\\n\\t<Viewer\\n\\t\\tbind:this={viewer}\\n\\t\\tbind:error={runtimeError}\\n\\t\\t{status}\\n\\t\\t{relaxed}\\n\\t\\t{injectedJS}\\n\\t\\t{injectedCSS}\\n\\t/>\\n</div>\\n\\n<!-- js output -->\\n<div class=\\\"tab-content\\\" class:visible=\\\"{view === 'js'}\\\">\\n\\t{#if embedded}\\n\\t\\t<CodeMirror\\n\\t\\t\\tbind:this={js_editor}\\n\\t\\t\\tmode=\\\"js\\\"\\n\\t\\t\\terrorLoc={sourceErrorLoc}\\n\\t\\t\\treadonly\\n\\t\\t/>\\n\\t{:else}\\n\\t\\t<SplitPane type=\\\"vertical\\\" pos={67}>\\n\\t\\t\\t<div slot=\\\"a\\\">\\n\\t\\t\\t\\t<CodeMirror\\n\\t\\t\\t\\t\\tbind:this={js_editor}\\n\\t\\t\\t\\t\\tmode=\\\"js\\\"\\n\\t\\t\\t\\t\\terrorLoc={sourceErrorLoc}\\n\\t\\t\\t\\t\\treadonly\\n\\t\\t\\t\\t/>\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<section slot=\\\"b\\\">\\n\\t\\t\\t\\t<h3>Compiler options</h3>\\n\\n\\t\\t\\t\\t<CompilerOptions bind:foo={foo}/>\\n\\t\\t\\t</section>\\n\\t\\t</SplitPane>\\n\\t{/if}\\n</div>\\n\\n<!-- css output -->\\n<div class=\\\"tab-content\\\" class:visible=\\\"{view === 'css'}\\\">\\n\\t<CodeMirror\\n\\t\\tbind:this={css_editor}\\n\\t\\tmode=\\\"css\\\"\\n\\t\\terrorLoc={sourceErrorLoc}\\n\\t\\treadonly\\n\\t/>\\n</div>\\n\"],\"names\":[],\"mappings\":\"AA6DC,YAAY,eAAC,CAAC,AACb,MAAM,CAAE,IAAI,iBAAiB,CAAC,CAC9B,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAC7B,WAAW,CAAE,MAAM,CACnB,UAAU,CAAE,UAAU,AACvB,CAAC,AAED,MAAM,eAAC,CAAC,AAGP,UAAU,CAAE,KAAK,CACjB,UAAU,CAAE,IAAI,CAChB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAC9B,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,WAAW,CACpC,OAAO,CAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAC3B,KAAK,CAAE,IAAI,CACX,aAAa,CAAE,CAAC,AACjB,CAAC,AAED,MAAM,OAAO,eAAC,CAAC,AACd,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,CACrC,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,GAAG,CAAC,IAAI,CAAC,eAAC,CAAC,AACV,MAAM,CAAE,IAAI,AACb,CAAC,AAED,OAAO,CAAC,IAAI,CAAC,eAAC,CAAC,AACd,QAAQ,CAAE,IAAI,AACf,CAAC,AAED,EAAE,eAAC,CAAC,AACH,IAAI,CAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAC9B,OAAO,CAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAExB,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,YAAY,eAAC,CAAC,AACb,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CACzB,OAAO,CAAE,CAAC,CACV,cAAc,CAAE,IAAI,AACrB,CAAC,AAED,YAAY,QAAQ,eAAC,CAAC,AAErB,OAAO,CAAE,CAAC,CACV,cAAc,CAAE,GAAG,AACpB,CAAC\"}"
};

const Index = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const { register_output } = index.getContext('REPL');

	let { svelteUrl, workersUrl, status, sourceErrorLoc = null, runtimeError = null, embedded = false, relaxed = false, injectedJS, injectedCSS } = $$props;

	let foo; // TODO workaround for https://github.com/sveltejs/svelte/issues/2122

	register_output({
		set: async (selected, options) => {
			if (selected.type === 'js') {
				js_editor.set(`/* Select a component to see its compiled code */`);
				css_editor.set(`/* Select a component to see its compiled code */`);
				return;
			}

			const compiled = await compiler.compile(selected, options);
			if (!js_editor) return; // unmounted

			js_editor.set(compiled.js, 'js');
			css_editor.set(compiled.css, 'css');
		},

		update: async (selected, options) => {
			if (selected.type === 'js') return;

			const compiled = await compiler.compile(selected, options);
			if (!js_editor) return; // unmounted

			js_editor.update(compiled.js);
			css_editor.update(compiled.css);
		}
	});

	const compiler = is_browser && new Compiler(workersUrl, svelteUrl);

	// refs
	let viewer;
	let js_editor;
	let css_editor;

	if ($$props.svelteUrl === void 0 && $$bindings.svelteUrl && svelteUrl !== void 0) $$bindings.svelteUrl(svelteUrl);
	if ($$props.workersUrl === void 0 && $$bindings.workersUrl && workersUrl !== void 0) $$bindings.workersUrl(workersUrl);
	if ($$props.status === void 0 && $$bindings.status && status !== void 0) $$bindings.status(status);
	if ($$props.sourceErrorLoc === void 0 && $$bindings.sourceErrorLoc && sourceErrorLoc !== void 0) $$bindings.sourceErrorLoc(sourceErrorLoc);
	if ($$props.runtimeError === void 0 && $$bindings.runtimeError && runtimeError !== void 0) $$bindings.runtimeError(runtimeError);
	if ($$props.embedded === void 0 && $$bindings.embedded && embedded !== void 0) $$bindings.embedded(embedded);
	if ($$props.relaxed === void 0 && $$bindings.relaxed && relaxed !== void 0) $$bindings.relaxed(relaxed);
	if ($$props.injectedJS === void 0 && $$bindings.injectedJS && injectedJS !== void 0) $$bindings.injectedJS(injectedJS);
	if ($$props.injectedCSS === void 0 && $$bindings.injectedCSS && injectedCSS !== void 0) $$bindings.injectedCSS(injectedCSS);

	$$result.css.add(css$7);

	let $$settled;
	let $$rendered;

	do {
		$$settled = true;

		$$rendered = `<div class="view-toggle svelte-1p3b02q">
			<button class="${[`svelte-1p3b02q`,  "active" ].join(' ').trim() }">Result</button>

			<button class="${[`svelte-1p3b02q`,  ""].join(' ').trim() }">JS output</button>

			<button class="${[`svelte-1p3b02q`,  ""].join(' ').trim() }">CSS output</button>
		</div>


		<div class="${[`tab-content svelte-1p3b02q`,  "visible" ].join(' ').trim() }">
			${index.validate_component(Viewer, 'Viewer').$$render($$result, {
			status: status,
			relaxed: relaxed,
			injectedJS: injectedJS,
			injectedCSS: injectedCSS,
			this: viewer,
			error: runtimeError
		}, {
			this: $$value => { viewer = $$value; $$settled = false; },
			error: $$value => { runtimeError = $$value; $$settled = false; }
		}, {})}
		</div>


		<div class="${[`tab-content svelte-1p3b02q`,  ""].join(' ').trim() }">
			${ embedded ? `${index.validate_component(CodeMirror_1, 'CodeMirror').$$render($$result, {
			mode: "js",
			errorLoc: sourceErrorLoc,
			readonly: true,
			this: js_editor
		}, {
			this: $$value => { js_editor = $$value; $$settled = false; }
		}, {})}` : `${index.validate_component(SplitPane, 'SplitPane').$$render($$result, { type: "vertical", pos: 67 }, {}, {
			default: () => `
					`,
			a: () => `<div slot="a" class="svelte-1p3b02q">
						${index.validate_component(CodeMirror_1, 'CodeMirror').$$render($$result, {
			mode: "js",
			errorLoc: sourceErrorLoc,
			readonly: true,
			this: js_editor
		}, {
			this: $$value => { js_editor = $$value; $$settled = false; }
		}, {})}
					</div>

					`,
			b: () => `<section slot="b" class="svelte-1p3b02q">
						<h3 class="svelte-1p3b02q">Compiler options</h3>

						${index.validate_component(CompilerOptions, 'CompilerOptions').$$render($$result, { foo: foo }, {
			foo: $$value => { foo = $$value; $$settled = false; }
		}, {})}
					</section>
				`
		})}` }
		</div>


		<div class="${[`tab-content svelte-1p3b02q`,  ""].join(' ').trim() }">
			${index.validate_component(CodeMirror_1, 'CodeMirror').$$render($$result, {
			mode: "css",
			errorLoc: sourceErrorLoc,
			readonly: true,
			this: css_editor
		}, {
			this: $$value => { css_editor = $$value; $$settled = false; }
		}, {})}
		</div>`;
	} while (!$$settled);

	return $$rendered;
});

const workers$1 = new Map();

let uid$2 = 1;

class Bundler {
	constructor({ workersUrl, packagesUrl, svelteUrl, onstatus }) {
		const hash = `${packagesUrl}:${svelteUrl}`;

		if (!workers$1.has(hash)) {
			const worker = new Worker(`${workersUrl}/bundler.js`);
			worker.postMessage({ type: 'init', packagesUrl, svelteUrl });
			workers$1.set(hash, worker);
		}

		this.worker = workers$1.get(hash);

		this.handlers = new Map();

		this.worker.addEventListener('message', event => {
			const handler = this.handlers.get(event.data.uid);

			if (handler) { // if no handler, was meant for a different REPL
				if (event.data.type === 'status') {
					onstatus(event.data.message);
					return;
				}

				onstatus(null);
				handler(event.data);
				this.handlers.delete(event.data.uid);
			}
		});
	}

	bundle(components) {
		return new Promise(fulfil => {
			this.handlers.set(uid$2, fulfil);

			this.worker.postMessage({
				uid: uid$2,
				type: 'bundle',
				components
			});

			uid$2 += 1;
		});
	}

	destroy() {
		this.worker.terminate();
	}
}

/* node_modules\@sveltejs\svelte-repl\src\Repl.svelte generated by Svelte v3.12.0 */

const css$8 = {
	code: ".container.svelte-177xqak{position:relative;width:100%;height:100%}.container.svelte-177xqak section{position:relative;padding:42px 0 0 0;height:100%;box-sizing:border-box}.container.svelte-177xqak section>*:first-child{position:absolute;top:0;left:0;width:100%;height:42px;box-sizing:border-box}.container.svelte-177xqak section>*:last-child{width:100%;height:100%}",
	map: "{\"version\":3,\"file\":\"Repl.svelte\",\"sources\":[\"Repl.svelte\"],\"sourcesContent\":[\"<script>\\n\\timport { onMount, setContext, createEventDispatcher } from 'svelte';\\n\\timport { writable } from 'svelte/store';\\n\\timport SplitPane from './SplitPane.svelte';\\n\\timport CodeMirror from './CodeMirror.svelte';\\n\\timport ComponentSelector from './Input/ComponentSelector.svelte';\\n\\timport ModuleEditor from './Input/ModuleEditor.svelte';\\n\\timport Output from './Output/index.svelte';\\n\\timport Bundler from './Bundler.js';\\n\\timport { is_browser } from './env.js';\\n\\n\\texport let workersUrl;\\n\\texport let packagesUrl = 'https://unpkg.com';\\n\\texport let svelteUrl = `${packagesUrl}/svelte`;\\n\\texport let embedded = false;\\n\\texport let orientation = 'columns';\\n\\texport let relaxed = false;\\n\\texport let fixed = false;\\n\\texport let fixedPos = 50;\\n\\texport let injectedJS = '';\\n\\texport let injectedCSS = '';\\n\\n\\texport function toJSON() {\\n\\t\\t// TODO there's a bug here — Svelte hoists this function because\\n\\t\\t// it wrongly things that $components is global. Needs to\\n\\t\\t// factor in $ variables when determining hoistability\\n\\n\\t\\tsvelteUrl; // workaround\\n\\n\\t\\treturn {\\n\\t\\t\\timports: $bundle.imports,\\n\\t\\t\\tcomponents: $components\\n\\t\\t};\\n\\t}\\n\\n\\texport async function set(data) {\\n\\t\\tcomponents.set(data.components);\\n\\t\\tselected.set(data.components[0]);\\n\\n\\t\\trebundle();\\n\\n\\t\\tawait module_editor_ready;\\n\\t\\tawait output_ready;\\n\\n\\t\\tinjectedCSS = data.css || '';\\n\\t\\tmodule_editor.set($selected.source, $selected.type);\\n\\t\\toutput.set($selected, $compile_options);\\n\\t}\\n\\n\\texport function update(data) {\\n\\t\\tconst { name, type } = $selected || {};\\n\\n\\t\\tcomponents.set(data.components);\\n\\n\\t\\tconst matched_component = data.components.find(file => file.name === name && file.type === type);\\n\\t\\tselected.set(matched_component || data.components[0]);\\n\\n\\t\\tinjectedCSS = data.css || '';\\n\\n\\t\\tif (matched_component) {\\n\\t\\t\\tmodule_editor.update(matched_component.source);\\n\\t\\t\\toutput.update(matched_component, $compile_options);\\n\\t\\t} else {\\n\\t\\t\\tmodule_editor.set(matched_component.source, matched_component.type);\\n\\t\\t\\toutput.set(matched_component, $compile_options);\\n\\t\\t}\\n\\t}\\n\\n\\tif (!workersUrl) {\\n\\t\\tthrow new Error(`You must supply workersUrl prop to <Repl>`);\\n\\t}\\n\\n\\tconst dispatch = createEventDispatcher();\\n\\n\\tconst components = writable([]);\\n\\tconst selected = writable(null);\\n\\tconst bundle = writable(null);\\n\\n\\tconst compile_options = writable({\\n\\t\\tgenerate: 'dom',\\n\\t\\tdev: false,\\n\\t\\tcss: false,\\n\\t\\thydratable: false,\\n\\t\\tcustomElement: false,\\n\\t\\timmutable: false,\\n\\t\\tlegacy: false\\n\\t});\\n\\n\\tlet module_editor;\\n\\tlet output;\\n\\n\\tlet current_token;\\n\\tasync function rebundle() {\\n\\t\\tconst token = current_token = {};\\n\\t\\tconst result = await bundler.bundle($components);\\n\\t\\tif (result && token === current_token) bundle.set(result);\\n\\t}\\n\\n\\t// TODO this is a horrible kludge, written in a panic. fix it\\n\\tlet fulfil_module_editor_ready;\\n\\tlet module_editor_ready = new Promise(f => fulfil_module_editor_ready = f);\\n\\n\\tlet fulfil_output_ready;\\n\\tlet output_ready = new Promise(f => fulfil_output_ready = f);\\n\\n\\n\\tsetContext('REPL', {\\n\\t\\tcomponents,\\n\\t\\tselected,\\n\\t\\tbundle,\\n\\t\\tcompile_options,\\n\\n\\t\\trebundle,\\n\\n\\t\\tnavigate: item => {\\n\\t\\t\\tconst match = /^(.+)\\\\.(\\\\w+)$/.exec(item.filename);\\n\\t\\t\\tif (!match) return; // ???\\n\\n\\t\\t\\tconst [, name, type] = match;\\n\\t\\t\\tconst component = $components.find(c => c.name === name && c.type === type);\\n\\t\\t\\thandle_select(component);\\n\\n\\t\\t\\t// TODO select the line/column in question\\n\\t\\t},\\n\\n\\t\\thandle_change: event => {\\n\\t\\t\\tselected.update(component => {\\n\\t\\t\\t\\t// TODO this is a bit hacky — we're relying on mutability\\n\\t\\t\\t\\t// so that updating components works... might be better\\n\\t\\t\\t\\t// if a) components had unique IDs, b) we tracked selected\\n\\t\\t\\t\\t// *index* rather than component, and c) `selected` was\\n\\t\\t\\t\\t// derived from `components` and `index`\\n\\t\\t\\t\\tcomponent.source = event.detail.value;\\n\\t\\t\\t\\treturn component;\\n\\t\\t\\t});\\n\\n\\t\\t\\tcomponents.update(c => c);\\n\\n\\t\\t\\t// recompile selected component\\n\\t\\t\\toutput.update($selected, $compile_options);\\n\\n\\t\\t\\trebundle();\\n\\n\\t\\t\\tdispatch('change', {\\n\\t\\t\\t\\tcomponents: $components\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\tregister_module_editor(editor) {\\n\\t\\t\\tmodule_editor = editor;\\n\\t\\t\\tfulfil_module_editor_ready();\\n\\t\\t},\\n\\n\\t\\tregister_output(handlers) {\\n\\t\\t\\toutput = handlers;\\n\\t\\t\\tfulfil_output_ready();\\n\\t\\t},\\n\\n\\t\\trequest_focus() {\\n\\t\\t\\tmodule_editor.focus();\\n\\t\\t}\\n\\t});\\n\\n\\tfunction handle_select(component) {\\n\\t\\tselected.set(component);\\n\\t\\tmodule_editor.set(component.source, component.type);\\n\\t\\toutput.set($selected, $compile_options);\\n\\t}\\n\\n\\tlet input;\\n\\tlet sourceErrorLoc;\\n\\tlet runtimeErrorLoc; // TODO refactor this stuff — runtimeErrorLoc is unused\\n\\tlet status = null;\\n\\n\\tconst bundler = is_browser && new Bundler({\\n\\t\\tworkersUrl,\\n\\t\\tpackagesUrl,\\n\\t\\tsvelteUrl,\\n\\t\\tonstatus: message => {\\n\\t\\t\\tstatus = message;\\n\\t\\t}\\n\\t});\\n\\n\\t$: if (output && $selected) {\\n\\t\\toutput.update($selected, $compile_options);\\n\\t}\\n</script>\\n\\n<style>\\n\\t.container {\\n\\t\\tposition: relative;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n\\n\\t.container :global(section) {\\n\\t\\tposition: relative;\\n\\t\\tpadding: 42px 0 0 0;\\n\\t\\theight: 100%;\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\n\\t.container :global(section) > :global(*):first-child {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tleft: 0;\\n\\t\\twidth: 100%;\\n\\t\\theight: 42px;\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\n\\t.container :global(section) > :global(*):last-child {\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t}\\n</style>\\n\\n<div class=\\\"container\\\" class:orientation>\\n\\t<SplitPane\\n\\t\\ttype=\\\"{orientation === 'rows' ? 'vertical' : 'horizontal'}\\\"\\n\\t\\tpos=\\\"{fixed ? fixedPos : orientation === 'rows' ? 50 : 60}\\\"\\n\\t\\t{fixed}\\n\\t>\\n\\t\\t<section slot=a>\\n\\t\\t\\t<ComponentSelector {handle_select}/>\\n\\t\\t\\t<ModuleEditor bind:this={input} errorLoc=\\\"{sourceErrorLoc || runtimeErrorLoc}\\\"/>\\n\\t\\t</section>\\n\\n\\t\\t<section slot=b style='height: 100%;'>\\n\\t\\t\\t<Output {svelteUrl} {workersUrl} {status} {embedded} {relaxed} {injectedJS} {injectedCSS}/>\\n\\t\\t</section>\\n\\t</SplitPane>\\n</div>\\n\"],\"names\":[],\"mappings\":\"AA6LC,UAAU,eAAC,CAAC,AACX,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC,AAED,yBAAU,CAAC,AAAQ,OAAO,AAAE,CAAC,AAC5B,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,UAAU,AACvB,CAAC,AAED,yBAAU,CAAC,AAAQ,OAAO,AAAC,CAAW,CAAC,AAAC,YAAY,AAAC,CAAC,AACrD,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,UAAU,AACvB,CAAC,AAED,yBAAU,CAAC,AAAQ,OAAO,AAAC,CAAW,CAAC,AAAC,WAAW,AAAC,CAAC,AACpD,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACb,CAAC\"}"
};

const Repl = index.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $bundle, $components, $selected, $compile_options;

	

	let { workersUrl, packagesUrl = 'https://unpkg.com', svelteUrl = `${packagesUrl}/svelte`, embedded = false, orientation = 'columns', relaxed = false, fixed = false, fixedPos = 50, injectedJS = '', injectedCSS = '' } = $$props;

	function toJSON() {

		return {
			imports: $bundle.imports,
			components: $components
		};
	}

	async function set(data) {
		components.set(data.components);
		selected.set(data.components[0]);

		rebundle();

		await module_editor_ready;
		await output_ready;

		injectedCSS = data.css || '';
		module_editor.set($selected.source, $selected.type);
		output.set($selected, $compile_options);
	}

	function update(data) {
		const { name, type } = $selected || {};

		components.set(data.components);

		const matched_component = data.components.find(file => file.name === name && file.type === type);
		selected.set(matched_component || data.components[0]);

		injectedCSS = data.css || '';

		if (matched_component) {
			module_editor.update(matched_component.source);
			output.update(matched_component, $compile_options);
		} else {
			module_editor.set(matched_component.source, matched_component.type);
			output.set(matched_component, $compile_options);
		}
	}

	if (!workersUrl) {
		throw new Error(`You must supply workersUrl prop to <Repl>`);
	}

	const dispatch = index.createEventDispatcher();

	const components = writable([]); index.validate_store(components, 'components'); $components = index.get_store_value(components);
	const selected = writable(null); index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);
	const bundle = writable(null); index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle);

	const compile_options = writable({
		generate: 'dom',
		dev: false,
		css: false,
		hydratable: false,
		customElement: false,
		immutable: false,
		legacy: false
	}); index.validate_store(compile_options, 'compile_options'); $compile_options = index.get_store_value(compile_options);

	let module_editor;
	let output;

	let current_token;
	async function rebundle() {
		const token = current_token = {};
		const result = await bundler.bundle($components);
		if (result && token === current_token) bundle.set(result);
	}

	// TODO this is a horrible kludge, written in a panic. fix it
	let fulfil_module_editor_ready;
	let module_editor_ready = new Promise(f => fulfil_module_editor_ready = f);

	let fulfil_output_ready;
	let output_ready = new Promise(f => fulfil_output_ready = f);


	index.setContext('REPL', {
		components,
		selected,
		bundle,
		compile_options,

		rebundle,

		navigate: item => {
			const match = /^(.+)\.(\w+)$/.exec(item.filename);
			if (!match) return; // ???

			const [, name, type] = match;
			const component = $components.find(c => c.name === name && c.type === type);
			handle_select(component);

			// TODO select the line/column in question
		},

		handle_change: event => {
			selected.update(component => {
				// TODO this is a bit hacky — we're relying on mutability
				// so that updating components works... might be better
				// if a) components had unique IDs, b) we tracked selected
				// *index* rather than component, and c) `selected` was
				// derived from `components` and `index`
				component.source = event.detail.value;
				return component;
			});

			components.update(c => c);

			// recompile selected component
			output.update($selected, $compile_options);

			rebundle();

			dispatch('change', {
				components: $components
			});
		},

		register_module_editor(editor) {
			module_editor = editor;
			fulfil_module_editor_ready();
		},

		register_output(handlers) {
			output = handlers;
			fulfil_output_ready();
		},

		request_focus() {
			module_editor.focus();
		}
	});

	function handle_select(component) {
		selected.set(component);
		module_editor.set(component.source, component.type);
		output.set($selected, $compile_options);
	}

	let input;
	let runtimeErrorLoc; // TODO refactor this stuff — runtimeErrorLoc is unused
	let status = null;

	const bundler = is_browser && new Bundler({
		workersUrl,
		packagesUrl,
		svelteUrl,
		onstatus: message => {
			status = message;
		}
	});

	if ($$props.workersUrl === void 0 && $$bindings.workersUrl && workersUrl !== void 0) $$bindings.workersUrl(workersUrl);
	if ($$props.packagesUrl === void 0 && $$bindings.packagesUrl && packagesUrl !== void 0) $$bindings.packagesUrl(packagesUrl);
	if ($$props.svelteUrl === void 0 && $$bindings.svelteUrl && svelteUrl !== void 0) $$bindings.svelteUrl(svelteUrl);
	if ($$props.embedded === void 0 && $$bindings.embedded && embedded !== void 0) $$bindings.embedded(embedded);
	if ($$props.orientation === void 0 && $$bindings.orientation && orientation !== void 0) $$bindings.orientation(orientation);
	if ($$props.relaxed === void 0 && $$bindings.relaxed && relaxed !== void 0) $$bindings.relaxed(relaxed);
	if ($$props.fixed === void 0 && $$bindings.fixed && fixed !== void 0) $$bindings.fixed(fixed);
	if ($$props.fixedPos === void 0 && $$bindings.fixedPos && fixedPos !== void 0) $$bindings.fixedPos(fixedPos);
	if ($$props.injectedJS === void 0 && $$bindings.injectedJS && injectedJS !== void 0) $$bindings.injectedJS(injectedJS);
	if ($$props.injectedCSS === void 0 && $$bindings.injectedCSS && injectedCSS !== void 0) $$bindings.injectedCSS(injectedCSS);
	if ($$props.toJSON === void 0 && $$bindings.toJSON && toJSON !== void 0) $$bindings.toJSON(toJSON);
	if ($$props.set === void 0 && $$bindings.set && set !== void 0) $$bindings.set(set);
	if ($$props.update === void 0 && $$bindings.update && update !== void 0) $$bindings.update(update);

	$$result.css.add(css$8);

	let $$settled;
	let $$rendered;

	do {
		$$settled = true;

		index.validate_store(bundle, 'bundle'); $bundle = index.get_store_value(bundle);
		index.validate_store(components, 'components'); $components = index.get_store_value(components);
		index.validate_store(selected, 'selected'); $selected = index.get_store_value(selected);
		index.validate_store(compile_options, 'compile_options'); $compile_options = index.get_store_value(compile_options);

		if (output && $selected) {
				output.update($selected, $compile_options);
			}

		$$rendered = `<div class="${[`container svelte-177xqak`, orientation ? "orientation" : ""].join(' ').trim() }">
			${index.validate_component(SplitPane, 'SplitPane').$$render($$result, {
			type: orientation === 'rows' ? 'vertical' : 'horizontal',
			pos: fixed ? fixedPos : orientation === 'rows' ? 50 : 60,
			fixed: fixed
		}, {}, {
			default: () => `
				`,
			a: () => `<section slot="a">
					${index.validate_component(ComponentSelector, 'ComponentSelector').$$render($$result, { handle_select: handle_select }, {}, {})}
					${index.validate_component(ModuleEditor, 'ModuleEditor').$$render($$result, {
			errorLoc:  runtimeErrorLoc,
			this: input
		}, {
			this: $$value => { input = $$value; $$settled = false; }
		}, {})}
				</section>

				`,
			b: () => `<section slot="b" style="height: 100%;">
					${index.validate_component(Index, 'Output').$$render($$result, {
			svelteUrl: svelteUrl,
			workersUrl: workersUrl,
			status: status,
			embedded: embedded,
			relaxed: relaxed,
			injectedJS: injectedJS,
			injectedCSS: injectedCSS
		}, {}, {})}
				</section>
			`
		})}
		</div>`;
	} while (!$$settled);

	return $$rendered;
});

exports.Repl = Repl;
exports.writable = writable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVwbC01MTUzODRkOC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zdG9yZS9pbmRleC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9TcGxpdFBhbmUuc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9zdmVsdGUtcmVwbC9zcmMvZW52LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9zdmVsdGUtcmVwbC9zcmMvTWVzc2FnZS5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9Db2RlTWlycm9yLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMvc3ZlbHRlLXJlcGwvc3JjL0lucHV0L0NvbXBvbmVudFNlbGVjdG9yLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMvc3ZlbHRlLXJlcGwvc3JjL0lucHV0L01vZHVsZUVkaXRvci5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL25vZGVfbW9kdWxlcy9zb3VyY2VtYXAtY29kZWMvZGlzdC9zb3VyY2VtYXAtY29kZWMuZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9PdXRwdXQvZ2V0TG9jYXRpb25Gcm9tU3RhY2suanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9PdXRwdXQvUmVwbFByb3h5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9zdmVsdGUtcmVwbC9zcmMvT3V0cHV0L3NyY2RvYy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMvc3ZlbHRlLXJlcGwvc3JjL091dHB1dC9WaWV3ZXIuc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9zdmVsdGUtcmVwbC9zcmMvT3V0cHV0L0NvbXBpbGVyT3B0aW9ucy5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9PdXRwdXQvQ29tcGlsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN2ZWx0ZWpzL3N2ZWx0ZS1yZXBsL3NyYy9PdXRwdXQvaW5kZXguc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdmVsdGVqcy9zdmVsdGUtcmVwbC9zcmMvQnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3ZlbHRlanMvc3ZlbHRlLXJlcGwvc3JjL1JlcGwuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNhZmVfbm90X2VxdWFsLCBub29wLCBydW5fYWxsLCBpc19mdW5jdGlvbiB9IGZyb20gJy4uL2ludGVybmFsJztcbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfSBmcm9tICcuLi9pbnRlcm5hbCc7XG5cbmNvbnN0IHN1YnNjcmliZXJfcXVldWUgPSBbXTtcbi8qKlxuICogQ3JlYXRlcyBhIGBSZWFkYWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0gdmFsdWUgaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcn1zdGFydCBzdGFydCBhbmQgc3RvcCBub3RpZmljYXRpb25zIGZvciBzdWJzY3JpcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHJlYWRhYmxlKHZhbHVlLCBzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1YnNjcmliZTogd3JpdGFibGUodmFsdWUsIHN0YXJ0KS5zdWJzY3JpYmUsXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYFdyaXRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyBib3RoIHVwZGF0aW5nIGFuZCByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB7Kj19dmFsdWUgaW5pdGlhbCB2YWx1ZVxuICogQHBhcmFtIHtTdGFydFN0b3BOb3RpZmllcj19c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQgPSBub29wKSB7XG4gICAgbGV0IHN0b3A7XG4gICAgY29uc3Qgc3Vic2NyaWJlcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG4gICAgICAgIGlmIChzYWZlX25vdF9lcXVhbCh2YWx1ZSwgbmV3X3ZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBuZXdfdmFsdWU7XG4gICAgICAgICAgICBpZiAoc3RvcCkgeyAvLyBzdG9yZSBpcyByZWFkeVxuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgc1sxXSgpO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlLnB1c2gocywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVuX3F1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGUoZm4pIHtcbiAgICAgICAgc2V0KGZuKHZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBbcnVuLCBpbnZhbGlkYXRlXTtcbiAgICAgICAgc3Vic2NyaWJlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgc3RvcCA9IHN0YXJ0KHNldCkgfHwgbm9vcDtcbiAgICAgICAgfVxuICAgICAgICBydW4odmFsdWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzdWJzY3JpYmVycy5pbmRleE9mKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0b3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzZXQsIHVwZGF0ZSwgc3Vic2NyaWJlIH07XG59XG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKiBAcGFyYW0ge1N0b3Jlc30gc3RvcmVzIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHtmdW5jdGlvbihTdG9yZXM9LCBmdW5jdGlvbigqKT0pOip9Zm4gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7Kj19aW5pdGlhbF92YWx1ZSB3aGVuIHVzZWQgYXN5bmNocm9ub3VzbHlcbiAqL1xuZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG4gICAgY29uc3Qgc2luZ2xlID0gIUFycmF5LmlzQXJyYXkoc3RvcmVzKTtcbiAgICBjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGVcbiAgICAgICAgPyBbc3RvcmVzXVxuICAgICAgICA6IHN0b3JlcztcbiAgICBjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcbiAgICByZXR1cm4gcmVhZGFibGUoaW5pdGlhbF92YWx1ZSwgKHNldCkgPT4ge1xuICAgICAgICBsZXQgaW5pdGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBsZXQgcGVuZGluZyA9IDA7XG4gICAgICAgIGxldCBjbGVhbnVwID0gbm9vcDtcbiAgICAgICAgY29uc3Qgc3luYyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQpO1xuICAgICAgICAgICAgaWYgKGF1dG8pIHtcbiAgICAgICAgICAgICAgICBzZXQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PiBzdG9yZS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHBlbmRpbmcgJj0gfigxIDw8IGkpO1xuICAgICAgICAgICAgaWYgKGluaXRlZCkge1xuICAgICAgICAgICAgICAgIHN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcGVuZGluZyB8PSAoMSA8PCBpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBpbml0ZWQgPSB0cnVlO1xuICAgICAgICBzeW5jKCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh1bnN1YnNjcmliZXJzKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgZGVyaXZlZCwgcmVhZGFibGUsIHdyaXRhYmxlIH07XG4iLCI8c2NyaXB0PlxuXHRpbXBvcnQgKiBhcyB5b290aWxzIGZyb20gJ3lvb3RpbHMnO1xuXHRpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cblx0ZXhwb3J0IGxldCB0eXBlO1xuXHRleHBvcnQgbGV0IHBvcyA9IDUwO1xuXHRleHBvcnQgbGV0IGZpeGVkID0gZmFsc2U7XG5cdGV4cG9ydCBsZXQgbWluID0gNTA7XG5cdC8vIGV4cG9ydCBsZXQgbWluMSA9IG1pbjtcblx0Ly8gZXhwb3J0IGxldCBtaW4yID0gbWluO1xuXG5cdGNvbnN0IHJlZnMgPSB7fTtcblxuXHRsZXQgZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRmdW5jdGlvbiBzZXRQb3MoZXZlbnQpIHtcblx0XHRjb25zdCB7IHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCB9ID0gcmVmcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHRjb25zdCBleHRlbnRzID0gdHlwZSA9PT0gJ3ZlcnRpY2FsJyA/IFt0b3AsIGJvdHRvbV0gOiBbbGVmdCwgcmlnaHRdO1xuXG5cdFx0Y29uc3QgcHggPSB5b290aWxzLmNsYW1wKFxuXHRcdFx0dHlwZSA9PT0gJ3ZlcnRpY2FsJyA/IGV2ZW50LmNsaWVudFkgOiBldmVudC5jbGllbnRYLFxuXHRcdFx0ZXh0ZW50c1swXSArIG1pbixcblx0XHRcdGV4dGVudHNbMV0gLSBtaW5cblx0XHQpO1xuXG5cdFx0cG9zID0gMTAwICogKHB4IC0gZXh0ZW50c1swXSkgLyAoZXh0ZW50c1sxXSAtIGV4dGVudHNbMF0pO1xuXG5cdFx0ZGlzcGF0Y2goJ2NoYW5nZScpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhZyhub2RlLCBjYWxsYmFjaykge1xuXHRcdGNvbnN0IG1vdXNlZG93biA9IGV2ZW50ID0+IHtcblx0XHRcdGlmIChldmVudC53aGljaCAhPT0gMSkgcmV0dXJuO1xuXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRkcmFnZ2luZyA9IHRydWU7XG5cblx0XHRcdGNvbnN0IG9ubW91c2V1cCA9ICgpID0+IHtcblx0XHRcdFx0ZHJhZ2dpbmcgPSBmYWxzZTtcblxuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgY2FsbGJhY2ssIGZhbHNlKTtcblx0XHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbm1vdXNldXAsIGZhbHNlKTtcblx0XHRcdH07XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBjYWxsYmFjaywgZmFsc2UpO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbm1vdXNldXAsIGZhbHNlKTtcblx0XHR9XG5cblx0XHRub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlZG93biwgZmFsc2UpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGRlc3Ryb3koKSB7XG5cdFx0XHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25tb3VzZWRvd24sIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0JDogc2lkZSA9IHR5cGUgPT09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICd0b3AnO1xuXHQkOiBkaW1lbnNpb24gPSB0eXBlID09PSAnaG9yaXpvbnRhbCcgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXHQuY29udGFpbmVyIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0aGVpZ2h0OiAxMDAlO1xuXHR9XG5cblx0LnBhbmUge1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRmbG9hdDogbGVmdDtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdH1cblxuXHQubW91c2VjYXRjaGVyIHtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0bGVmdDogMDtcblx0XHR0b3A6IDA7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjAxKTtcblx0fVxuXG5cdC5kaXZpZGVyIHtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0ei1pbmRleDogMTA7XG5cdFx0ZGlzcGxheTogbm9uZTtcblx0fVxuXG5cdC5kaXZpZGVyOjphZnRlciB7XG5cdFx0Y29udGVudDogJyc7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdC8qIGJhY2tncm91bmQtY29sb3I6ICNlZWU7ICovXG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2Vjb25kKTtcblx0fVxuXG5cdC5ob3Jpem9udGFsIHtcblx0XHRwYWRkaW5nOiAwIDhweDtcblx0XHR3aWR0aDogMDtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0Y3Vyc29yOiBldy1yZXNpemU7XG5cdH1cblxuXHQuaG9yaXpvbnRhbDo6YWZ0ZXIge1xuXHRcdGxlZnQ6IDhweDtcblx0XHR0b3A6IDA7XG5cdFx0d2lkdGg6IDFweDtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdH1cblxuXHQudmVydGljYWwge1xuXHRcdHBhZGRpbmc6IDhweCAwO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogMDtcblx0XHRjdXJzb3I6IG5zLXJlc2l6ZTtcblx0fVxuXG5cdC52ZXJ0aWNhbDo6YWZ0ZXIge1xuXHRcdHRvcDogOHB4O1xuXHRcdGxlZnQ6IDA7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0aGVpZ2h0OiAxcHg7XG5cdH1cblxuXHQubGVmdCwgLnJpZ2h0LCAuZGl2aWRlciB7XG5cdFx0ZGlzcGxheTogYmxvY2s7XG5cdH1cblxuXHQubGVmdCwgLnJpZ2h0IHtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0ZmxvYXQ6IGxlZnQ7XG5cdH1cblxuXHQudG9wLCAuYm90dG9tIHtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdH1cblxuXHQudG9wIHsgdG9wOiAwOyB9XG5cdC5ib3R0b20geyBib3R0b206IDA7IH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIiBiaW5kOnRoaXM9e3JlZnMuY29udGFpbmVyfT5cblx0PGRpdiBjbGFzcz1cInBhbmVcIiBzdHlsZT1cIntkaW1lbnNpb259OiB7cG9zfSU7XCI+XG5cdFx0PHNsb3QgbmFtZT1cImFcIj48L3Nsb3Q+XG5cdDwvZGl2PlxuXG5cdDxkaXYgY2xhc3M9XCJwYW5lXCIgc3R5bGU9XCJ7ZGltZW5zaW9ufTogezEwMCAtIChwb3MpfSU7XCI+XG5cdFx0PHNsb3QgbmFtZT1cImJcIj48L3Nsb3Q+XG5cdDwvZGl2PlxuXG5cdHsjaWYgIWZpeGVkfVxuXHRcdDxkaXYgY2xhc3M9XCJ7dHlwZX0gZGl2aWRlclwiIHN0eWxlPVwie3NpZGV9OiBjYWxjKHtwb3N9JSAtIDhweClcIiB1c2U6ZHJhZz17c2V0UG9zfT48L2Rpdj5cblx0ey9pZn1cbjwvZGl2PlxuXG57I2lmIGRyYWdnaW5nfVxuXHQ8ZGl2IGNsYXNzPVwibW91c2VjYXRjaGVyXCI+PC9kaXY+XG57L2lmfSIsImV4cG9ydCBjb25zdCBpc19icm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7IiwiPHNjcmlwdD5cblx0aW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ3N2ZWx0ZSc7XG5cdGltcG9ydCB7IHNsaWRlIH0gZnJvbSAnc3ZlbHRlL3RyYW5zaXRpb24nO1xuXG5cdGNvbnN0IHsgbmF2aWdhdGUgfSA9IGdldENvbnRleHQoJ1JFUEwnKTtcblxuXHRleHBvcnQgbGV0IGtpbmQ7XG5cdGV4cG9ydCBsZXQgZGV0YWlscyA9IG51bGw7XG5cdGV4cG9ydCBsZXQgZmlsZW5hbWUgPSBudWxsO1xuXHRleHBvcnQgbGV0IHRydW5jYXRlO1xuXG5cdGZ1bmN0aW9uIG1lc3NhZ2UoZGV0YWlscykge1xuXHRcdGxldCBzdHIgPSBkZXRhaWxzLm1lc3NhZ2UgfHwgJ1ttaXNzaW5nIG1lc3NhZ2VdJztcblxuXHRcdGxldCBsb2MgPSBbXTtcblxuXHRcdGlmIChkZXRhaWxzLmZpbGVuYW1lICYmIGRldGFpbHMuZmlsZW5hbWUgIT09IGZpbGVuYW1lKSB7XG5cdFx0XHRsb2MucHVzaChkZXRhaWxzLmZpbGVuYW1lKTtcblx0XHR9XG5cblx0XHRpZiAoZGV0YWlscy5zdGFydCkgbG9jLnB1c2goZGV0YWlscy5zdGFydC5saW5lLCBkZXRhaWxzLnN0YXJ0LmNvbHVtbik7XG5cblx0XHRyZXR1cm4gc3RyICsgKGxvYy5sZW5ndGggPyBgICgke2xvYy5qb2luKCc6Jyl9KWAgOiBgYCk7XG5cdH07XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXHQubWVzc2FnZSB7XG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRcdGNvbG9yOiB3aGl0ZTtcblx0XHRwYWRkaW5nOiAxMnB4IDE2cHggMTJweCA0NHB4O1xuXHRcdGZvbnQ6IDQwMCAxMnB4LzEuNyB2YXIoLS1mb250KTtcblx0XHRtYXJnaW46IDA7XG5cdFx0Ym9yZGVyLXRvcDogMXB4IHNvbGlkIHdoaXRlO1xuXHR9XG5cblx0Lm5hdmlnYWJsZSB7XG5cdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHR9XG5cblx0Lm1lc3NhZ2U6OmJlZm9yZSB7XG5cdFx0Y29udGVudDogJyEnO1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRsZWZ0OiAxMnB4O1xuXHRcdHRvcDogMTBweDtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0bGluZS1oZWlnaHQ6IDE7XG5cdFx0cGFkZGluZzogNHB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDUwJTtcblx0XHRjb2xvcjogd2hpdGU7XG5cdFx0Ym9yZGVyOiAycHggc29saWQgd2hpdGU7XG5cdFx0Ym94LXNpemluZzogY29udGVudC1ib3g7XG5cdFx0d2lkdGg6IDEwcHg7XG5cdFx0aGVpZ2h0OiAxMHB4O1xuXHRcdGZvbnQtc2l6ZTogMTFweDtcblx0XHRmb250LXdlaWdodDogNzAwO1xuXHR9XG5cblx0LnRydW5jYXRlIHtcblx0XHR3aGl0ZS1zcGFjZTogcHJlO1xuXHRcdG92ZXJmbG93LXg6IGhpZGRlbjtcblx0XHR0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcblx0fVxuXG5cdHAge1xuXHRcdG1hcmdpbjogMDtcblx0fVxuXG5cdC5pbmZvIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zZWNvbmQpO1xuXHR9XG5cblx0LmVycm9yIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZGExMDZlO1xuXHR9XG5cblx0Lndhcm5pbmcge1xuXHRcdGJhY2tncm91bmQtY29sb3I6ICNlNDdlMGE7XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgaW46c2xpZGU9e3tkZWxheTogMTUwLCBkdXJhdGlvbjogMTAwfX0gb3V0OnNsaWRlPXt7ZHVyYXRpb246IDEwMH19IGNsYXNzPVwibWVzc2FnZSB7a2luZH1cIiBjbGFzczp0cnVuY2F0ZT5cblx0eyNpZiBkZXRhaWxzfVxuXHRcdDxwXG5cdFx0XHRjbGFzczpuYXZpZ2FibGU9e2RldGFpbHMuZmlsZW5hbWV9XG5cdFx0XHRvbjpjbGljaz1cInsoKSA9PiBuYXZpZ2F0ZShkZXRhaWxzKX1cIlxuXHRcdD57bWVzc2FnZShkZXRhaWxzKX08L3A+XG5cdHs6ZWxzZX1cblx0XHQ8c2xvdD48L3Nsb3Q+XG5cdHsvaWZ9XG48L2Rpdj4iLCI8c2NyaXB0IGNvbnRleHQ9XCJtb2R1bGVcIj5cblx0aW1wb3J0IHsgaXNfYnJvd3NlciB9IGZyb20gJy4vZW52LmpzJztcblxuXHRsZXQgY29kZW1pcnJvcl9wcm9taXNlO1xuXHRsZXQgX0NvZGVNaXJyb3I7XG5cblx0aWYgKGlzX2Jyb3dzZXIpIHtcblx0XHRjb2RlbWlycm9yX3Byb21pc2UgPSBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJjb2RlbWlycm9yXCIgKi8gJy4vY29kZW1pcnJvci5qcycpO1xuXG5cdFx0Y29kZW1pcnJvcl9wcm9taXNlLnRoZW4obW9kID0+IHtcblx0XHRcdF9Db2RlTWlycm9yID0gbW9kLmRlZmF1bHQ7XG5cdFx0fSk7XG5cdH1cbjwvc2NyaXB0PlxuXG48c2NyaXB0PlxuXHRpbXBvcnQgeyBvbk1vdW50LCBiZWZvcmVVcGRhdGUsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgZ2V0Q29udGV4dCB9IGZyb20gJ3N2ZWx0ZSc7XG5cdGltcG9ydCBNZXNzYWdlIGZyb20gJy4vTWVzc2FnZS5zdmVsdGUnO1xuXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cdGNvbnN0IHsgbmF2aWdhdGUgfSA9IGdldENvbnRleHQoJ1JFUEwnKTtcblxuXHRleHBvcnQgbGV0IHJlYWRvbmx5ID0gZmFsc2U7XG5cdGV4cG9ydCBsZXQgZXJyb3JMb2MgPSBudWxsO1xuXHRleHBvcnQgbGV0IGZsZXggPSBmYWxzZTtcblx0ZXhwb3J0IGxldCBsaW5lTnVtYmVycyA9IHRydWU7XG5cdGV4cG9ydCBsZXQgdGFiID0gdHJ1ZTtcblxuXHRsZXQgdztcblx0bGV0IGg7XG5cdGxldCBjb2RlID0gJyc7XG5cdGxldCBtb2RlO1xuXG5cdC8vIFdlIGhhdmUgdG8gZXhwb3NlIHNldCBhbmQgdXBkYXRlIG1ldGhvZHMsIHJhdGhlclxuXHQvLyB0aGFuIG1ha2luZyB0aGlzIHN0YXRlLWRyaXZlbiB0aHJvdWdoIHByb3BzLFxuXHQvLyBiZWNhdXNlIGl0J3MgZGlmZmljdWx0IHRvIHVwZGF0ZSBhbiBlZGl0b3Jcblx0Ly8gd2l0aG91dCByZXNldHRpbmcgc2Nyb2xsIG90aGVyd2lzZVxuXHRleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0KG5ld19jb2RlLCBuZXdfbW9kZSkge1xuXHRcdGlmIChuZXdfbW9kZSAhPT0gbW9kZSkge1xuXHRcdFx0YXdhaXQgY3JlYXRlRWRpdG9yKG1vZGUgPSBuZXdfbW9kZSk7XG5cdFx0fVxuXG5cdFx0Y29kZSA9IG5ld19jb2RlO1xuXHRcdHVwZGF0aW5nX2V4dGVybmFsbHkgPSB0cnVlO1xuXHRcdGlmIChlZGl0b3IpIGVkaXRvci5zZXRWYWx1ZShjb2RlKTtcblx0XHR1cGRhdGluZ19leHRlcm5hbGx5ID0gZmFsc2U7XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gdXBkYXRlKG5ld19jb2RlKSB7XG5cdFx0Y29kZSA9IG5ld19jb2RlO1xuXG5cdFx0aWYgKGVkaXRvcikge1xuXHRcdFx0Y29uc3QgeyBsZWZ0LCB0b3AgfSA9IGVkaXRvci5nZXRTY3JvbGxJbmZvKCk7XG5cdFx0XHRlZGl0b3Iuc2V0VmFsdWUoY29kZSA9IG5ld19jb2RlKTtcblx0XHRcdGVkaXRvci5zY3JvbGxUbyhsZWZ0LCB0b3ApO1xuXHRcdH1cblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiByZXNpemUoKSB7XG5cdFx0ZWRpdG9yLnJlZnJlc2goKTtcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBmb2N1cygpIHtcblx0XHRlZGl0b3IuZm9jdXMoKTtcblx0fVxuXG5cdGNvbnN0IG1vZGVzID0ge1xuXHRcdGpzOiB7XG5cdFx0XHRuYW1lOiAnamF2YXNjcmlwdCcsXG5cdFx0XHRqc29uOiBmYWxzZVxuXHRcdH0sXG5cdFx0anNvbjoge1xuXHRcdFx0bmFtZTogJ2phdmFzY3JpcHQnLFxuXHRcdFx0anNvbjogdHJ1ZVxuXHRcdH0sXG5cdFx0c3ZlbHRlOiB7XG5cdFx0XHRuYW1lOiAnaGFuZGxlYmFycycsXG5cdFx0XHRiYXNlOiAndGV4dC9odG1sJ1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCByZWZzID0ge307XG5cdGxldCBlZGl0b3I7XG5cdGxldCB1cGRhdGluZ19leHRlcm5hbGx5ID0gZmFsc2U7XG5cdGxldCBtYXJrZXI7XG5cdGxldCBlcnJvcl9saW5lO1xuXHRsZXQgZGVzdHJveWVkID0gZmFsc2U7XG5cdGxldCBDb2RlTWlycm9yO1xuXG5cdCQ6IGlmIChlZGl0b3IgJiYgdyAmJiBoKSB7XG5cdFx0ZWRpdG9yLnJlZnJlc2goKTtcblx0fVxuXG5cdCQ6IHtcblx0XHRpZiAobWFya2VyKSBtYXJrZXIuY2xlYXIoKTtcblxuXHRcdGlmIChlcnJvckxvYykge1xuXHRcdFx0Y29uc3QgbGluZSA9IGVycm9yTG9jLmxpbmUgLSAxO1xuXHRcdFx0Y29uc3QgY2ggPSBlcnJvckxvYy5jb2x1bW47XG5cblx0XHRcdG1hcmtlciA9IGVkaXRvci5tYXJrVGV4dCh7IGxpbmUsIGNoIH0sIHsgbGluZSwgY2g6IGNoICsgMSB9LCB7XG5cdFx0XHRcdGNsYXNzTmFtZTogJ2Vycm9yLWxvYydcblx0XHRcdH0pO1xuXG5cdFx0XHRlcnJvcl9saW5lID0gbGluZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXJyb3JfbGluZSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0bGV0IHByZXZpb3VzX2Vycm9yX2xpbmU7XG5cdCQ6IGlmIChlZGl0b3IpIHtcblx0XHRpZiAocHJldmlvdXNfZXJyb3JfbGluZSAhPSBudWxsKSB7XG5cdFx0XHRlZGl0b3IucmVtb3ZlTGluZUNsYXNzKHByZXZpb3VzX2Vycm9yX2xpbmUsICd3cmFwJywgJ2Vycm9yLWxpbmUnKVxuXHRcdH1cblxuXHRcdGlmIChlcnJvcl9saW5lICYmIChlcnJvcl9saW5lICE9PSBwcmV2aW91c19lcnJvcl9saW5lKSkge1xuXHRcdFx0ZWRpdG9yLmFkZExpbmVDbGFzcyhlcnJvcl9saW5lLCAnd3JhcCcsICdlcnJvci1saW5lJyk7XG5cdFx0XHRwcmV2aW91c19lcnJvcl9saW5lID0gZXJyb3JfbGluZTtcblx0XHR9XG5cdH1cblxuXHRvbk1vdW50KCgpID0+IHtcblx0XHRpZiAoX0NvZGVNaXJyb3IpIHtcblx0XHRcdENvZGVNaXJyb3IgPSBfQ29kZU1pcnJvcjtcblx0XHRcdGNyZWF0ZUVkaXRvcihtb2RlIHx8ICdzdmVsdGUnKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKGVkaXRvcikgZWRpdG9yLnNldFZhbHVlKGNvZGUgfHwgJycpO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvZGVtaXJyb3JfcHJvbWlzZS50aGVuKGFzeW5jIG1vZCA9PiB7XG5cdFx0XHRcdENvZGVNaXJyb3IgPSBtb2QuZGVmYXVsdDtcblx0XHRcdFx0YXdhaXQgY3JlYXRlRWRpdG9yKG1vZGUgfHwgJ3N2ZWx0ZScpO1xuXHRcdFx0XHRpZiAoZWRpdG9yKSBlZGl0b3Iuc2V0VmFsdWUoY29kZSB8fCAnJyk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0ZGVzdHJveWVkID0gdHJ1ZTtcblx0XHRcdGlmIChlZGl0b3IpIGVkaXRvci50b1RleHRBcmVhKCk7XG5cdFx0fVxuXHR9KTtcblxuXHRsZXQgZmlyc3QgPSB0cnVlO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUVkaXRvcihtb2RlKSB7XG5cdFx0aWYgKGRlc3Ryb3llZCB8fCAhQ29kZU1pcnJvcikgcmV0dXJuO1xuXG5cdFx0aWYgKGVkaXRvcikgZWRpdG9yLnRvVGV4dEFyZWEoKTtcblxuXHRcdGNvbnN0IG9wdHMgPSB7XG5cdFx0XHRsaW5lTnVtYmVycyxcblx0XHRcdGxpbmVXcmFwcGluZzogdHJ1ZSxcblx0XHRcdGluZGVudFdpdGhUYWJzOiB0cnVlLFxuXHRcdFx0aW5kZW50VW5pdDogMixcblx0XHRcdHRhYlNpemU6IDIsXG5cdFx0XHR2YWx1ZTogJycsXG5cdFx0XHRtb2RlOiBtb2Rlc1ttb2RlXSB8fCB7XG5cdFx0XHRcdG5hbWU6IG1vZGVcblx0XHRcdH0sXG5cdFx0XHRyZWFkT25seTogcmVhZG9ubHksXG5cdFx0XHRhdXRvQ2xvc2VCcmFja2V0czogdHJ1ZSxcblx0XHRcdGF1dG9DbG9zZVRhZ3M6IHRydWVcblx0XHR9O1xuXG5cdFx0aWYgKCF0YWIpIG9wdHMuZXh0cmFLZXlzID0ge1xuXHRcdFx0VGFiOiB0YWIsXG5cdFx0XHQnU2hpZnQtVGFiJzogdGFiXG5cdFx0fTtcblxuXHRcdC8vIENyZWF0aW5nIGEgdGV4dCBlZGl0b3IgaXMgYSBsb3Qgb2Ygd29yaywgc28gd2UgeWllbGRcblx0XHQvLyB0aGUgbWFpbiB0aHJlYWQgZm9yIGEgbW9tZW50LiBUaGlzIGhlbHBzIHJlZHVjZSBqYW5rXG5cdFx0aWYgKGZpcnN0KSBhd2FpdCBzbGVlcCg1MCk7XG5cblx0XHRpZiAoZGVzdHJveWVkKSByZXR1cm47XG5cblx0XHRlZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShyZWZzLmVkaXRvciwgb3B0cyk7XG5cblx0XHRlZGl0b3Iub24oJ2NoYW5nZScsIGluc3RhbmNlID0+IHtcblx0XHRcdGlmICghdXBkYXRpbmdfZXh0ZXJuYWxseSkge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGluc3RhbmNlLmdldFZhbHVlKCk7XG5cdFx0XHRcdGRpc3BhdGNoKCdjaGFuZ2UnLCB7IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aWYgKGZpcnN0KSBhd2FpdCBzbGVlcCg1MCk7XG5cdFx0ZWRpdG9yLnJlZnJlc2goKTtcblxuXHRcdGZpcnN0ID0gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBzbGVlcChtcykge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdWxmaWwgPT4gc2V0VGltZW91dChmdWxmaWwsIG1zKSk7XG5cdH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG5cdC5jb2RlbWlycm9yLWNvbnRhaW5lciB7XG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0bGluZS1oZWlnaHQ6IDEuNTtcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXHR9XG5cblx0LmNvZGVtaXJyb3ItY29udGFpbmVyIDpnbG9iYWwoLkNvZGVNaXJyb3IpIHtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0YmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5cdFx0Zm9udDogNDAwIDE0cHgvMS43IHZhcigtLWZvbnQtbW9ubyk7XG5cdFx0Y29sb3I6IHZhcigtLWJhc2UpO1xuXHR9XG5cblx0LmNvZGVtaXJyb3ItY29udGFpbmVyLmZsZXggOmdsb2JhbCguQ29kZU1pcnJvcikge1xuXHRcdGhlaWdodDogYXV0bztcblx0fVxuXG5cdC5jb2RlbWlycm9yLWNvbnRhaW5lci5mbGV4IDpnbG9iYWwoLkNvZGVNaXJyb3ItbGluZXMpIHtcblx0XHRwYWRkaW5nOiAwO1xuXHR9XG5cblx0LmNvZGVtaXJyb3ItY29udGFpbmVyIDpnbG9iYWwoLkNvZGVNaXJyb3ItZ3V0dGVycykge1xuXHRcdHBhZGRpbmc6IDAgMTZweCAwIDhweDtcblx0XHRib3JkZXI6IG5vbmU7XG5cdH1cblxuXHQuY29kZW1pcnJvci1jb250YWluZXIgOmdsb2JhbCguZXJyb3ItbG9jKSB7XG5cdFx0cG9zaXRpb246IHJlbGF0aXZlO1xuXHRcdGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZGExMDZlO1xuXHR9XG5cblx0LmNvZGVtaXJyb3ItY29udGFpbmVyIDpnbG9iYWwoLmVycm9yLWxpbmUpIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIwMCwgMCwgMCwgLjA1KTtcblx0fVxuXG5cdHRleHRhcmVhIHtcblx0XHR2aXNpYmlsaXR5OiBoaWRkZW47XG5cdH1cblxuXHRwcmUge1xuXHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0dG9wOiAwO1xuXHRcdGxlZnQ6IDA7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdHBhZGRpbmc6IDRweCA0cHggNHB4IDYwcHg7XG5cdFx0cmVzaXplOiBub25lO1xuXHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm8pO1xuXHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRsaW5lLWhlaWdodDogMS43O1xuXHRcdHVzZXItc2VsZWN0OiBub25lO1xuXHRcdHBvaW50ZXItZXZlbnRzOiBub25lO1xuXHRcdGNvbG9yOiAjY2NjO1xuXHRcdHRhYi1zaXplOiAyO1xuXHRcdC1tb3otdGFiLXNpemU6IDI7XG5cdH1cblxuXHQuZmxleCBwcmUge1xuXHRcdHBhZGRpbmc6IDAgMCAwIDRweDtcblx0XHRoZWlnaHQ6IGF1dG87XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9J2NvZGVtaXJyb3ItY29udGFpbmVyJyBjbGFzczpmbGV4IGJpbmQ6b2Zmc2V0V2lkdGg9e3d9IGJpbmQ6b2Zmc2V0SGVpZ2h0PXtofT5cblx0PCEtLSBzdmVsdGUtaWdub3JlIGExMXktcG9zaXRpdmUtdGFiaW5kZXggLS0+XG5cdDx0ZXh0YXJlYVxuXHRcdHRhYmluZGV4PScyJ1xuXHRcdGJpbmQ6dGhpcz17cmVmcy5lZGl0b3J9XG5cdFx0cmVhZG9ubHlcblx0XHR2YWx1ZT17Y29kZX1cblx0PjwvdGV4dGFyZWE+XG5cblx0eyNpZiAhQ29kZU1pcnJvcn1cblx0XHQ8cHJlIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDBcIlxuXHRcdD57Y29kZX08L3ByZT5cblxuXHRcdDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBib3R0b206IDBcIj5cblx0XHRcdDxNZXNzYWdlIGtpbmQ9J2luZm8nPmxvYWRpbmcgZWRpdG9yLi4uPC9NZXNzYWdlPlxuXHRcdDwvZGl2PlxuXHR7L2lmfVxuPC9kaXY+IiwiPHNjcmlwdD5cblx0aW1wb3J0IHsgZ2V0Q29udGV4dCwgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnc3ZlbHRlJztcblxuXHRleHBvcnQgbGV0IGhhbmRsZV9zZWxlY3Q7XG5cblx0Y29uc3QgeyBjb21wb25lbnRzLCBzZWxlY3RlZCwgcmVxdWVzdF9mb2N1cywgcmVidW5kbGUgfSA9IGdldENvbnRleHQoJ1JFUEwnKTtcblxuXHRsZXQgZWRpdGluZyA9IG51bGw7XG5cblx0ZnVuY3Rpb24gc2VsZWN0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRcdGlmICgkc2VsZWN0ZWQgIT09IGNvbXBvbmVudCkge1xuXHRcdFx0ZWRpdGluZyA9IG51bGw7XG5cdFx0XHRoYW5kbGVfc2VsZWN0KGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZWRpdFRhYihjb21wb25lbnQpIHtcblx0XHRpZiAoJHNlbGVjdGVkID09PSBjb21wb25lbnQpIHtcblx0XHRcdGVkaXRpbmcgPSAkc2VsZWN0ZWQ7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2xvc2VFZGl0KCkge1xuXHRcdGNvbnN0IG1hdGNoID0gLyguKylcXC4oc3ZlbHRlfGpzKSQvLmV4ZWMoJHNlbGVjdGVkLm5hbWUpO1xuXHRcdCRzZWxlY3RlZC5uYW1lID0gbWF0Y2ggPyBtYXRjaFsxXSA6ICRzZWxlY3RlZC5uYW1lO1xuXHRcdGlmIChtYXRjaCAmJiBtYXRjaFsyXSkgJHNlbGVjdGVkLnR5cGUgPSBtYXRjaFsyXTtcblx0XHRlZGl0aW5nID0gbnVsbDtcblxuXHRcdC8vIHJlLXNlbGVjdCwgaW4gY2FzZSB0aGUgdHlwZSBjaGFuZ2VkXG5cdFx0aGFuZGxlX3NlbGVjdCgkc2VsZWN0ZWQpO1xuXG5cdFx0Y29tcG9uZW50cyA9IGNvbXBvbmVudHM7IC8vIFRPRE8gbmVjZXNzYXJ5P1xuXG5cdFx0Ly8gZm9jdXMgdGhlIGVkaXRvciwgYnV0IHdhaXQgYSBiZWF0IChzbyBrZXkgZXZlbnRzIGFyZW4ndCBtaXNkaXJlY3RlZClcblx0XHRzZXRUaW1lb3V0KHJlcXVlc3RfZm9jdXMpO1xuXG5cdFx0cmVidW5kbGUoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZShjb21wb25lbnQpIHtcblx0XHRsZXQgcmVzdWx0ID0gY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke2NvbXBvbmVudC5uYW1lfS4ke2NvbXBvbmVudC50eXBlfT9gKTtcblxuXHRcdGlmIChyZXN1bHQpIHtcblx0XHRcdGNvbnN0IGluZGV4ID0gJGNvbXBvbmVudHMuaW5kZXhPZihjb21wb25lbnQpO1xuXG5cdFx0XHRpZiAofmluZGV4KSB7XG5cdFx0XHRcdGNvbXBvbmVudHMuc2V0KCRjb21wb25lbnRzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQoJGNvbXBvbmVudHMuc2xpY2UoaW5kZXggKyAxKSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgQ291bGQgbm90IGZpbmQgY29tcG9uZW50ISBUaGF0J3MuLi4gb2RkYCk7XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZV9zZWxlY3QoJGNvbXBvbmVudHNbaW5kZXhdIHx8ICRjb21wb25lbnRzWyRjb21wb25lbnRzLmxlbmd0aCAtIDFdKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3RJbnB1dChldmVudCkge1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0ZXZlbnQudGFyZ2V0LnNlbGVjdCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0bGV0IHVpZCA9IDE7XG5cblx0ZnVuY3Rpb24gYWRkTmV3KCkge1xuXHRcdGNvbnN0IGNvbXBvbmVudCA9IHtcblx0XHRcdG5hbWU6IHVpZCsrID8gYENvbXBvbmVudCR7dWlkfWAgOiAnQ29tcG9uZW50MScsXG5cdFx0XHR0eXBlOiAnc3ZlbHRlJyxcblx0XHRcdHNvdXJjZTogJydcblx0XHR9O1xuXG5cdFx0ZWRpdGluZyA9IGNvbXBvbmVudDtcblxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Ly8gVE9ETyB3ZSBjYW4gZG8gdGhpcyB3aXRob3V0IElEc1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29tcG9uZW50Lm5hbWUpLnNjcm9sbEludG9WaWV3KGZhbHNlKTtcblx0XHR9KTtcblxuXHRcdGNvbXBvbmVudHMudXBkYXRlKGNvbXBvbmVudHMgPT4gY29tcG9uZW50cy5jb25jYXQoY29tcG9uZW50KSk7XG5cdFx0aGFuZGxlX3NlbGVjdChjb21wb25lbnQpO1xuXHR9XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXHQuY29tcG9uZW50LXNlbGVjdG9yIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0fVxuXG5cdC5maWxlLXRhYnMge1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRtYXJnaW46IDA7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0XHRvdmVyZmxvdy14OiBhdXRvO1xuXHRcdG92ZXJmbG93LXk6IGhpZGRlbjtcblx0XHRoZWlnaHQ6IDEwZW07XG5cdH1cblxuXHQuZmlsZS10YWJzIC5idXR0b24sIC5maWxlLXRhYnMgYnV0dG9uIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xuXHRcdGZvbnQ6IDQwMCAxMnB4LzEuNSB2YXIoLS1mb250KTtcblx0XHRiYWNrZ3JvdW5kOiB3aGl0ZTtcblx0XHRib3JkZXI6IG5vbmU7XG5cdFx0Ym9yZGVyLWJvdHRvbTogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xuXHRcdHBhZGRpbmc6IDEycHggMTRweCA4cHggOHB4O1xuXHRcdG1hcmdpbjogMDtcblx0XHRjb2xvcjogIzk5OTtcblx0XHRib3JkZXItcmFkaXVzOiAwO1xuXHR9XG5cblx0LmZpbGUtdGFicyAuYnV0dG9uOmZpcnN0LWNoaWxkIHtcblx0XHRwYWRkaW5nLWxlZnQ6IDEycHg7XG5cdH1cblxuXHQuZmlsZS10YWJzIC5idXR0b24uYWN0aXZlIHtcblx0XHQvKiBjb2xvcjogdmFyKC0tc2Vjb25kKTsgKi9cblx0XHRjb2xvcjogIzMzMztcblx0XHRib3JkZXItYm90dG9tOiAzcHggc29saWQgdmFyKC0tcHJpbWUpO1xuXHR9XG5cblx0LmVkaXRhYmxlLCAudW5lZGl0YWJsZSwgLmlucHV0LXNpemVyLCBpbnB1dCB7XG5cdFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRsaW5lLWhlaWdodDogMTtcblx0fVxuXG5cdC5pbnB1dC1zaXplciB7XG5cdFx0Y29sb3I6ICNjY2M7XG5cdH1cblxuXHRpbnB1dCB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGxlZnQ6IDhweDtcblx0XHR0b3A6IDEycHg7XG5cdFx0Zm9udDogNDAwIDEycHgvMS41IHZhcigtLWZvbnQpO1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRjb2xvcjogdmFyKC0tZmxhc2gpO1xuXHRcdG91dGxpbmU6IG5vbmU7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdH1cblxuXHQucmVtb3ZlIHtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0ZGlzcGxheTogbm9uZTtcblx0XHRyaWdodDogMXB4O1xuXHRcdHRvcDogNHB4O1xuXHRcdHdpZHRoOiAxNnB4O1xuXHRcdHRleHQtYWxpZ246IHJpZ2h0O1xuXHRcdHBhZGRpbmc6IDEycHggMCAxMnB4IDVweDtcblx0XHRmb250LXNpemU6IDhweDtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdH1cblxuXHQucmVtb3ZlOmhvdmVyIHtcblx0XHRjb2xvcjogdmFyKC0tZmxhc2gpO1xuXHR9XG5cblx0LmZpbGUtdGFicyAuYnV0dG9uLmFjdGl2ZSAuZWRpdGFibGUge1xuXHRcdGN1cnNvcjogdGV4dDtcblx0fVxuXG5cdC5maWxlLXRhYnMgLmJ1dHRvbi5hY3RpdmUgLnJlbW92ZSB7XG5cdFx0ZGlzcGxheTogYmxvY2s7XG5cdH1cblxuXHQuYWRkLW5ldyB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdGxlZnQ6IDA7XG5cdFx0dG9wOiAwO1xuXHRcdHBhZGRpbmc6IDEycHggMTBweCA4cHggMCAhaW1wb3J0YW50O1xuXHRcdGhlaWdodDogNDBweDtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0YmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG5cdH1cblxuXHQuYWRkLW5ldzpob3ZlciB7XG5cdFx0Y29sb3I6IHZhcigtLWZsYXNoKSAhaW1wb3J0YW50O1xuXHR9XG5cblx0c3ZnIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0b3ZlcmZsb3c6IGhpZGRlbjtcblx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuXHRcdC1vLW9iamVjdC1maXQ6IGNvbnRhaW47XG5cdFx0b2JqZWN0LWZpdDogY29udGFpbjtcblx0XHQtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7XG5cdFx0dHJhbnNmb3JtLW9yaWdpbjogY2VudGVyIGNlbnRlcjtcblxuXHRcdHN0cm9rZTogY3VycmVudENvbG9yO1xuXHRcdHN0cm9rZS13aWR0aDogMjtcblx0XHRzdHJva2UtbGluZWNhcDogcm91bmQ7XG5cdFx0c3Ryb2tlLWxpbmVqb2luOiByb3VuZDtcblx0XHRmaWxsOiBub25lO1xuXHR9XG48L3N0eWxlPlxuXG48ZGl2IGNsYXNzPVwiY29tcG9uZW50LXNlbGVjdG9yXCI+XG5cdHsjaWYgJGNvbXBvbmVudHMubGVuZ3RofVxuXHRcdDxkaXYgY2xhc3M9XCJmaWxlLXRhYnNcIiBvbjpkYmxjbGljaz1cInthZGROZXd9XCI+XG5cdFx0XHR7I2VhY2ggJGNvbXBvbmVudHMgYXMgY29tcG9uZW50fVxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0aWQ9e2NvbXBvbmVudC5uYW1lfVxuXHRcdFx0XHRcdGNsYXNzPVwiYnV0dG9uXCJcblx0XHRcdFx0XHRyb2xlPVwiYnV0dG9uXCJcblx0XHRcdFx0XHRjbGFzczphY3RpdmU9XCJ7Y29tcG9uZW50ID09PSAkc2VsZWN0ZWR9XCJcblx0XHRcdFx0XHRvbjpjbGljaz1cInsoKSA9PiBzZWxlY3RDb21wb25lbnQoY29tcG9uZW50KX1cIlxuXHRcdFx0XHRcdG9uOmRibGNsaWNrPVwie2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cIlxuXHRcdFx0XHQ+XG5cdFx0XHRcdFx0eyNpZiBjb21wb25lbnQubmFtZSA9PSAnQXBwJ31cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ1bmVkaXRhYmxlXCI+XG5cdFx0XHRcdFx0XHRcdEFwcC5zdmVsdGVcblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHs6ZWxzZX1cblx0XHRcdFx0XHRcdHsjaWYgY29tcG9uZW50ID09PSBlZGl0aW5nfVxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImlucHV0LXNpemVyXCI+e2VkaXRpbmcubmFtZSArICgvXFwuLy50ZXN0KGVkaXRpbmcubmFtZSkgPyAnJyA6IGAuJHtlZGl0aW5nLnR5cGV9YCl9PC9zcGFuPlxuXG5cdFx0XHRcdFx0XHRcdDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LWF1dG9mb2N1cyAtLT5cblx0XHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0YXV0b2ZvY3VzXG5cdFx0XHRcdFx0XHRcdFx0c3BlbGxjaGVjaz17ZmFsc2V9XG5cdFx0XHRcdFx0XHRcdFx0YmluZDp2YWx1ZT17ZWRpdGluZy5uYW1lfVxuXHRcdFx0XHRcdFx0XHRcdG9uOmZvY3VzPXtzZWxlY3RJbnB1dH1cblx0XHRcdFx0XHRcdFx0XHRvbjpibHVyPXtjbG9zZUVkaXR9XG5cdFx0XHRcdFx0XHRcdFx0b246a2V5ZG93bj17ZSA9PiBlLndoaWNoID09PSAxMyAmJiBlLnRhcmdldC5ibHVyKCl9XG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdHs6ZWxzZX1cblx0XHRcdFx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiZWRpdGFibGVcIlxuXHRcdFx0XHRcdFx0XHRcdHRpdGxlPVwiZWRpdCBjb21wb25lbnQgbmFtZVwiXG5cdFx0XHRcdFx0XHRcdFx0b246Y2xpY2s9XCJ7KCkgPT4gZWRpdFRhYihjb21wb25lbnQpfVwiXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHR7Y29tcG9uZW50Lm5hbWV9Lntjb21wb25lbnQudHlwZX1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJyZW1vdmVcIiBvbjpjbGljaz1cInsoKSA9PiByZW1vdmUoY29tcG9uZW50KX1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8c3ZnIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxsaW5lIHN0cm9rZT1cIiM5OTlcIiB4MT0nMTgnIHkxPSc2JyB4Mj0nNicgeTI9JzE4JyAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxpbmUgc3Ryb2tlPVwiIzk5OVwiIHgxPSc2JyB5MT0nNicgeDI9JzE4JyB5Mj0nMTgnIC8+XG5cdFx0XHRcdFx0XHRcdFx0PC9zdmc+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdHsvaWZ9XG5cdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7L2VhY2h9XG5cblx0XHRcdDxidXR0b24gY2xhc3M9XCJhZGQtbmV3XCIgb246Y2xpY2s9e2FkZE5ld30gdGl0bGU9XCJhZGQgbmV3IGNvbXBvbmVudFwiPlxuXHRcdFx0XHQ8c3ZnIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cblx0XHRcdFx0XHQ8bGluZSBzdHJva2U9XCIjOTk5XCIgeDE9JzEyJyB5MT0nNScgeDI9JzEyJyB5Mj0nMTknIC8+XG5cdFx0XHRcdFx0PGxpbmUgc3Ryb2tlPVwiIzk5OVwiIHgxPSc1JyB5MT0nMTInIHgyPScxOScgeTI9JzEyJyAvPlxuXHRcdFx0XHQ8L3N2Zz5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdDwvZGl2PlxuXHR7L2lmfVxuPC9kaXY+XG4iLCI8c2NyaXB0PlxuXHRpbXBvcnQgeyBnZXRDb250ZXh0LCBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcblx0aW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnLi4vQ29kZU1pcnJvci5zdmVsdGUnO1xuXHRpbXBvcnQgTWVzc2FnZSBmcm9tICcuLi9NZXNzYWdlLnN2ZWx0ZSc7XG5cblx0Y29uc3QgeyBidW5kbGUsIHNlbGVjdGVkLCBoYW5kbGVfY2hhbmdlLCBuYXZpZ2F0ZSwgcmVnaXN0ZXJfbW9kdWxlX2VkaXRvciB9ID0gZ2V0Q29udGV4dCgnUkVQTCcpO1xuXG5cdGV4cG9ydCBsZXQgZXJyb3JMb2M7XG5cblx0bGV0IGVkaXRvcjtcblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0cmVnaXN0ZXJfbW9kdWxlX2VkaXRvcihlZGl0b3IpO1xuXHR9KTtcblxuXHRleHBvcnQgZnVuY3Rpb24gZm9jdXMoKSB7XG5cdFx0ZWRpdG9yLmZvY3VzKCk7XG5cdH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG5cdC5lZGl0b3Itd3JhcHBlciB7XG5cdFx0ei1pbmRleDogNTtcblx0XHRiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrLWxpZ2h0KTtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdH1cblxuXHQuZWRpdG9yIHtcblx0XHRoZWlnaHQ6IDA7XG5cdFx0ZmxleDogMSAxIGF1dG87XG5cdH1cblxuXHQ6Z2xvYmFsKC5jb2x1bW5zKSAuZWRpdG9yLXdyYXBwZXIge1xuXHRcdC8qIG1ha2UgaXQgZWFzaWVyIHRvIGludGVyYWN0IHdpdGggc2Nyb2xsYmFyICovXG5cdFx0cGFkZGluZy1yaWdodDogOHB4O1xuXHRcdGhlaWdodDogYXV0bztcblx0XHQvKiBoZWlnaHQ6IDEwMCU7ICovXG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJlZGl0b3Itd3JhcHBlclwiPlxuXHQ8ZGl2IGNsYXNzPVwiZWRpdG9yXCI+XG5cdFx0PENvZGVNaXJyb3Jcblx0XHRcdGJpbmQ6dGhpcz17ZWRpdG9yfVxuXHRcdFx0e2Vycm9yTG9jfVxuXHRcdFx0b246Y2hhbmdlPXtoYW5kbGVfY2hhbmdlfVxuXHRcdC8+XG5cdDwvZGl2PlxuXG5cdDxkaXYgY2xhc3M9XCJpbmZvXCI+XG5cdFx0eyNpZiAkYnVuZGxlfVxuXHRcdFx0eyNpZiAkYnVuZGxlLmVycm9yfVxuXHRcdFx0XHQ8TWVzc2FnZSBraW5kPVwiZXJyb3JcIiBkZXRhaWxzPXskYnVuZGxlLmVycm9yfSBmaWxlbmFtZT1cInskc2VsZWN0ZWQubmFtZX0ueyRzZWxlY3RlZC50eXBlfVwiLz5cblx0XHRcdHs6ZWxzZSBpZiAkYnVuZGxlLndhcm5pbmdzLmxlbmd0aCA+IDB9XG5cdFx0XHRcdHsjZWFjaCAkYnVuZGxlLndhcm5pbmdzIGFzIHdhcm5pbmd9XG5cdFx0XHRcdFx0PE1lc3NhZ2Uga2luZD1cIndhcm5pbmdcIiBkZXRhaWxzPXt3YXJuaW5nfSBmaWxlbmFtZT1cInskc2VsZWN0ZWQubmFtZX0ueyRzZWxlY3RlZC50eXBlfVwiLz5cblx0XHRcdFx0ey9lYWNofVxuXHRcdFx0ey9pZn1cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cbjwvZGl2PiIsInZhciBjaGFyVG9JbnRlZ2VyID0ge307XG52YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJUb0ludGVnZXJbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuZnVuY3Rpb24gZGVjb2RlKG1hcHBpbmdzKSB7XG4gICAgdmFyIGdlbmVyYXRlZENvZGVDb2x1bW4gPSAwOyAvLyBmaXJzdCBmaWVsZFxuICAgIHZhciBzb3VyY2VGaWxlSW5kZXggPSAwOyAvLyBzZWNvbmQgZmllbGRcbiAgICB2YXIgc291cmNlQ29kZUxpbmUgPSAwOyAvLyB0aGlyZCBmaWVsZFxuICAgIHZhciBzb3VyY2VDb2RlQ29sdW1uID0gMDsgLy8gZm91cnRoIGZpZWxkXG4gICAgdmFyIG5hbWVJbmRleCA9IDA7IC8vIGZpZnRoIGZpZWxkXG4gICAgdmFyIGRlY29kZWQgPSBbXTtcbiAgICB2YXIgbGluZSA9IFtdO1xuICAgIHZhciBzZWdtZW50ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBzaGlmdCA9IDAsIHZhbHVlID0gMCwgbGVuID0gbWFwcGluZ3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGMgPSBtYXBwaW5ncy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA9PT0gNDQpIHsgLy8gXCIsXCJcbiAgICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aClcbiAgICAgICAgICAgICAgICBsaW5lLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgICBzZWdtZW50ID0gW107XG4gICAgICAgICAgICBqID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjID09PSA1OSkgeyAvLyBcIjtcIlxuICAgICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGxpbmUucHVzaChzZWdtZW50KTtcbiAgICAgICAgICAgIHNlZ21lbnQgPSBbXTtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgICAgZGVjb2RlZC5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgbGluZSA9IFtdO1xuICAgICAgICAgICAgZ2VuZXJhdGVkQ29kZUNvbHVtbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW50ZWdlciA9IGNoYXJUb0ludGVnZXJbY107XG4gICAgICAgICAgICBpZiAoaW50ZWdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciAoJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoYykgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhc0NvbnRpbnVhdGlvbkJpdCA9IGludGVnZXIgJiAzMjtcbiAgICAgICAgICAgIGludGVnZXIgJj0gMzE7XG4gICAgICAgICAgICB2YWx1ZSArPSBpbnRlZ2VyIDw8IHNoaWZ0O1xuICAgICAgICAgICAgaWYgKGhhc0NvbnRpbnVhdGlvbkJpdCkge1xuICAgICAgICAgICAgICAgIHNoaWZ0ICs9IDU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkTmVnYXRlID0gdmFsdWUgJiAxO1xuICAgICAgICAgICAgICAgIHZhbHVlID4+Pj0gMTtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkTmVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gLXZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IC0weDgwMDAwMDAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaiA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZENvZGVDb2x1bW4gKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQucHVzaChnZW5lcmF0ZWRDb2RlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWxlSW5kZXggKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQucHVzaChzb3VyY2VGaWxlSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChqID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvZGVMaW5lICs9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50LnB1c2goc291cmNlQ29kZUxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChqID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNvZGVDb2x1bW4gKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQucHVzaChzb3VyY2VDb2RlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaiA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lSW5kZXggKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQucHVzaChuYW1lSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzaGlmdCA9IDA7IC8vIHJlc2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNlZ21lbnQubGVuZ3RoKVxuICAgICAgICBsaW5lLnB1c2goc2VnbWVudCk7XG4gICAgZGVjb2RlZC5wdXNoKGxpbmUpO1xuICAgIHJldHVybiBkZWNvZGVkO1xufVxuZnVuY3Rpb24gZW5jb2RlKGRlY29kZWQpIHtcbiAgICB2YXIgc291cmNlRmlsZUluZGV4ID0gMDsgLy8gc2Vjb25kIGZpZWxkXG4gICAgdmFyIHNvdXJjZUNvZGVMaW5lID0gMDsgLy8gdGhpcmQgZmllbGRcbiAgICB2YXIgc291cmNlQ29kZUNvbHVtbiA9IDA7IC8vIGZvdXJ0aCBmaWVsZFxuICAgIHZhciBuYW1lSW5kZXggPSAwOyAvLyBmaWZ0aCBmaWVsZFxuICAgIHZhciBtYXBwaW5ncyA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVjb2RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbGluZSA9IGRlY29kZWRbaV07XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAgICAgIG1hcHBpbmdzICs9ICc7JztcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhciBnZW5lcmF0ZWRDb2RlQ29sdW1uID0gMDsgLy8gZmlyc3QgZmllbGRcbiAgICAgICAgdmFyIGxpbmVNYXBwaW5ncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGxpbmVfMSA9IGxpbmU7IF9pIDwgbGluZV8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBsaW5lXzFbX2ldO1xuICAgICAgICAgICAgdmFyIHNlZ21lbnRNYXBwaW5ncyA9IGVuY29kZUludGVnZXIoc2VnbWVudFswXSAtIGdlbmVyYXRlZENvZGVDb2x1bW4pO1xuICAgICAgICAgICAgZ2VuZXJhdGVkQ29kZUNvbHVtbiA9IHNlZ21lbnRbMF07XG4gICAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudE1hcHBpbmdzICs9XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZUludGVnZXIoc2VnbWVudFsxXSAtIHNvdXJjZUZpbGVJbmRleCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlSW50ZWdlcihzZWdtZW50WzJdIC0gc291cmNlQ29kZUxpbmUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZUludGVnZXIoc2VnbWVudFszXSAtIHNvdXJjZUNvZGVDb2x1bW4pO1xuICAgICAgICAgICAgICAgIHNvdXJjZUZpbGVJbmRleCA9IHNlZ21lbnRbMV07XG4gICAgICAgICAgICAgICAgc291cmNlQ29kZUxpbmUgPSBzZWdtZW50WzJdO1xuICAgICAgICAgICAgICAgIHNvdXJjZUNvZGVDb2x1bW4gPSBzZWdtZW50WzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudE1hcHBpbmdzICs9IGVuY29kZUludGVnZXIoc2VnbWVudFs0XSAtIG5hbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgbmFtZUluZGV4ID0gc2VnbWVudFs0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVNYXBwaW5ncy5wdXNoKHNlZ21lbnRNYXBwaW5ncyk7XG4gICAgICAgIH1cbiAgICAgICAgbWFwcGluZ3MgKz0gbGluZU1hcHBpbmdzLmpvaW4oJywnKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBpbmdzO1xufVxuZnVuY3Rpb24gZW5jb2RlSW50ZWdlcihudW0pIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgbnVtID0gbnVtIDwgMCA/ICgtbnVtIDw8IDEpIHwgMSA6IG51bSA8PCAxO1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGNsYW1wZWQgPSBudW0gJiAzMTtcbiAgICAgICAgbnVtID4+Pj0gNTtcbiAgICAgICAgaWYgKG51bSA+IDApIHtcbiAgICAgICAgICAgIGNsYW1wZWQgfD0gMzI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IGNoYXJzW2NsYW1wZWRdO1xuICAgIH0gd2hpbGUgKG51bSA+IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IGRlY29kZSwgZW5jb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb3VyY2VtYXAtY29kZWMuZXMuanMubWFwXG4iLCJpbXBvcnQgeyBkZWNvZGUgfSBmcm9tICdzb3VyY2VtYXAtY29kZWMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRMb2NhdGlvbkZyb21TdGFjayhzdGFjaywgbWFwKSB7XG5cdGlmICghc3RhY2spIHJldHVybjtcblx0Y29uc3QgbGFzdCA9IHN0YWNrLnNwbGl0KCdcXG4nKVsxXTtcblx0Y29uc3QgbWF0Y2ggPSAvPGFub255bW91cz46KFxcZCspOihcXGQrKVxcKSQvLmV4ZWMobGFzdCk7XG5cblx0aWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG5cblx0Y29uc3QgbGluZSA9ICttYXRjaFsxXTtcblx0Y29uc3QgY29sdW1uID0gK21hdGNoWzJdO1xuXG5cdHJldHVybiB0cmFjZSh7IGxpbmUsIGNvbHVtbiB9LCBtYXApO1xufVxuXG5mdW5jdGlvbiB0cmFjZShsb2MsIG1hcCkge1xuXHRjb25zdCBtYXBwaW5ncyA9IGRlY29kZShtYXAubWFwcGluZ3MpO1xuXHRjb25zdCBzZWdtZW50cyA9IG1hcHBpbmdzW2xvYy5saW5lIC0gMV07XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcblx0XHRpZiAoc2VnbWVudFswXSA9PT0gbG9jLmNvbHVtbikge1xuXHRcdFx0Y29uc3QgWywgc291cmNlSW5kZXgsIGxpbmUsIGNvbHVtbl0gPSBzZWdtZW50O1xuXHRcdFx0Y29uc3Qgc291cmNlID0gbWFwLnNvdXJjZXNbc291cmNlSW5kZXhdLnNsaWNlKDIpO1xuXG5cdFx0XHRyZXR1cm4geyBzb3VyY2UsIGxpbmU6IGxpbmUgKyAxLCBjb2x1bW4gfTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn1cbiIsImxldCB1aWQgPSAxO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXBsUHJveHkge1xuXHRjb25zdHJ1Y3RvcihpZnJhbWUsIGhhbmRsZXJzKSB7XG5cdFx0dGhpcy5pZnJhbWUgPSBpZnJhbWU7XG5cdFx0dGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xuXG5cdFx0dGhpcy5wZW5kaW5nX2NtZHMgPSBuZXcgTWFwKCk7XG5cblx0XHR0aGlzLmhhbmRsZV9ldmVudCA9IGUgPT4gdGhpcy5oYW5kbGVfcmVwbF9tZXNzYWdlKGUpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5oYW5kbGVfZXZlbnQsIGZhbHNlKTtcblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLmhhbmRsZV9ldmVudCk7XG5cdH1cblxuXHRpZnJhbWVfY29tbWFuZChhY3Rpb24sIGFyZ3MpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0Y29uc3QgY21kX2lkID0gdWlkKys7XG5cblx0XHRcdHRoaXMucGVuZGluZ19jbWRzLnNldChjbWRfaWQsIHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuXG5cdFx0XHR0aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHsgYWN0aW9uLCBjbWRfaWQsIGFyZ3MgfSwgJyonKTtcblx0XHR9KTtcblx0fVxuXG5cdGhhbmRsZV9jb21tYW5kX21lc3NhZ2UoY21kX2RhdGEpIHtcblx0XHRsZXQgYWN0aW9uID0gY21kX2RhdGEuYWN0aW9uO1xuXHRcdGxldCBpZCA9IGNtZF9kYXRhLmNtZF9pZDtcblx0XHRsZXQgaGFuZGxlciA9IHRoaXMucGVuZGluZ19jbWRzLmdldChpZCk7XG5cblx0XHRpZiAoaGFuZGxlcikge1xuXHRcdFx0dGhpcy5wZW5kaW5nX2NtZHMuZGVsZXRlKGlkKTtcblx0XHRcdGlmIChhY3Rpb24gPT09ICdjbWRfZXJyb3InKSB7XG5cdFx0XHRcdGxldCB7IG1lc3NhZ2UsIHN0YWNrIH0gPSBjbWRfZGF0YTtcblx0XHRcdFx0bGV0IGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cdFx0XHRcdGUuc3RhY2sgPSBzdGFjaztcblx0XHRcdFx0aGFuZGxlci5yZWplY3QoZSlcblx0XHRcdH1cblxuXHRcdFx0aWYgKGFjdGlvbiA9PT0gJ2NtZF9vaycpIHtcblx0XHRcdFx0aGFuZGxlci5yZXNvbHZlKGNtZF9kYXRhLmFyZ3MpXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ2NvbW1hbmQgbm90IGZvdW5kJywgaWQsIGNtZF9kYXRhLCBbLi4udGhpcy5wZW5kaW5nX2NtZHMua2V5cygpXSk7XG5cdFx0fVxuXHR9XG5cblx0aGFuZGxlX3JlcGxfbWVzc2FnZShldmVudCkge1xuXHRcdGlmIChldmVudC5zb3VyY2UgIT09IHRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHJldHVybjtcblxuXHRcdGNvbnN0IHsgYWN0aW9uLCBhcmdzIH0gPSBldmVudC5kYXRhO1xuXG5cdFx0aWYgKGFjdGlvbiA9PT0gJ2NtZF9lcnJvcicgfHwgYWN0aW9uID09PSAnY21kX29rJykge1xuXHRcdFx0dGhpcy5oYW5kbGVfY29tbWFuZF9tZXNzYWdlKGV2ZW50LmRhdGEpO1xuXHRcdH1cblxuXHRcdGlmIChhY3Rpb24gPT09ICdmZXRjaF9wcm9ncmVzcycpIHtcblx0XHRcdHRoaXMuaGFuZGxlcnMub25fZmV0Y2hfcHJvZ3Jlc3MoYXJncy5yZW1haW5pbmcpXG5cdFx0fVxuXHR9XG5cblx0ZXZhbChzY3JpcHQpIHtcblx0XHRyZXR1cm4gdGhpcy5pZnJhbWVfY29tbWFuZCgnZXZhbCcsIHsgc2NyaXB0IH0pO1xuXHR9XG5cblx0aGFuZGxlX2xpbmtzKCkge1xuXHRcdHJldHVybiB0aGlzLmlmcmFtZV9jb21tYW5kKCdjYXRjaF9jbGlja3MnLCB7fSk7XG5cdH1cbn0iLCJleHBvcnQgZGVmYXVsdCBcIjwhZG9jdHlwZSBodG1sPlxcbjxodG1sPlxcblxcdDxoZWFkPlxcblxcdFxcdDxzdHlsZT5cXG5cXHRcXHRcXHRodG1sLCBib2R5IHtcXG5cXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFx0d2lkdGg6IDEwMCU7XFxuXFx0aGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG5ib2R5IHtcXG5cXHRjb2xvcjogIzMzMztcXG5cXHRtYXJnaW46IDA7XFxuXFx0cGFkZGluZzogOHB4O1xcblxcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuXFx0Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXFxcIlNlZ29lIFVJXFxcIiwgUm9ib3RvLCBPeHlnZW4tU2FucywgVWJ1bnR1LCBDYW50YXJlbGwsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7XFxufVxcblxcbmEge1xcblxcdGNvbG9yOiByZ2IoMCwxMDAsMjAwKTtcXG5cXHR0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxufVxcblxcbmE6aG92ZXIge1xcblxcdHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbn1cXG5cXG5hOnZpc2l0ZWQge1xcblxcdGNvbG9yOiByZ2IoMCw4MCwxNjApO1xcbn1cXG5cXG5sYWJlbCB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxufVxcblxcbmlucHV0LCBidXR0b24sIHNlbGVjdCwgdGV4dGFyZWEge1xcblxcdGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcblxcdGZvbnQtc2l6ZTogaW5oZXJpdDtcXG5cXHRwYWRkaW5nOiAwLjRlbTtcXG5cXHRtYXJnaW46IDAgMCAwLjVlbSAwO1xcblxcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuXFx0Ym9yZGVyOiAxcHggc29saWQgI2NjYztcXG5cXHRib3JkZXItcmFkaXVzOiAycHg7XFxufVxcblxcbmlucHV0OmRpc2FibGVkIHtcXG5cXHRjb2xvcjogI2NjYztcXG59XFxuXFxuaW5wdXRbdHlwZT1cXFwicmFuZ2VcXFwiXSB7XFxuXFx0aGVpZ2h0OiAwO1xcbn1cXG5cXG5idXR0b24ge1xcblxcdGJhY2tncm91bmQtY29sb3I6ICNmNGY0ZjQ7XFxuXFx0b3V0bGluZTogbm9uZTtcXG59XFxuXFxuYnV0dG9uOmFjdGl2ZSB7XFxuXFx0YmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXG59XFxuXFxuYnV0dG9uOmZvY3VzIHtcXG5cXHRib3JkZXItY29sb3I6ICM2NjY7XFxufVxcblxcdFxcdDwvc3R5bGU+XFxuXFxuXFx0XFx0PHNjcmlwdD5cXG5cXHRcXHRcXHQoZnVuY3Rpb24oKXtcXG5cXHRcXHRcXHRcXHRmdW5jdGlvbiBoYW5kbGVfbWVzc2FnZShldikge1xcblxcdFxcdFxcdFxcdFxcdGxldCB7IGFjdGlvbiwgY21kX2lkIH0gPSBldi5kYXRhO1xcblxcdFxcdFxcdFxcdFxcdGNvbnN0IHNlbmRfbWVzc2FnZSA9IChwYXlsb2FkKSA9PiBwYXJlbnQucG9zdE1lc3NhZ2UoIHsgLi4ucGF5bG9hZCB9LCBldi5vcmlnaW4pO1xcblxcdFxcdFxcdFxcdFxcdGNvbnN0IHNlbmRfcmVwbHkgPSAocGF5bG9hZCkgPT4gc2VuZF9tZXNzYWdlKHsgLi4ucGF5bG9hZCwgY21kX2lkIH0pO1xcblxcdFxcdFxcdFxcdFxcdGNvbnN0IHNlbmRfb2sgPSAoKSA9PiBzZW5kX3JlcGx5KHsgYWN0aW9uOiAnY21kX29rJyB9KTtcXG5cXHRcXHRcXHRcXHRcXHRjb25zdCBzZW5kX2Vycm9yID0gKG1lc3NhZ2UsIHN0YWNrKSA9PiBzZW5kX3JlcGx5KHsgYWN0aW9uOiAnY21kX2Vycm9yJywgbWVzc2FnZSwgc3RhY2sgfSk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0aWYgKGFjdGlvbiA9PT0gJ2V2YWwnKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0dHJ5IHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRjb25zdCB7IHNjcmlwdCB9ID0gZXYuZGF0YS5hcmdzO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGV2YWwoc2NyaXB0KTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRzZW5kX29rKCk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fSBjYXRjaCAoZSkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHNlbmRfZXJyb3IoZS5tZXNzYWdlLCBlLnN0YWNrKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdGlmIChhY3Rpb24gPT09ICdjYXRjaF9jbGlja3MnKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0dHJ5IHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRjb25zdCB0b3Bfb3JpZ2luID0gZXYub3JpZ2luO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKGV2ZW50LndoaWNoICE9PSAxKSByZXR1cm47XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSkgcmV0dXJuO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gZW5zdXJlIHRhcmdldCBpcyBhIGxpbmtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRsZXQgZWwgPSBldmVudC50YXJnZXQ7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0d2hpbGUgKGVsICYmIGVsLm5vZGVOYW1lICE9PSAnQScpIGVsID0gZWwucGFyZW50Tm9kZTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIWVsIHx8IGVsLm5vZGVOYW1lICE9PSAnQScpIHJldHVybjtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoZWwuaGFzQXR0cmlidXRlKCdkb3dubG9hZCcpIHx8IGVsLmdldEF0dHJpYnV0ZSgncmVsJykgPT09ICdleHRlcm5hbCcgfHwgZWwudGFyZ2V0KSByZXR1cm47XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoZWwuaHJlZi5zdGFydHNXaXRoKHRvcF9vcmlnaW4pKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Y29uc3QgdXJsID0gbmV3IFVSTChlbC5ocmVmKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAodXJsLmhhc2hbMF0gPT09ICcjJykge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdXJsLmhhc2g7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0d2luZG93Lm9wZW4oZWwuaHJlZiwgJ19ibGFuaycpO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH0pO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHNlbmRfb2soKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9IGNhdGNoKGUpIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRzZW5kX2Vycm9yKGUubWVzc2FnZSwgZS5zdGFjayk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVfbWVzc2FnZSwgZmFsc2UpO1xcblxcdFxcdFxcdH0pLmNhbGwodGhpcyk7XFxuXFx0XFx0PC9zY3JpcHQ+XFxuXFx0PC9oZWFkPlxcblxcdDxib2R5PjwvYm9keT5cXG48L2h0bWw+XCI7IiwiPHNjcmlwdD5cblx0aW1wb3J0IHsgb25Nb3VudCwgY3JlYXRlRXZlbnREaXNwYXRjaGVyLCBnZXRDb250ZXh0IH0gZnJvbSAnc3ZlbHRlJztcblx0aW1wb3J0IGdldExvY2F0aW9uRnJvbVN0YWNrIGZyb20gJy4vZ2V0TG9jYXRpb25Gcm9tU3RhY2suanMnO1xuXHRpbXBvcnQgUmVwbFByb3h5IGZyb20gJy4vUmVwbFByb3h5LmpzJztcblx0aW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi4vTWVzc2FnZS5zdmVsdGUnO1xuXHRpbXBvcnQgc3JjZG9jIGZyb20gJy4vc3JjZG9jL2luZGV4LmpzJztcblx0aW1wb3J0IHsgZGVjb2RlIH0gZnJvbSAnc291cmNlbWFwLWNvZGVjJztcblxuXHRjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXHRjb25zdCB7IGJ1bmRsZSwgbmF2aWdhdGUgfSA9IGdldENvbnRleHQoJ1JFUEwnKTtcblxuXHRleHBvcnQgbGV0IGVycm9yOyAvLyBUT0RPIHNob3VsZCB0aGlzIGJlIGV4cG9zZWQgYXMgYSBwcm9wP1xuXG5cdGV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wKHByb3AsIHZhbHVlKSB7XG5cdFx0aWYgKCFwcm94eSkgcmV0dXJuO1xuXHRcdHByb3h5LnNldFByb3AocHJvcCwgdmFsdWUpO1xuXHR9XG5cblx0ZXhwb3J0IGxldCBzdGF0dXM7XG5cdGV4cG9ydCBsZXQgcmVsYXhlZCA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGluamVjdGVkSlMgPSAnJztcblx0ZXhwb3J0IGxldCBpbmplY3RlZENTUyA9ICcnO1xuXG5cdGxldCBpZnJhbWU7XG5cdGxldCBwZW5kaW5nX2ltcG9ydHMgPSAwO1xuXHRsZXQgcGVuZGluZyA9IGZhbHNlO1xuXG5cdGxldCBwcm94eSA9IG51bGw7XG5cblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdGxldCBpbml0ZWQgPSBmYWxzZTtcblxuXHRvbk1vdW50KCgpID0+IHtcblx0XHRwcm94eSA9IG5ldyBSZXBsUHJveHkoaWZyYW1lLCB7XG5cdFx0XHRvbl9mZXRjaF9wcm9ncmVzczogcHJvZ3Jlc3MgPT4ge1xuXHRcdFx0XHRwZW5kaW5nX2ltcG9ydHMgPSBwcm9ncmVzcztcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuXHRcdFx0cHJveHkuaGFuZGxlX2xpbmtzKCk7XG5cdFx0XHRyZWFkeSA9IHRydWU7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0cHJveHkuZGVzdHJveSgpO1xuXHRcdH1cblx0fSk7XG5cblx0YXN5bmMgZnVuY3Rpb24gYXBwbHlfYnVuZGxlKCRidW5kbGUpIHtcblx0XHRpZiAoISRidW5kbGUgfHwgJGJ1bmRsZS5lcnJvcikgcmV0dXJuO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IHByb3h5LmV2YWwoYFxuXHRcdFx0XHQke2luamVjdGVkSlN9XG5cblx0XHRcdFx0JHtzdHlsZXN9XG5cblx0XHRcdFx0Y29uc3Qgc3R5bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGVbaWRePXN2ZWx0ZS1dJyk7XG5cblx0XHRcdFx0JHskYnVuZGxlLmRvbS5jb2RlfVxuXG5cdFx0XHRcdGxldCBpID0gc3R5bGVzLmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKGktLSkgc3R5bGVzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVzW2ldKTtcblxuXHRcdFx0XHRpZiAod2luZG93LmNvbXBvbmVudCkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHR3aW5kb3cuY29tcG9uZW50LiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGVycik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhhc2ggPSAnJztcblx0XHRcdFx0d2luZG93Ll9zdmVsdGVUcmFuc2l0aW9uTWFuYWdlciA9IG51bGw7XG5cblx0XHRcdFx0d2luZG93LmNvbXBvbmVudCA9IG5ldyBTdmVsdGVDb21wb25lbnQuZGVmYXVsdCh7XG5cdFx0XHRcdFx0dGFyZ2V0OiBkb2N1bWVudC5ib2R5XG5cdFx0XHRcdH0pO1xuXHRcdFx0YCk7XG5cblx0XHRcdGVycm9yID0gbnVsbDtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zdCBsb2MgPSBnZXRMb2NhdGlvbkZyb21TdGFjayhlLnN0YWNrLCAkYnVuZGxlLmRvbS5tYXApO1xuXHRcdFx0aWYgKGxvYykge1xuXHRcdFx0XHRlLmZpbGVuYW1lID0gbG9jLnNvdXJjZTtcblx0XHRcdFx0ZS5sb2MgPSB7IGxpbmU6IGxvYy5saW5lLCBjb2x1bW46IGxvYy5jb2x1bW4gfTtcblx0XHRcdH1cblxuXHRcdFx0ZXJyb3IgPSBlO1xuXHRcdH1cblxuXHRcdGluaXRlZCA9IHRydWU7XG5cdH1cblxuXHQkOiBpZiAocmVhZHkpIGFwcGx5X2J1bmRsZSgkYnVuZGxlKTtcblxuXHQkOiBzdHlsZXMgPSBpbmplY3RlZENTUyAmJiBge1xuXHRcdGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9ICR7SlNPTi5zdHJpbmdpZnkoaW5qZWN0ZWRDU1MpfTtcblx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fWA7XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXHQuaWZyYW1lLWNvbnRhaW5lciB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdH1cblxuXHRpZnJhbWUge1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHQvKiBoZWlnaHQ6IGNhbGMoMTAwdmggLSB2YXIoLS1uYXYtaCkpOyAqL1xuXHRcdGJvcmRlcjogbm9uZTtcblx0XHRkaXNwbGF5OiBibG9jaztcblx0fVxuXG5cdC5ncmV5ZWQtb3V0IHtcblx0XHRmaWx0ZXI6IGdyYXlzY2FsZSg1MCUpIGJsdXIoMXB4KTtcblx0XHRvcGFjaXR5OiAuMjU7XG5cdH1cblxuXHQub3ZlcmxheSB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdGJvdHRvbTogMDtcblx0XHR3aWR0aDogMTAwJTtcblx0fVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImlmcmFtZS1jb250YWluZXJcIj5cblx0PGlmcmFtZVxuXHRcdHRpdGxlPVwiUmVzdWx0XCJcblx0XHRjbGFzczppbml0ZWRcblx0XHRiaW5kOnRoaXM9e2lmcmFtZX1cblx0XHRzYW5kYm94PVwiYWxsb3ctcG9wdXBzLXRvLWVzY2FwZS1zYW5kYm94IGFsbG93LXNjcmlwdHMgYWxsb3ctcG9wdXBzIGFsbG93LWZvcm1zIGFsbG93LXBvaW50ZXItbG9jayBhbGxvdy10b3AtbmF2aWdhdGlvbiBhbGxvdy1tb2RhbHMge3JlbGF4ZWQgPyAnYWxsb3ctc2FtZS1vcmlnaW4nIDogJyd9XCJcblx0XHRjbGFzcz1cIntlcnJvciB8fCBwZW5kaW5nIHx8IHBlbmRpbmdfaW1wb3J0cyA/ICdncmV5ZWQtb3V0JyA6ICcnfVwiXG5cdFx0e3NyY2RvY31cblx0PjwvaWZyYW1lPlxuXG5cdDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+XG5cdFx0eyNpZiBlcnJvcn1cblx0XHRcdDxNZXNzYWdlIGtpbmQ9XCJlcnJvclwiIGRldGFpbHM9e2Vycm9yfS8+XG5cdFx0ezplbHNlIGlmIHN0YXR1cyB8fCAhJGJ1bmRsZX1cblx0XHRcdDxNZXNzYWdlIGtpbmQ9XCJpbmZvXCIgdHJ1bmNhdGU+e3N0YXR1cyB8fCAnbG9hZGluZyBTdmVsdGUgY29tcGlsZXIuLi4nfTwvTWVzc2FnZT5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cbjwvZGl2PiIsIjxzY3JpcHQ+XG5cdGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICdzdmVsdGUnO1xuXG5cdGNvbnN0IHsgY29tcGlsZV9vcHRpb25zIH0gPSBnZXRDb250ZXh0KCdSRVBMJyk7XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuXHQub3B0aW9ucyB7XG5cdFx0cGFkZGluZzogMCAxMHB4O1xuXHRcdGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LW1vbm8pO1xuXHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRjb2xvcjogIzk5OTtcblx0XHRsaW5lLWhlaWdodDogMS44O1xuXHR9XG5cblx0Lm9wdGlvbiB7XG5cdFx0ZGlzcGxheTogYmxvY2s7XG5cdFx0cGFkZGluZzogMCAwIDAgMS4yNWVtO1xuXHRcdHdoaXRlLXNwYWNlOiBub3dyYXA7XG5cdFx0Y29sb3I6ICMzMzM7XG5cdFx0dXNlci1zZWxlY3Q6IG5vbmU7XG5cdH1cblxuXHQua2V5IHtcblx0XHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5cdFx0d2lkdGg6IDllbTtcblx0fVxuXG5cdC5zdHJpbmcge1xuXHRcdGNvbG9yOiBoc2woNDEsIDM3JSwgNDUlKTtcblx0fVxuXG5cdC5ib29sZWFuIHtcblx0XHRjb2xvcjogaHNsKDQ1LCA3JSwgNDUlKTtcblx0fVxuXG5cdGxhYmVsIHtcblx0XHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG5cdH1cblxuXHRsYWJlbFtmb3JdIHtcblx0XHRjb2xvcjogdmFyKC0tc3RyaW5nKTtcblx0fVxuXG5cdGlucHV0W3R5cGU9Y2hlY2tib3hdIHtcblx0XHR0b3A6IC0xcHg7XG5cdH1cblxuXHRpbnB1dFt0eXBlPXJhZGlvXSB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdHRvcDogYXV0bztcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXHRcdGNsaXA6IHJlY3QoMXB4LCAxcHgsIDFweCwgMXB4KTtcblx0XHR3aWR0aDogMXB4O1xuXHRcdGhlaWdodDogMXB4O1xuXHRcdHdoaXRlLXNwYWNlOiBub3dyYXA7XG5cdH1cblxuXHRpbnB1dFt0eXBlPXJhZGlvXSArIGxhYmVsIHtcblx0XHRwYWRkaW5nOiAwIDAgMCAxLjZlbTtcblx0XHRtYXJnaW46IDAgMC42ZW0gMCAwO1xuXHRcdG9wYWNpdHk6IDAuNztcblx0fVxuXG5cdGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyBsYWJlbCB7XG5cdFx0b3BhY2l0eTogMTtcblx0fVxuXG5cdC8qIGlucHV0W3R5cGU9cmFkaW9dOmZvY3VzICsgbGFiZWwge1xuXHRcdGNvbG9yOiAjMDBmO1xuXHRcdG91dGxpbmU6IDFweCBkb3R0ZWQgIzAwZjtcblx0fSAqL1xuXG5cdGlucHV0W3R5cGU9cmFkaW9dICsgbGFiZWw6YmVmb3JlIHtcblx0XHRjb250ZW50OiAnJztcblx0XHRiYWNrZ3JvdW5kOiAjZWVlO1xuXHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG5cdFx0ZmxvYXQ6IGxlZnQ7XG5cdFx0d2lkdGg6IDE1cHg7XG5cdFx0aGVpZ2h0OiAxNXB4O1xuXHRcdG1hcmdpbi1sZWZ0OiAtMjFweDtcblx0XHRtYXJnaW4tdG9wOiA0cHg7XG5cdFx0dmVydGljYWwtYWxpZ246IHRvcDtcblx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdHRyYW5zaXRpb246IGJveC1zaGFkb3cgMC4xcyBlYXNlLW91dDtcblx0fVxuXG5cdGlucHV0W3R5cGU9cmFkaW9dICsgbGFiZWw6YmVmb3JlIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zZWNvbmQpO1xuXHRcdGJvcmRlci1yYWRpdXM6IDEwMCU7XG5cdFx0Ym94LXNoYWRvdzogaW5zZXQgMCAwIDAgMC41ZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAuOTUpO1xuXHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZCk7XG5cdH1cblxuXHRpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkICsgbGFiZWw6YmVmb3JlIHtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltZSk7XG5cdFx0Ym94LXNoYWRvdzogaW5zZXQgMCAwIDAgLjE1ZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAuOTUpO1xuXHRcdGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZCk7XG5cdFx0dHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzIGVhc2Utb3V0O1xuXHR9XG48L3N0eWxlPlxuXG48ZGl2IGNsYXNzPVwib3B0aW9uc1wiPlxuXHRyZXN1bHQgPSBzdmVsdGUuY29tcGlsZShzb3VyY2UsICYjMTIzO1xuXHQ8ZGl2IGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5nZW5lcmF0ZTo8L3NwYW4+XG5cblx0XHQ8aW5wdXQgaWQ9XCJkb20taW5wdXRcIiB0eXBlPVwicmFkaW9cIiBiaW5kOmdyb3VwPXskY29tcGlsZV9vcHRpb25zLmdlbmVyYXRlfSB2YWx1ZT1cImRvbVwiPlxuXHRcdDxsYWJlbCBmb3I9XCJkb20taW5wdXRcIj48c3BhbiBjbGFzcz1cInN0cmluZ1wiPlwiZG9tXCI8L3NwYW4+PC9sYWJlbD5cblxuXHRcdDxpbnB1dCBpZD1cInNzci1pbnB1dFwiIHR5cGU9XCJyYWRpb1wiIGJpbmQ6Z3JvdXA9eyRjb21waWxlX29wdGlvbnMuZ2VuZXJhdGV9IHZhbHVlPVwic3NyXCI+XG5cdFx0PGxhYmVsIGZvcj1cInNzci1pbnB1dFwiPjxzcGFuIGNsYXNzPVwic3RyaW5nXCI+XCJzc3JcIjwvc3Bhbj4sPC9sYWJlbD5cblx0PC9kaXY+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5kZXY6PC9zcGFuPlxuXHRcdDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBiaW5kOmNoZWNrZWQ9eyRjb21waWxlX29wdGlvbnMuZGV2fT4gPHNwYW4gY2xhc3M9XCJib29sZWFuXCI+eyRjb21waWxlX29wdGlvbnMuZGV2fTwvc3Bhbj4sXG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5jc3M6PC9zcGFuPlxuXHRcdDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBiaW5kOmNoZWNrZWQ9eyRjb21waWxlX29wdGlvbnMuY3NzfT4gPHNwYW4gY2xhc3M9XCJib29sZWFuXCI+eyRjb21waWxlX29wdGlvbnMuY3NzfTwvc3Bhbj4sXG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5oeWRyYXRhYmxlOjwvc3Bhbj5cblx0XHQ8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgYmluZDpjaGVja2VkPXskY29tcGlsZV9vcHRpb25zLmh5ZHJhdGFibGV9PiA8c3BhbiBjbGFzcz1cImJvb2xlYW5cIj57JGNvbXBpbGVfb3B0aW9ucy5oeWRyYXRhYmxlfTwvc3Bhbj4sXG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5jdXN0b21FbGVtZW50Ojwvc3Bhbj5cblx0XHQ8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgYmluZDpjaGVja2VkPXskY29tcGlsZV9vcHRpb25zLmN1c3RvbUVsZW1lbnR9PiA8c3BhbiBjbGFzcz1cImJvb2xlYW5cIj57JGNvbXBpbGVfb3B0aW9ucy5jdXN0b21FbGVtZW50fTwvc3Bhbj4sXG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5pbW11dGFibGU6PC9zcGFuPlxuXHRcdDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBiaW5kOmNoZWNrZWQ9eyRjb21waWxlX29wdGlvbnMuaW1tdXRhYmxlfT4gPHNwYW4gY2xhc3M9XCJib29sZWFuXCI+eyRjb21waWxlX29wdGlvbnMuaW1tdXRhYmxlfTwvc3Bhbj4sXG5cdDwvbGFiZWw+XG5cblx0PGxhYmVsIGNsYXNzPVwib3B0aW9uXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJrZXlcIj5sZWdhY3k6PC9zcGFuPlxuXHRcdDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBiaW5kOmNoZWNrZWQ9eyRjb21waWxlX29wdGlvbnMubGVnYWN5fT4gPHNwYW4gY2xhc3M9XCJib29sZWFuXCI+eyRjb21waWxlX29wdGlvbnMubGVnYWN5fTwvc3Bhbj5cblx0PC9sYWJlbD5cblx0fSk7XG48L2Rpdj4iLCJjb25zdCB3b3JrZXJzID0gbmV3IE1hcCgpO1xuXG5sZXQgdWlkID0gMTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcGlsZXIge1xuXHRjb25zdHJ1Y3Rvcih3b3JrZXJzVXJsLCBzdmVsdGVVcmwpIHtcblx0XHRpZiAoIXdvcmtlcnMuaGFzKHN2ZWx0ZVVybCkpIHtcblx0XHRcdGNvbnN0IHdvcmtlciA9IG5ldyBXb3JrZXIoYCR7d29ya2Vyc1VybH0vY29tcGlsZXIuanNgKTtcblx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZSh7IHR5cGU6ICdpbml0Jywgc3ZlbHRlVXJsIH0pO1xuXHRcdFx0d29ya2Vycy5zZXQoc3ZlbHRlVXJsLCB3b3JrZXIpO1xuXHRcdH1cblxuXHRcdHRoaXMud29ya2VyID0gd29ya2Vycy5nZXQoc3ZlbHRlVXJsKTtcblxuXHRcdHRoaXMuaGFuZGxlcnMgPSBuZXcgTWFwKCk7XG5cblx0XHR0aGlzLndvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4ge1xuXHRcdFx0Y29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50LmRhdGEuaWQpO1xuXG5cdFx0XHRpZiAoaGFuZGxlcikgeyAvLyBpZiBubyBoYW5kbGVyLCB3YXMgbWVhbnQgZm9yIGEgZGlmZmVyZW50IFJFUExcblx0XHRcdFx0aGFuZGxlcihldmVudC5kYXRhLnJlc3VsdCk7XG5cdFx0XHRcdHRoaXMuaGFuZGxlcnMuZGVsZXRlKGV2ZW50LmRhdGEuaWQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Y29tcGlsZShjb21wb25lbnQsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVsZmlsID0+IHtcblx0XHRcdGNvbnN0IGlkID0gdWlkKys7XG5cblx0XHRcdHRoaXMuaGFuZGxlcnMuc2V0KGlkLCBmdWxmaWwpO1xuXG5cdFx0XHR0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7XG5cdFx0XHRcdGlkLFxuXHRcdFx0XHR0eXBlOiAnY29tcGlsZScsXG5cdFx0XHRcdHNvdXJjZTogY29tcG9uZW50LnNvdXJjZSxcblx0XHRcdFx0b3B0aW9uczogT2JqZWN0LmFzc2lnbih7XG5cdFx0XHRcdFx0bmFtZTogY29tcG9uZW50Lm5hbWUsXG5cdFx0XHRcdFx0ZmlsZW5hbWU6IGAke2NvbXBvbmVudC5uYW1lfS5zdmVsdGVgXG5cdFx0XHRcdH0sIG9wdGlvbnMpLFxuXHRcdFx0XHRlbnRyeTogY29tcG9uZW50Lm5hbWUgPT09ICdBcHAnXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0dGhpcy53b3JrZXIudGVybWluYXRlKCk7XG5cdH1cbn0iLCI8c2NyaXB0PlxuXHRpbXBvcnQgeyBnZXRDb250ZXh0LCBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcblx0aW1wb3J0IFNwbGl0UGFuZSBmcm9tICcuLi9TcGxpdFBhbmUuc3ZlbHRlJztcblx0aW1wb3J0IFZpZXdlciBmcm9tICcuL1ZpZXdlci5zdmVsdGUnO1xuXHRpbXBvcnQgQ29tcGlsZXJPcHRpb25zIGZyb20gJy4vQ29tcGlsZXJPcHRpb25zLnN2ZWx0ZSc7XG5cdGltcG9ydCBDb21waWxlciBmcm9tICcuL0NvbXBpbGVyLmpzJztcblx0aW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnLi4vQ29kZU1pcnJvci5zdmVsdGUnO1xuXHRpbXBvcnQgeyBpc19icm93c2VyIH0gZnJvbSAnLi4vZW52LmpzJztcblxuXHRjb25zdCB7IHJlZ2lzdGVyX291dHB1dCB9ID0gZ2V0Q29udGV4dCgnUkVQTCcpO1xuXG5cdGV4cG9ydCBsZXQgc3ZlbHRlVXJsO1xuXHRleHBvcnQgbGV0IHdvcmtlcnNVcmw7XG5cdGV4cG9ydCBsZXQgc3RhdHVzO1xuXHRleHBvcnQgbGV0IHNvdXJjZUVycm9yTG9jID0gbnVsbDtcblx0ZXhwb3J0IGxldCBydW50aW1lRXJyb3IgPSBudWxsO1xuXHRleHBvcnQgbGV0IGVtYmVkZGVkID0gZmFsc2U7XG5cdGV4cG9ydCBsZXQgcmVsYXhlZCA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGluamVjdGVkSlM7XG5cdGV4cG9ydCBsZXQgaW5qZWN0ZWRDU1M7XG5cblx0bGV0IGZvbzsgLy8gVE9ETyB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8yMTIyXG5cblx0cmVnaXN0ZXJfb3V0cHV0KHtcblx0XHRzZXQ6IGFzeW5jIChzZWxlY3RlZCwgb3B0aW9ucykgPT4ge1xuXHRcdFx0aWYgKHNlbGVjdGVkLnR5cGUgPT09ICdqcycpIHtcblx0XHRcdFx0anNfZWRpdG9yLnNldChgLyogU2VsZWN0IGEgY29tcG9uZW50IHRvIHNlZSBpdHMgY29tcGlsZWQgY29kZSAqL2ApO1xuXHRcdFx0XHRjc3NfZWRpdG9yLnNldChgLyogU2VsZWN0IGEgY29tcG9uZW50IHRvIHNlZSBpdHMgY29tcGlsZWQgY29kZSAqL2ApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNvbXBpbGVkID0gYXdhaXQgY29tcGlsZXIuY29tcGlsZShzZWxlY3RlZCwgb3B0aW9ucyk7XG5cdFx0XHRpZiAoIWpzX2VkaXRvcikgcmV0dXJuOyAvLyB1bm1vdW50ZWRcblxuXHRcdFx0anNfZWRpdG9yLnNldChjb21waWxlZC5qcywgJ2pzJyk7XG5cdFx0XHRjc3NfZWRpdG9yLnNldChjb21waWxlZC5jc3MsICdjc3MnKTtcblx0XHR9LFxuXG5cdFx0dXBkYXRlOiBhc3luYyAoc2VsZWN0ZWQsIG9wdGlvbnMpID0+IHtcblx0XHRcdGlmIChzZWxlY3RlZC50eXBlID09PSAnanMnKSByZXR1cm47XG5cblx0XHRcdGNvbnN0IGNvbXBpbGVkID0gYXdhaXQgY29tcGlsZXIuY29tcGlsZShzZWxlY3RlZCwgb3B0aW9ucyk7XG5cdFx0XHRpZiAoIWpzX2VkaXRvcikgcmV0dXJuOyAvLyB1bm1vdW50ZWRcblxuXHRcdFx0anNfZWRpdG9yLnVwZGF0ZShjb21waWxlZC5qcyk7XG5cdFx0XHRjc3NfZWRpdG9yLnVwZGF0ZShjb21waWxlZC5jc3MpO1xuXHRcdH1cblx0fSk7XG5cblx0Y29uc3QgY29tcGlsZXIgPSBpc19icm93c2VyICYmIG5ldyBDb21waWxlcih3b3JrZXJzVXJsLCBzdmVsdGVVcmwpO1xuXG5cdC8vIHJlZnNcblx0bGV0IHZpZXdlcjtcblx0bGV0IGpzX2VkaXRvcjtcblx0bGV0IGNzc19lZGl0b3I7XG5cdGNvbnN0IHNldHRlcnMgPSB7fTtcblxuXHRsZXQgdmlldyA9ICdyZXN1bHQnO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cblx0LnZpZXctdG9nZ2xlIHtcblx0XHRoZWlnaHQ6IHZhcigtLXBhbmUtY29udHJvbHMtaCk7XG5cdFx0Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHR9XG5cblx0YnV0dG9uIHtcblx0XHQvKiB3aWR0aDogNTAlO1xuXHRcdGhlaWdodDogMTAwJTsgKi9cblx0XHRiYWNrZ3JvdW5kOiB3aGl0ZTtcblx0XHR0ZXh0LWFsaWduOiBsZWZ0O1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRmb250OiA0MDAgMTJweC8xLjUgdmFyKC0tZm9udCk7XG5cdFx0Ym9yZGVyOiBub25lO1xuXHRcdGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB0cmFuc3BhcmVudDtcblx0XHRwYWRkaW5nOiAxMnB4IDEycHggOHB4IDEycHg7XG5cdFx0Y29sb3I6ICM5OTk7XG5cdFx0Ym9yZGVyLXJhZGl1czogMDtcblx0fVxuXG5cdGJ1dHRvbi5hY3RpdmUge1xuXHRcdGJvcmRlci1ib3R0b206IDNweCBzb2xpZCB2YXIoLS1wcmltZSk7XG5cdFx0Y29sb3I6ICMzMzM7XG5cdH1cblxuXHRkaXZbc2xvdF0ge1xuXHRcdGhlaWdodDogMTAwJTtcblx0fVxuXG5cdHNlY3Rpb25bc2xvdF0ge1xuXHRcdG92ZXJmbG93OiBhdXRvO1xuXHR9XG5cblx0aDMge1xuXHRcdGZvbnQ6IDcwMCAxMnB4LzEuNSB2YXIoLS1mb250KTtcblx0XHRwYWRkaW5nOiAxMnB4IDAgOHB4IDEwcHg7XG5cdFx0LyogY29sb3I6IHZhcigtLXRleHQpOyAqL1xuXHRcdGNvbG9yOiAjMzMzO1xuXHR9XG5cblx0LnRhYi1jb250ZW50IHtcblx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0d2lkdGg6IDEwMCU7XG5cdFx0aGVpZ2h0OiBjYWxjKDEwMCUgLSA0MnB4KTtcblx0XHRvcGFjaXR5OiAwO1xuXHRcdHBvaW50ZXItZXZlbnRzOiBub25lO1xuXHR9XG5cblx0LnRhYi1jb250ZW50LnZpc2libGUge1xuXHRcdC8qIGNhbid0IHVzZSB2aXNpYmlsaXR5IGR1ZSB0byBhIHdlaXJkIHBhaW50aW5nIGJ1ZyBpbiBDaHJvbWUgKi9cblx0XHRvcGFjaXR5OiAxO1xuXHRcdHBvaW50ZXItZXZlbnRzOiBhbGw7XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJ2aWV3LXRvZ2dsZVwiPlxuXHQ8YnV0dG9uXG5cdFx0Y2xhc3M6YWN0aXZlPVwie3ZpZXcgPT09ICdyZXN1bHQnfVwiXG5cdFx0b246Y2xpY2s9XCJ7KCkgPT4gdmlldyA9ICdyZXN1bHQnfVwiXG5cdD5SZXN1bHQ8L2J1dHRvbj5cblxuXHQ8YnV0dG9uXG5cdFx0Y2xhc3M6YWN0aXZlPVwie3ZpZXcgPT09ICdqcyd9XCJcblx0XHRvbjpjbGljaz1cInsoKSA9PiB2aWV3ID0gJ2pzJ31cIlxuXHQ+SlMgb3V0cHV0PC9idXR0b24+XG5cblx0PGJ1dHRvblxuXHRcdGNsYXNzOmFjdGl2ZT1cInt2aWV3ID09PSAnY3NzJ31cIlxuXHRcdG9uOmNsaWNrPVwieygpID0+IHZpZXcgPSAnY3NzJ31cIlxuXHQ+Q1NTIG91dHB1dDwvYnV0dG9uPlxuPC9kaXY+XG5cbjwhLS0gY29tcG9uZW50IHZpZXdlciAtLT5cbjxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiIGNsYXNzOnZpc2libGU9XCJ7dmlldyA9PT0gJ3Jlc3VsdCd9XCI+XG5cdDxWaWV3ZXJcblx0XHRiaW5kOnRoaXM9e3ZpZXdlcn1cblx0XHRiaW5kOmVycm9yPXtydW50aW1lRXJyb3J9XG5cdFx0e3N0YXR1c31cblx0XHR7cmVsYXhlZH1cblx0XHR7aW5qZWN0ZWRKU31cblx0XHR7aW5qZWN0ZWRDU1N9XG5cdC8+XG48L2Rpdj5cblxuPCEtLSBqcyBvdXRwdXQgLS0+XG48ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnRcIiBjbGFzczp2aXNpYmxlPVwie3ZpZXcgPT09ICdqcyd9XCI+XG5cdHsjaWYgZW1iZWRkZWR9XG5cdFx0PENvZGVNaXJyb3Jcblx0XHRcdGJpbmQ6dGhpcz17anNfZWRpdG9yfVxuXHRcdFx0bW9kZT1cImpzXCJcblx0XHRcdGVycm9yTG9jPXtzb3VyY2VFcnJvckxvY31cblx0XHRcdHJlYWRvbmx5XG5cdFx0Lz5cblx0ezplbHNlfVxuXHRcdDxTcGxpdFBhbmUgdHlwZT1cInZlcnRpY2FsXCIgcG9zPXs2N30+XG5cdFx0XHQ8ZGl2IHNsb3Q9XCJhXCI+XG5cdFx0XHRcdDxDb2RlTWlycm9yXG5cdFx0XHRcdFx0YmluZDp0aGlzPXtqc19lZGl0b3J9XG5cdFx0XHRcdFx0bW9kZT1cImpzXCJcblx0XHRcdFx0XHRlcnJvckxvYz17c291cmNlRXJyb3JMb2N9XG5cdFx0XHRcdFx0cmVhZG9ubHlcblx0XHRcdFx0Lz5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8c2VjdGlvbiBzbG90PVwiYlwiPlxuXHRcdFx0XHQ8aDM+Q29tcGlsZXIgb3B0aW9uczwvaDM+XG5cblx0XHRcdFx0PENvbXBpbGVyT3B0aW9ucyBiaW5kOmZvbz17Zm9vfS8+XG5cdFx0XHQ8L3NlY3Rpb24+XG5cdFx0PC9TcGxpdFBhbmU+XG5cdHsvaWZ9XG48L2Rpdj5cblxuPCEtLSBjc3Mgb3V0cHV0IC0tPlxuPGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCIgY2xhc3M6dmlzaWJsZT1cInt2aWV3ID09PSAnY3NzJ31cIj5cblx0PENvZGVNaXJyb3Jcblx0XHRiaW5kOnRoaXM9e2Nzc19lZGl0b3J9XG5cdFx0bW9kZT1cImNzc1wiXG5cdFx0ZXJyb3JMb2M9e3NvdXJjZUVycm9yTG9jfVxuXHRcdHJlYWRvbmx5XG5cdC8+XG48L2Rpdj5cbiIsImNvbnN0IHdvcmtlcnMgPSBuZXcgTWFwKCk7XG5cbmxldCB1aWQgPSAxO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdW5kbGVyIHtcblx0Y29uc3RydWN0b3IoeyB3b3JrZXJzVXJsLCBwYWNrYWdlc1VybCwgc3ZlbHRlVXJsLCBvbnN0YXR1cyB9KSB7XG5cdFx0Y29uc3QgaGFzaCA9IGAke3BhY2thZ2VzVXJsfToke3N2ZWx0ZVVybH1gO1xuXG5cdFx0aWYgKCF3b3JrZXJzLmhhcyhoYXNoKSkge1xuXHRcdFx0Y29uc3Qgd29ya2VyID0gbmV3IFdvcmtlcihgJHt3b3JrZXJzVXJsfS9idW5kbGVyLmpzYCk7XG5cdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UoeyB0eXBlOiAnaW5pdCcsIHBhY2thZ2VzVXJsLCBzdmVsdGVVcmwgfSk7XG5cdFx0XHR3b3JrZXJzLnNldChoYXNoLCB3b3JrZXIpO1xuXHRcdH1cblxuXHRcdHRoaXMud29ya2VyID0gd29ya2Vycy5nZXQoaGFzaCk7XG5cblx0XHR0aGlzLmhhbmRsZXJzID0gbmV3IE1hcCgpO1xuXG5cdFx0dGhpcy53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ZW50ID0+IHtcblx0XHRcdGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChldmVudC5kYXRhLnVpZCk7XG5cblx0XHRcdGlmIChoYW5kbGVyKSB7IC8vIGlmIG5vIGhhbmRsZXIsIHdhcyBtZWFudCBmb3IgYSBkaWZmZXJlbnQgUkVQTFxuXHRcdFx0XHRpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnc3RhdHVzJykge1xuXHRcdFx0XHRcdG9uc3RhdHVzKGV2ZW50LmRhdGEubWVzc2FnZSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0b25zdGF0dXMobnVsbCk7XG5cdFx0XHRcdGhhbmRsZXIoZXZlbnQuZGF0YSk7XG5cdFx0XHRcdHRoaXMuaGFuZGxlcnMuZGVsZXRlKGV2ZW50LmRhdGEudWlkKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGJ1bmRsZShjb21wb25lbnRzKSB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bGZpbCA9PiB7XG5cdFx0XHR0aGlzLmhhbmRsZXJzLnNldCh1aWQsIGZ1bGZpbCk7XG5cblx0XHRcdHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0dWlkLFxuXHRcdFx0XHR0eXBlOiAnYnVuZGxlJyxcblx0XHRcdFx0Y29tcG9uZW50c1xuXHRcdFx0fSk7XG5cblx0XHRcdHVpZCArPSAxO1xuXHRcdH0pO1xuXHR9XG5cblx0ZGVzdHJveSgpIHtcblx0XHR0aGlzLndvcmtlci50ZXJtaW5hdGUoKTtcblx0fVxufSIsIjxzY3JpcHQ+XG5cdGltcG9ydCB7IG9uTW91bnQsIHNldENvbnRleHQsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9IGZyb20gJ3N2ZWx0ZSc7XG5cdGltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSAnc3ZlbHRlL3N0b3JlJztcblx0aW1wb3J0IFNwbGl0UGFuZSBmcm9tICcuL1NwbGl0UGFuZS5zdmVsdGUnO1xuXHRpbXBvcnQgQ29kZU1pcnJvciBmcm9tICcuL0NvZGVNaXJyb3Iuc3ZlbHRlJztcblx0aW1wb3J0IENvbXBvbmVudFNlbGVjdG9yIGZyb20gJy4vSW5wdXQvQ29tcG9uZW50U2VsZWN0b3Iuc3ZlbHRlJztcblx0aW1wb3J0IE1vZHVsZUVkaXRvciBmcm9tICcuL0lucHV0L01vZHVsZUVkaXRvci5zdmVsdGUnO1xuXHRpbXBvcnQgT3V0cHV0IGZyb20gJy4vT3V0cHV0L2luZGV4LnN2ZWx0ZSc7XG5cdGltcG9ydCBCdW5kbGVyIGZyb20gJy4vQnVuZGxlci5qcyc7XG5cdGltcG9ydCB7IGlzX2Jyb3dzZXIgfSBmcm9tICcuL2Vudi5qcyc7XG5cblx0ZXhwb3J0IGxldCB3b3JrZXJzVXJsO1xuXHRleHBvcnQgbGV0IHBhY2thZ2VzVXJsID0gJ2h0dHBzOi8vdW5wa2cuY29tJztcblx0ZXhwb3J0IGxldCBzdmVsdGVVcmwgPSBgJHtwYWNrYWdlc1VybH0vc3ZlbHRlYDtcblx0ZXhwb3J0IGxldCBlbWJlZGRlZCA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IG9yaWVudGF0aW9uID0gJ2NvbHVtbnMnO1xuXHRleHBvcnQgbGV0IHJlbGF4ZWQgPSBmYWxzZTtcblx0ZXhwb3J0IGxldCBmaXhlZCA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGZpeGVkUG9zID0gNTA7XG5cdGV4cG9ydCBsZXQgaW5qZWN0ZWRKUyA9ICcnO1xuXHRleHBvcnQgbGV0IGluamVjdGVkQ1NTID0gJyc7XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIHRvSlNPTigpIHtcblx0XHQvLyBUT0RPIHRoZXJlJ3MgYSBidWcgaGVyZSDigJQgU3ZlbHRlIGhvaXN0cyB0aGlzIGZ1bmN0aW9uIGJlY2F1c2Vcblx0XHQvLyBpdCB3cm9uZ2x5IHRoaW5ncyB0aGF0ICRjb21wb25lbnRzIGlzIGdsb2JhbC4gTmVlZHMgdG9cblx0XHQvLyBmYWN0b3IgaW4gJCB2YXJpYWJsZXMgd2hlbiBkZXRlcm1pbmluZyBob2lzdGFiaWxpdHlcblxuXHRcdHN2ZWx0ZVVybDsgLy8gd29ya2Fyb3VuZFxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGltcG9ydHM6ICRidW5kbGUuaW1wb3J0cyxcblx0XHRcdGNvbXBvbmVudHM6ICRjb21wb25lbnRzXG5cdFx0fTtcblx0fVxuXG5cdGV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXQoZGF0YSkge1xuXHRcdGNvbXBvbmVudHMuc2V0KGRhdGEuY29tcG9uZW50cyk7XG5cdFx0c2VsZWN0ZWQuc2V0KGRhdGEuY29tcG9uZW50c1swXSk7XG5cblx0XHRyZWJ1bmRsZSgpO1xuXG5cdFx0YXdhaXQgbW9kdWxlX2VkaXRvcl9yZWFkeTtcblx0XHRhd2FpdCBvdXRwdXRfcmVhZHk7XG5cblx0XHRpbmplY3RlZENTUyA9IGRhdGEuY3NzIHx8ICcnO1xuXHRcdG1vZHVsZV9lZGl0b3Iuc2V0KCRzZWxlY3RlZC5zb3VyY2UsICRzZWxlY3RlZC50eXBlKTtcblx0XHRvdXRwdXQuc2V0KCRzZWxlY3RlZCwgJGNvbXBpbGVfb3B0aW9ucyk7XG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gdXBkYXRlKGRhdGEpIHtcblx0XHRjb25zdCB7IG5hbWUsIHR5cGUgfSA9ICRzZWxlY3RlZCB8fCB7fTtcblxuXHRcdGNvbXBvbmVudHMuc2V0KGRhdGEuY29tcG9uZW50cyk7XG5cblx0XHRjb25zdCBtYXRjaGVkX2NvbXBvbmVudCA9IGRhdGEuY29tcG9uZW50cy5maW5kKGZpbGUgPT4gZmlsZS5uYW1lID09PSBuYW1lICYmIGZpbGUudHlwZSA9PT0gdHlwZSk7XG5cdFx0c2VsZWN0ZWQuc2V0KG1hdGNoZWRfY29tcG9uZW50IHx8IGRhdGEuY29tcG9uZW50c1swXSk7XG5cblx0XHRpbmplY3RlZENTUyA9IGRhdGEuY3NzIHx8ICcnO1xuXG5cdFx0aWYgKG1hdGNoZWRfY29tcG9uZW50KSB7XG5cdFx0XHRtb2R1bGVfZWRpdG9yLnVwZGF0ZShtYXRjaGVkX2NvbXBvbmVudC5zb3VyY2UpO1xuXHRcdFx0b3V0cHV0LnVwZGF0ZShtYXRjaGVkX2NvbXBvbmVudCwgJGNvbXBpbGVfb3B0aW9ucyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1vZHVsZV9lZGl0b3Iuc2V0KG1hdGNoZWRfY29tcG9uZW50LnNvdXJjZSwgbWF0Y2hlZF9jb21wb25lbnQudHlwZSk7XG5cdFx0XHRvdXRwdXQuc2V0KG1hdGNoZWRfY29tcG9uZW50LCAkY29tcGlsZV9vcHRpb25zKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIXdvcmtlcnNVcmwpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYFlvdSBtdXN0IHN1cHBseSB3b3JrZXJzVXJsIHByb3AgdG8gPFJlcGw+YCk7XG5cdH1cblxuXHRjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xuXG5cdGNvbnN0IGNvbXBvbmVudHMgPSB3cml0YWJsZShbXSk7XG5cdGNvbnN0IHNlbGVjdGVkID0gd3JpdGFibGUobnVsbCk7XG5cdGNvbnN0IGJ1bmRsZSA9IHdyaXRhYmxlKG51bGwpO1xuXG5cdGNvbnN0IGNvbXBpbGVfb3B0aW9ucyA9IHdyaXRhYmxlKHtcblx0XHRnZW5lcmF0ZTogJ2RvbScsXG5cdFx0ZGV2OiBmYWxzZSxcblx0XHRjc3M6IGZhbHNlLFxuXHRcdGh5ZHJhdGFibGU6IGZhbHNlLFxuXHRcdGN1c3RvbUVsZW1lbnQ6IGZhbHNlLFxuXHRcdGltbXV0YWJsZTogZmFsc2UsXG5cdFx0bGVnYWN5OiBmYWxzZVxuXHR9KTtcblxuXHRsZXQgbW9kdWxlX2VkaXRvcjtcblx0bGV0IG91dHB1dDtcblxuXHRsZXQgY3VycmVudF90b2tlbjtcblx0YXN5bmMgZnVuY3Rpb24gcmVidW5kbGUoKSB7XG5cdFx0Y29uc3QgdG9rZW4gPSBjdXJyZW50X3Rva2VuID0ge307XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgYnVuZGxlci5idW5kbGUoJGNvbXBvbmVudHMpO1xuXHRcdGlmIChyZXN1bHQgJiYgdG9rZW4gPT09IGN1cnJlbnRfdG9rZW4pIGJ1bmRsZS5zZXQocmVzdWx0KTtcblx0fVxuXG5cdC8vIFRPRE8gdGhpcyBpcyBhIGhvcnJpYmxlIGtsdWRnZSwgd3JpdHRlbiBpbiBhIHBhbmljLiBmaXggaXRcblx0bGV0IGZ1bGZpbF9tb2R1bGVfZWRpdG9yX3JlYWR5O1xuXHRsZXQgbW9kdWxlX2VkaXRvcl9yZWFkeSA9IG5ldyBQcm9taXNlKGYgPT4gZnVsZmlsX21vZHVsZV9lZGl0b3JfcmVhZHkgPSBmKTtcblxuXHRsZXQgZnVsZmlsX291dHB1dF9yZWFkeTtcblx0bGV0IG91dHB1dF9yZWFkeSA9IG5ldyBQcm9taXNlKGYgPT4gZnVsZmlsX291dHB1dF9yZWFkeSA9IGYpO1xuXG5cblx0c2V0Q29udGV4dCgnUkVQTCcsIHtcblx0XHRjb21wb25lbnRzLFxuXHRcdHNlbGVjdGVkLFxuXHRcdGJ1bmRsZSxcblx0XHRjb21waWxlX29wdGlvbnMsXG5cblx0XHRyZWJ1bmRsZSxcblxuXHRcdG5hdmlnYXRlOiBpdGVtID0+IHtcblx0XHRcdGNvbnN0IG1hdGNoID0gL14oLispXFwuKFxcdyspJC8uZXhlYyhpdGVtLmZpbGVuYW1lKTtcblx0XHRcdGlmICghbWF0Y2gpIHJldHVybjsgLy8gPz8/XG5cblx0XHRcdGNvbnN0IFssIG5hbWUsIHR5cGVdID0gbWF0Y2g7XG5cdFx0XHRjb25zdCBjb21wb25lbnQgPSAkY29tcG9uZW50cy5maW5kKGMgPT4gYy5uYW1lID09PSBuYW1lICYmIGMudHlwZSA9PT0gdHlwZSk7XG5cdFx0XHRoYW5kbGVfc2VsZWN0KGNvbXBvbmVudCk7XG5cblx0XHRcdC8vIFRPRE8gc2VsZWN0IHRoZSBsaW5lL2NvbHVtbiBpbiBxdWVzdGlvblxuXHRcdH0sXG5cblx0XHRoYW5kbGVfY2hhbmdlOiBldmVudCA9PiB7XG5cdFx0XHRzZWxlY3RlZC51cGRhdGUoY29tcG9uZW50ID0+IHtcblx0XHRcdFx0Ly8gVE9ETyB0aGlzIGlzIGEgYml0IGhhY2t5IOKAlCB3ZSdyZSByZWx5aW5nIG9uIG11dGFiaWxpdHlcblx0XHRcdFx0Ly8gc28gdGhhdCB1cGRhdGluZyBjb21wb25lbnRzIHdvcmtzLi4uIG1pZ2h0IGJlIGJldHRlclxuXHRcdFx0XHQvLyBpZiBhKSBjb21wb25lbnRzIGhhZCB1bmlxdWUgSURzLCBiKSB3ZSB0cmFja2VkIHNlbGVjdGVkXG5cdFx0XHRcdC8vICppbmRleCogcmF0aGVyIHRoYW4gY29tcG9uZW50LCBhbmQgYykgYHNlbGVjdGVkYCB3YXNcblx0XHRcdFx0Ly8gZGVyaXZlZCBmcm9tIGBjb21wb25lbnRzYCBhbmQgYGluZGV4YFxuXHRcdFx0XHRjb21wb25lbnQuc291cmNlID0gZXZlbnQuZGV0YWlsLnZhbHVlO1xuXHRcdFx0XHRyZXR1cm4gY29tcG9uZW50O1xuXHRcdFx0fSk7XG5cblx0XHRcdGNvbXBvbmVudHMudXBkYXRlKGMgPT4gYyk7XG5cblx0XHRcdC8vIHJlY29tcGlsZSBzZWxlY3RlZCBjb21wb25lbnRcblx0XHRcdG91dHB1dC51cGRhdGUoJHNlbGVjdGVkLCAkY29tcGlsZV9vcHRpb25zKTtcblxuXHRcdFx0cmVidW5kbGUoKTtcblxuXHRcdFx0ZGlzcGF0Y2goJ2NoYW5nZScsIHtcblx0XHRcdFx0Y29tcG9uZW50czogJGNvbXBvbmVudHNcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRyZWdpc3Rlcl9tb2R1bGVfZWRpdG9yKGVkaXRvcikge1xuXHRcdFx0bW9kdWxlX2VkaXRvciA9IGVkaXRvcjtcblx0XHRcdGZ1bGZpbF9tb2R1bGVfZWRpdG9yX3JlYWR5KCk7XG5cdFx0fSxcblxuXHRcdHJlZ2lzdGVyX291dHB1dChoYW5kbGVycykge1xuXHRcdFx0b3V0cHV0ID0gaGFuZGxlcnM7XG5cdFx0XHRmdWxmaWxfb3V0cHV0X3JlYWR5KCk7XG5cdFx0fSxcblxuXHRcdHJlcXVlc3RfZm9jdXMoKSB7XG5cdFx0XHRtb2R1bGVfZWRpdG9yLmZvY3VzKCk7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiBoYW5kbGVfc2VsZWN0KGNvbXBvbmVudCkge1xuXHRcdHNlbGVjdGVkLnNldChjb21wb25lbnQpO1xuXHRcdG1vZHVsZV9lZGl0b3Iuc2V0KGNvbXBvbmVudC5zb3VyY2UsIGNvbXBvbmVudC50eXBlKTtcblx0XHRvdXRwdXQuc2V0KCRzZWxlY3RlZCwgJGNvbXBpbGVfb3B0aW9ucyk7XG5cdH1cblxuXHRsZXQgaW5wdXQ7XG5cdGxldCBzb3VyY2VFcnJvckxvYztcblx0bGV0IHJ1bnRpbWVFcnJvckxvYzsgLy8gVE9ETyByZWZhY3RvciB0aGlzIHN0dWZmIOKAlCBydW50aW1lRXJyb3JMb2MgaXMgdW51c2VkXG5cdGxldCBzdGF0dXMgPSBudWxsO1xuXG5cdGNvbnN0IGJ1bmRsZXIgPSBpc19icm93c2VyICYmIG5ldyBCdW5kbGVyKHtcblx0XHR3b3JrZXJzVXJsLFxuXHRcdHBhY2thZ2VzVXJsLFxuXHRcdHN2ZWx0ZVVybCxcblx0XHRvbnN0YXR1czogbWVzc2FnZSA9PiB7XG5cdFx0XHRzdGF0dXMgPSBtZXNzYWdlO1xuXHRcdH1cblx0fSk7XG5cblx0JDogaWYgKG91dHB1dCAmJiAkc2VsZWN0ZWQpIHtcblx0XHRvdXRwdXQudXBkYXRlKCRzZWxlY3RlZCwgJGNvbXBpbGVfb3B0aW9ucyk7XG5cdH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG5cdC5jb250YWluZXIge1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdH1cblxuXHQuY29udGFpbmVyIDpnbG9iYWwoc2VjdGlvbikge1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHRwYWRkaW5nOiA0MnB4IDAgMCAwO1xuXHRcdGhlaWdodDogMTAwJTtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHR9XG5cblx0LmNvbnRhaW5lciA6Z2xvYmFsKHNlY3Rpb24pID4gOmdsb2JhbCgqKTpmaXJzdC1jaGlsZCB7XG5cdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdHRvcDogMDtcblx0XHRsZWZ0OiAwO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHRcdGhlaWdodDogNDJweDtcblx0XHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xuXHR9XG5cblx0LmNvbnRhaW5lciA6Z2xvYmFsKHNlY3Rpb24pID4gOmdsb2JhbCgqKTpsYXN0LWNoaWxkIHtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRoZWlnaHQ6IDEwMCU7XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIiBjbGFzczpvcmllbnRhdGlvbj5cblx0PFNwbGl0UGFuZVxuXHRcdHR5cGU9XCJ7b3JpZW50YXRpb24gPT09ICdyb3dzJyA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCd9XCJcblx0XHRwb3M9XCJ7Zml4ZWQgPyBmaXhlZFBvcyA6IG9yaWVudGF0aW9uID09PSAncm93cycgPyA1MCA6IDYwfVwiXG5cdFx0e2ZpeGVkfVxuXHQ+XG5cdFx0PHNlY3Rpb24gc2xvdD1hPlxuXHRcdFx0PENvbXBvbmVudFNlbGVjdG9yIHtoYW5kbGVfc2VsZWN0fS8+XG5cdFx0XHQ8TW9kdWxlRWRpdG9yIGJpbmQ6dGhpcz17aW5wdXR9IGVycm9yTG9jPVwie3NvdXJjZUVycm9yTG9jIHx8IHJ1bnRpbWVFcnJvckxvY31cIi8+XG5cdFx0PC9zZWN0aW9uPlxuXG5cdFx0PHNlY3Rpb24gc2xvdD1iIHN0eWxlPSdoZWlnaHQ6IDEwMCU7Jz5cblx0XHRcdDxPdXRwdXQge3N2ZWx0ZVVybH0ge3dvcmtlcnNVcmx9IHtzdGF0dXN9IHtlbWJlZGRlZH0ge3JlbGF4ZWR9IHtpbmplY3RlZEpTfSB7aW5qZWN0ZWRDU1N9Lz5cblx0XHQ8L3NlY3Rpb24+XG5cdDwvU3BsaXRQYW5lPlxuPC9kaXY+XG4iXSwibmFtZXMiOlsibm9vcCIsInNhZmVfbm90X2VxdWFsIiwiZ2V0Q29udGV4dCIsImNyZWF0ZUV2ZW50RGlzcGF0Y2hlciIsIm9uTW91bnQiLCJ1aWQiLCJ3b3JrZXJzIiwic2V0Q29udGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHQSxNQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztBQUM1QixBQVVBOzs7OztBQUtBLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLEdBQUdBLFVBQUksRUFBRTtJQUNuQyxJQUFJLElBQUksQ0FBQztJQUNULE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUN2QixTQUFTLEdBQUcsQ0FBQyxTQUFTLEVBQUU7UUFDcEIsSUFBSUMsb0JBQWMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUU7WUFDbEMsS0FBSyxHQUFHLFNBQVMsQ0FBQztZQUNsQixJQUFJLElBQUksRUFBRTtnQkFDTixNQUFNLFNBQVMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQztnQkFDM0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDNUMsTUFBTSxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDUCxnQkFB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
